---
layout: post
title: Curso de Shell Script parte 1
date: '2015-01-02T03:54:00.000-08:00'
description: Curso de Shell Script parte 1
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
modified_time: '2015-01-02T03:54:22.093-08:00'
thumbnail: http://2.bp.blogspot.com/-cYx3LMXO5Yc/VKaGxVIInNI/AAAAAAAABHk/zrxjpxV7Xo8/s72-c/icon175x175.png
twitter_text: Curso de Shell Script parte 1
introduction: Curso de Shell Script parte 1
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-cYx3LMXO5Yc/VKaGxVIInNI/AAAAAAAABHk/zrxjpxV7Xo8/s1600/icon175x175.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-cYx3LMXO5Yc/VKaGxVIInNI/AAAAAAAABHk/zrxjpxV7Xo8/s1600/icon175x175.png" /></a></div><br /><b>Vamos inciar um curso de <span style="color: blue;">Shell Script</span> aqui e pra começar do início devemos aprender alguns comandos Linux, não todos, porque são tantos que parecem infinitos(risos), mas vou citar os principais e os que eu mais uso.</b><br /><b><br /></b><br /><blockquote class="tr_bq"><b>Shell script é uma linguagem de script usada em vários sistemas operativos (operacionais), com diferentes dialetos, dependendo do interpretador de comandos utilizado. Um exemplo de interpretador de comandos é o bash, usado na grande maioria das distribuições GNU/Linux.Linux possui o Case Sensitive, ou seja, diferencia Maiúsculas de minúsculas.</b></blockquote><b><br /></b><br /><b>Essa linguagem foi a primeira Linguagem de Programação que eu aprendi, ela é bme simples e útil para agilizar sua tarefas, então, vamos aos comandos, pra iniciar é necessário que pelo próprio Bash podemos aprender os comandos, utilizando: man COMANDO ou COMANDO --help.</b><br /><br />{% highlight bash %}<br /><b># <span style="color: blue;">ls</span> - mostra arquivos e diretórios de um determinado Diretório (ls -a, também mostra arquivos ocultos), (ls -l, mostra as permissões)...<br /># <span style="color: blue;">mkdir</span> - cria um diretório, ex.: mkdir teste esse comando cria o diretório, pasta, de nome: teste).<br /># <span style="color: blue;">cp</span> - copia arquivos, cp [origem] [destino], ex.: cp /home/meuusuario/arquivo.x /home/meuusuario/Desktop (copia o arquivo.x da pasta meuusuario para Desktop), -R # # serve pra copiar diretórios e seus sub-diretórios (-R = recursivamente)...<br /># <span style="color: blue;">mv</span> - move ou renomeia um arquivo<br /># <span style="color: blue;">rm</span> - deleta arquivos, ex.: rm /home/meusuario/arquivo.x (rm -rf, deleta recursivamente de maneira forçada, serve para diretórios)<br /># <span style="color: blue;">rmdir</span> - remove diretórios (uso pouco esse, prefiro usar: rm -rf)<br /># <span style="color: blue;">clear</span> - limpa a tela (uso pouco também)<br /># <span style="color: blue;">exit</span> - sai do usuario logado, se não for root, sai do terminal.<br /># <span style="color: blue;">df</span> - mostra o espaço usado na partição (df -H, mostra o espaço em GB, uso mais esse)<br /># <span style="color: blue;">vim</span> - abre o vim (breve falaremos mais sobre esse editor, talvez a próxima parte deste curso)<br /># <span style="color: blue;">find</span> - procura arquivos ou diretório, ex.: (find /home -name arquivo.x 2 &gt; /dev/null) a opção 2 /dev/null, vc joga para o vazio as mensagens de falta de permissão # para entrar naquele determinado diretório, ou seja, em /dev ficam os dispositivos do sistema o stdin é a entrada o stout é a saída (name - busca por nome, type - # # busca por tipo, size - busca pelo tamanho do arquivo, mtime - busca por data de modificação)...<br /># <span style="color: blue;">last</span> - mostra os logs no sistema (last -a, uso muito, utilize o man  ou --help para mais informações)...<br /># <span style="color: blue;">last</span>&nbsp;– Mostra todas informações referente as entradas (login) e saídas (logout) de usuários do sistema.<br /># <span style="color: blue;">last -a</span>&nbsp;para exibir estas informações mostrando o nome da maquina de onde foi efetuado os logins.<br /># <span style="color: blue;">last -d</span> - para exibir estas informações mostrando o&nbsp;endereço IP&nbsp;da maquina de onde foi efetuado os logins.<br /># <span style="color: blue;">last reboot</span> -&nbsp;para exibir um registro de todas as reinicializações efetuadas no sistema.<br /># <span style="color: blue;">lastlog</span>&nbsp;– Exibe informações referente ao último login de cada usuário cadastrado no sistema. Caso nenhum argumento seja passado, o comando&nbsp;lastlog&nbsp;exibe todas as # informações armazenadas no arquivo “/var/log/lastlog” de todos os usuários do sistema.<br /># <span style="color: blue;">lastlog -u fulano</span> para exibir informações referentes apenas ao último login do usuário fulano.<br /># <span style="color: blue;">lastlog -t 5</span> - &nbsp;para exibir a lista dos usuários que logaram no sistema nos últimos 5 dias informando o dia e a hora do último acesso de cada um desses usuários.<br /># <span style="color: blue;">pwd</span> - mostra o diretório em que estamos.<br /><br /># <span style="color: blue;">chmod</span> - altera as permissões do arquivo , ex: chmod u+r, g+r, o+r arquivo, ex.: chmod 775 [arquivo ou diretório]<br />permissão de arquivos -&gt; r (read) ; w (write) ; x (executa).<br />u -&gt; dono<br />g -&gt; grupo<br />a -&gt; todos<br />sinais -&gt; + (acrescenta permissões) ; - (retira permissões) ; = (iguala permissões).<br />ele lista as permissões do arquivo : 0(nenhuma permissão=-);1(execução=x);2(gravação=w);3(execução e gravação=xw);4(leitura=r);5(leitura e execução=rx);<br />6(gravação e leitura=wr);7(execução gravação e leitura=rwx).<br />q - para sair do man (quit).<br /><br /># <span style="color: blue;">touch</span> - cria um arquivo, ex.: touch teste.txt (cria o arquivo teste.txt em branco)<br /># <span style="color: blue;">echo</span>  - printa algo, se vc fier: echo Oi mundo &gt; teste.txt, ele coloca Oi mundo na primeira linha, se não existir o arquivo ele tb cria o arquivo.<br /># <span style="color: blue;">cat</span>   -<arquivo.txt> mostra o conteúdo do arquivo (utilize tb os comandos: more e less), se você usar: cat teste.txt &gt;&gt; teste2.txt (isso adicionará o conteúdo do teste.txt dentro do teste2.txt, sem apagá-lo, a partir da ultima linha do texte2.txt, se vc usar só '&gt;' em vez de '&gt;&gt;' vc altera o teste.txt para ser teste2.txt)<br /># <span style="color: blue;">split</span> - inversos de cat, divide arquivos, ex.: split -b 1 teste2.txt novo , (dividi o arquivo teste2.txt em diversos arquivos de 1 byte, se tiver 10bytes serão 10 arquivo: novoa, novob, novoc...)<br /># <span style="color: blue;">fdisk -l</span> - lista as partições do HD<br /># <span style="color: blue;">mount</span> - monta um dispositivo ou partição, ex.: mount /dev/sda3 /mnt/pasta (monta a partição sda3 dentro da pasta /mnt/pasta)<br /># <span style="color: blue;">umount</span> - desmonta um dispositivo ou partição, ex.: umount /mnt/pasta<br /># head - visualiza as 10 primeiras linhas de um arquivo o (-n é usado para informar qnts linhas vc deseja ler, ex.: -n 20).<br /># <span style="color: blue;">tail</span> arquivo.txt - inverso do head,lê um arquivo começando da ultima as 10 ultimas linhas(muito usado pra verificar logs).<br /># <span style="color: blue;">ps</span> - lista os processo, ex.: ps -U marcos (lista os processos para o usuário marcos).<br /># <span style="color: blue;">kill</span> - mata um processo<br /></arquivo.txt></b>{% endhighlight %}<br /><b>+ comandos</b><br /><b>{% highlight bash %}<br /># <span style="color: blue;">killall</span> - mata todos os processos de tal aplicativo, ex.: killall firefox (mata o firefox, firefox-bin...)<br /># <span style="color: blue;">pidof</span> - numero de processo de um PID ,exemplo: pidof httpd , retornará os PID do Apache<br /># <span style="color: blue;">who</span> - mostra quem está logado na máquina(whoami , mostra quem eu sou).<br /># <span style="color: blue;">free</span> - mostra a utilização da memória, a opção -m mostra a quantidade em Mb.<br /><br /># <span style="color: blue;">su</span> - troca ed usuário no terminal sem fazer logoff , ex: $ su root -&gt; deve-se colocar a senha(password) do usuario root.<br /><br /># <span style="color: blue;">pwd</span> - mostra em que diretório estamos<br /><br /># <span style="color: blue;">time</span> - mostra quanto tempo gasto para execução de um comando (time ls -l)<br /><br /># <span style="color: blue;">date</span> - mostra a data(SS MM DD) a hora (hh:mm:ss) a localidade e o ano.<br /><br />&nbsp; date 0627002412010 - alterará a data para jun 27 00:24 2010 ,ou seja (MMDDhhmmAAAA)<br /><br />MM=mês em dois dígitos;DD=dia em dois dígitos;hh=hora em dois digitos;mm=minutos em dois digitos;AAAA=ano em 4 dígitos.<br /><br /># <span style="color: blue;">cal</span> - para exibir o calendário (para exibir do ano inteiro deve-se colocar o anos na frente do comando, ex: cal 2010)<br /><br /># <span style="color: blue;">adduser</span> <nome_do_usuario_a_ser_criado> - criar novo usuario (2x Entre new Unix password:) é criada uma pasta em /etc/passwd/ ,as linhas tem enradas:<br /><br />root:x:0:0:root:/bin/bash (significa nome do usuario:a senha ou token de senha(criptografada geralmente em /etc/shadow):userid:groupid:nome verdadeiro:diretorio e se é usuario do shell) caso retire a entrada, o usuario nao poderá logar, útil para criação de email.userid deve-se usar acima de 500 para nao confudir com os do sistema.<br /><br /># <span style="color: blue;">chown</span> - altera o dono do arquivo, ex: chown usuario.grupo arquivo.txt<br /><br /># <span style="color: blue;">shutdown</span> - desliga o pc num tempo pre-definido exibindo uma mensagem antes de desligar.<br /><br /># <span style="color: blue;">ln</span> - cria links, ex.: <span style="color: blue;">ln -s</span> /home/usuario/Documentos/ link (cria o link para a pasta Documentos, ln -s [diretório ou arquivo] link )<br /><br /># <span style="color: blue;">reboot</span> - reinicia o computador<br /># <span style="color: blue;">uptime</span> - mostra quanto tempo já está logado no Linux<br /># <span style="color: blue;">wc</span> [arquivo] - conta linhas,palavras e letras(nessa ordem) de um arquivo.<br /># <span style="color: blue;">tar</span> - compacta (-cf Create Files)  e descompacta (-xf Xtract Files), ex.: tar -cf arquivo_a_ser_criado.tar [arquivo ou diretório]<br />[/nome_do_usuario_a_ser_criado]</nome_do_usuario_a_ser_criado>{% endhighlight %}</b><br /><b><br /></b><br /><b>E por fim...</b><br />{% highlight bash %}<b><br /># <span style="color: blue;">bash</span> - EXECUTA UM ARQUIVO Shell Script(pode -se usar também o '<span style="color: blue;">./</span>arquivo' ou <span style="color: blue;">sh</span> ).</b><br />{% endhighlight %}<br /><b>Bom existem inúmeros outros comandos, se quiser saber mais, consulte esse <a href="http://books.google.com.br/books?id=ba4EJ9dfTt0C&amp;printsec=frontcover&amp;dq=shell+script&amp;hl=pt-BR&amp;ei=5FAfTb-iN4OclgeliImCDA&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=2&amp;ved=0CC0Q6AEwAQ#v=onepage&amp;q=shell%20script&amp;f=false" target="_blank"><span style="color: #274e13;">Livro On Line do Google Livros</span> <span style="color: blue;">CLASSIC SHELL SCRIPT</span></a>, foi o mais completo que eu vi até hoje, até a próxima parte do Curso, onde aprederemos os módulos básicos do Shell.</b>