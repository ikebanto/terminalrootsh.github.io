---
layout: post
title: Transformando múltiplos arquivos FLV para MP3 com Shell Script
date: '2014-09-06T21:40:00.000-07:00'
author: Marcos Oliveira
tags:
- Shell Script
modified_time: '2014-09-06T21:40:13.691-07:00'
thumbnail: http://1.bp.blogspot.com/-_gUy0yQTqZM/UkjQtOlbfaI/AAAAAAAACbc/bn9SFHwydy8/s72-c/shell+script2.png
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-1839912713224391894
blogger_orig_url: http://www.terminalroot.com.br/2014/09/transformando-multiplos-arquivos-flv.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-_gUy0yQTqZM/UkjQtOlbfaI/AAAAAAAACbc/bn9SFHwydy8/s1600/shell+script2.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-_gUy0yQTqZM/UkjQtOlbfaI/AAAAAAAACbc/bn9SFHwydy8/s320/shell+script2.png" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><i><span style="font-size: large;"><b>Segue Script baixo: </b></span></i><br /><br /><b>PasteBin</b>:<br /><script src="http://pastebin.com/embed_js.php?i=5EhK3MSZ"></script> <br /><b>CodeBlog</b>:<br /><div class="adp">#!/bin/bash<br /># --------------------------------------<br /># ./flv2mp3.sh<br />#<br /># Transformando múltiplos arquivos FLV para MP3 com Shell Script<br />#<br /># Uso: ./flv2mp3.sh<br />#<br />#<br /># Autor: Marcos da B. M. Oliveira , http://www.terminalroot.com.br/<br /># Desde: Dom 20 Out 2013 12:08:04 BRST <br /># Licença: GPL<br /># --------------------------------------<br />preparando(){<br />&nbsp;&nbsp;&nbsp; reset<br />&nbsp;&nbsp;&nbsp; echo<br />&nbsp;&nbsp;&nbsp; printf "\33[1;31m[+]Preparando para transformar: \33[0m" &amp;&amp;<br />&nbsp;&nbsp;&nbsp; a=1;<br />&nbsp;&nbsp;&nbsp; sp="/-\|";<br />&nbsp;&nbsp;&nbsp; echo -n ' ';<br />&nbsp;&nbsp;&nbsp; while [ $a -le 50000 ];<br />&nbsp;&nbsp;&nbsp; do<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf "\b${sp:a++%${#sp}:1}"&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; <br />&nbsp;&nbsp;&nbsp; done&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; echo<br />&nbsp;&nbsp;&nbsp; echo<br />&nbsp;&nbsp;&nbsp; <br />}<br /><br /><br />transformando(){<br />&nbsp;for i in *.flv; do <br />&nbsp;&nbsp;&nbsp;&nbsp; printf "\33[1;33m[+]Transformando...: \33[4;34m$i\33[0m";<br />&nbsp;&nbsp;&nbsp;&nbsp; echo<br />&nbsp;&nbsp;&nbsp;&nbsp; NOVA=$(echo "$i" | rev | cut -c5- | rev)<br />&nbsp;&nbsp;&nbsp;&nbsp; ffmpeg -i "$i" -acodec libmp3lame -ar 44100 -ac 2 -ab 128 -vn -y "$NOVA".mp3 2&gt;/dev/null<br />&nbsp;done;<br />}<br /><br /><br />final(){<br /><br />if [ "$(ls *.flv | wc -l)" -le "$(ls *.mp3 2&gt;/dev/null | wc -l)" ]; then<br />&nbsp;&nbsp;&nbsp; echo<br />&nbsp;&nbsp;&nbsp; printf "\33[1;32m[+]Transformadas! :)\33[0m";<br />&nbsp;&nbsp;&nbsp; echo<br />&nbsp;&nbsp;&nbsp; echo<br />else<br />&nbsp;&nbsp;&nbsp; echo<br />&nbsp;&nbsp;&nbsp; printf "\33[1;31m[-]Alguma coisa deu errada.\n:(\33[0m";<br />&nbsp;&nbsp;&nbsp; echo<br />fi<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; <br />}<br /><br />preparando<br />transformando<br />final</div>