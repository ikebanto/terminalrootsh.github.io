---
layout: post
title: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
date: '2012-11-25T15:42:00.000-08:00'
description: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
main-class: 'linux'
color: '#3b5998'
author: The Bang Bash
tags:
- Linux
- LPI
modified_time: '2013-05-03T07:16:06.293-07:00'
thumbnail: http://1.bp.blogspot.com/-sQ8f9WpJBhk/ULKrax2dFDI/AAAAAAAAAxE/dNGNyD5UNsw/s72-c/15659.gif
twitter_text: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
introduction: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
---

<p>
<!-------------------------------------------------><script type="text/javascript"><!-- google_ad_client = "ca-pub-5528601613414387"; google_ad_host = "pub-1556223355139109"; /* quadrados */ google_ad_slot = "9713010559"; google_ad_width = 200; google_ad_height = 200; //</script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script><!-----------------------------------------------></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-sQ8f9WpJBhk/ULKrax2dFDI/AAAAAAAAAxE/dNGNyD5UNsw/s1600/15659.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="274" src="http://1.bp.blogspot.com/-sQ8f9WpJBhk/ULKrax2dFDI/AAAAAAAAAxE/dNGNyD5UNsw/s320/15659.gif" width="320" /></a></div><a href="http://www.blogger.com/blogger.g?blogID=3999208484595674897" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"></a><b>Cada arquivo no Linux tem o definido controle de acesso.Este controle é definidopor três classes:</p><p></p><p>-Permissões de usuário: Dono do arquivo(quem o criou).</p><p>-Permissões de grupo:&nbsp;&nbsp; grupo que ao qual ele pertence.</p><p>-Permissões de outros usuários: outros(não dono e outro grupo).</p><p></p><p>E para cada classe há 3 tipos de acesso:</p><p></p><p>-leitura(r)</p><p>-escrita(w)</p><p>-execução(x)</p><p></p><p></p><p></b></p><p><b>  </b></p><p><div class="separator" style="clear: both; text-align: center;"><b><a href="http://1.bp.blogspot.com/-LffPZ8DGQrU/ULKsHgku0XI/AAAAAAAAAxM/7-kLl7NLYmI/s1600/1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="175" src="http://1.bp.blogspot.com/-LffPZ8DGQrU/ULKsHgku0XI/AAAAAAAAAxM/7-kLl7NLYmI/s320/1.png" width="320" /></a></b></div><b></p><p></b></p><p><div class="separator" style="clear: both; text-align: center;"><b><a href="http://1.bp.blogspot.com/-UhiyzbIHdY0/ULKsIX7zycI/AAAAAAAAAxU/I2-8M4TgPu4/s1600/2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="204" src="http://1.bp.blogspot.com/-UhiyzbIHdY0/ULKsIX7zycI/AAAAAAAAAxU/I2-8M4TgPu4/s320/2.png" width="320" /></a></b></div><b></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-hjP89SoFkBs/ULKsJS01g1I/AAAAAAAAAxc/-XjQCknc1EQ/s1600/3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="215" src="http://3.bp.blogspot.com/-hjP89SoFkBs/ULKsJS01g1I/AAAAAAAAAxc/-XjQCknc1EQ/s320/3.png" width="320" /></a></div></p><p>Bits especiais.</p><p></p><p>Os 3 primeiros bits da esquerda para direita são bits de atributos especiais:</p><p>-SUID (Set User ID) - afeta somente arquivos executáveis</p><p>-SGID (Set Group ID) - afeta execução de programas do grupo do dono.</p><p>-Sticky (Stick Bit) - permance na memória mesmo depois de terminado(Colado na memória).</p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://www.blogger.com/blogger.g?blogID=3999208484595674897" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"></a><a href="http://1.bp.blogspot.com/-noAltA5nrNo/ULKsKDt-0aI/AAAAAAAAAxk/H5g2TPRKMaw/s1600/4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="207" src="http://1.bp.blogspot.com/-noAltA5nrNo/ULKsKDt-0aI/AAAAAAAAAxk/H5g2TPRKMaw/s320/4.png" width="320" /></a></div></p><p> <div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Qwwax0HuxPw/ULKqPOvicoI/AAAAAAAAAv8/WlCwqS-5jLI/s1600/5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="208" src="http://3.bp.blogspot.com/-Qwwax0HuxPw/ULKqPOvicoI/AAAAAAAAAv8/WlCwqS-5jLI/s320/5.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-YCsr5qK08HY/ULKqUNivtqI/AAAAAAAAAwI/czYE_RtV7QQ/s1600/6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="214" src="http://4.bp.blogspot.com/-YCsr5qK08HY/ULKqUNivtqI/AAAAAAAAAwI/czYE_RtV7QQ/s320/6.png" width="320" /></a></div></p><p>Como os bits de permissão especiais são utilizados com pouca frequência, e sob condições especiais, eles são representados pela letra (s) no lugar de (x) de execução para os bits SUID e SGID nas classes de Dono do arquivo e Grupo, e (t) no lugar de (x) para bit sticky na classe de Outros.</p><p></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Oo9_leUfJpY/ULKqae8AHHI/AAAAAAAAAwU/rDYzV7vck1E/s1600/7.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="171" src="http://2.bp.blogspot.com/-Oo9_leUfJpY/ULKqae8AHHI/AAAAAAAAAwU/rDYzV7vck1E/s320/7.png" width="320" /></a></div></p><p>Quando novos arquivos são criados no sistema, eles são criados com permissões definidas gravadas no perfil de cada usuário e configuradas pelo comando <i>umask</i>.</p><p>O comando <i>umask</i> mostra a máscara das permissões quando os arquivos são criados e aceira como argumento um número de 3 dígitos para configurar as permissões.</p><p>No Linux, as permissões padrão para criação de:</p><p></p><p>-arquivos = 666 (rw-rw-rw).</p><p>-diretórios = 777 (drwxrwxrwx).</p><p></p><p>Depois de definida a máscara de criação dos arquivos, ela deverá ser subtraída das permissões padrão, exemplo:</p><p></p><p>{% highlight bash %}$ umask 27{% endhighlight %}</p><p></p><p>O número 27 deverá ser lido como 027, e define od bits da máscara como:</p><p></p><p>-000 para Dono do arquivo.</p><p>-010 para Grupo</p><p>-111 para Outros.</p><p></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-PX-vOH-LQbc/ULKqkvL_BuI/AAAAAAAAAwg/gINNNUMLgJ8/s1600/8.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="203" src="http://2.bp.blogspot.com/-PX-vOH-LQbc/ULKqkvL_BuI/AAAAAAAAAwg/gINNNUMLgJ8/s320/8.png" width="320" /></a></div></p><p>O comando chmod</p><p></p><p>chmod (abreviação de <i>change mode</i>, em português: alterar modo) é um comando do Unix usado para alterar permissões de arquivos e diretórios (pastas). Sua sintaxe é a seguinte:</p><p></p><p>{% highlight bash %}$ chmod [opções] modo[,modo] arquivo1 [arquivo2 ...]{% endhighlight %}</p><p></p><p>Para a representação das permissões através de letras, você poderá utilizar:</p><p></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-WEKSQY-zbPA/ULKqqahuoBI/AAAAAAAAAws/qefgRW_qbFU/s1600/9.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="127" src="http://4.bp.blogspot.com/-WEKSQY-zbPA/ULKqqahuoBI/AAAAAAAAAws/qefgRW_qbFU/s320/9.png" width="320" /></a></div></p><p>Exemplo:</p><p></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://www.blogger.com/blogger.g?blogID=3999208484595674897" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="http://4.bp.blogspot.com/-Sc5bmhB55uY/ULKqvq2NwCI/AAAAAAAAAw4/cnm0JKI85Io/s1600/10.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="181" src="http://4.bp.blogspot.com/-Sc5bmhB55uY/ULKqvq2NwCI/AAAAAAAAAw4/cnm0JKI85Io/s320/10.png" width="320" /></a></div></p><p>O comando chown</p><p></p><p>O comando chown da shell de um sistema operacional do tipo Unix (como é o caso o GNU/Linux) é usado para alterar o dono de um determinado arquivo.Uso:</p><p></p><p><i>chown [opções] usuário arquivo</i></p><p></p><p>Exemplos:</p><p>{% highlight bash %}</p><p># chown root /var/run/httpd.pid</p><p># chown marcos:linux strace.log</p><p># chown nobody:nogroup /tmp /var/tmp</p><p># chown :512 /home</p><p># chown -R usuario:grupo{% endhighlight %}</p><p></p><p>Os comandos <i>chattr, lsattr e ln</i></p><p></p><p><u>chattr</u></p><p></p><p>Esse comando modifica os atributos de arquivos/diretórios:</p><p></p><p><i>chattr [opção] [atributo] [arquivo/diretório]</i></p><p></p><p><u>lsattr</u></p><p></p><p>Comando que lista os atributos atribuídos a um arquivo/diretório:</p><p></p><p><i>lsattr [opção] [arquivo/diretório]</i></p><p></p><p>O comando ln</p><p></p><p>O comando <i>ln</i> permite criar links. Existem dois tipos de links suportados pelo Linux, os <b>hard links(links físicos)</b> e os <b>links simbólicos</b>. Os links simbólicos têm uma função parecida com os atalhos do Windows, eles apontam para um arquivo, mas se o arquivo é movido para outro diretório o link fica quebrado. Os hard links(links físicos) são semelhantes aos atalhos do OS/2 da IBM, eles são mais intimamente ligados ao arquivo e são alterados junto com ele. Se o arquivo muda de lugar, o link é automaticamente atualizado.</p><p></p><p>O comando <i>ln</i> dado sem argumentos cria um hard link, como em:</p><p></p><p>{% highlight bash %}$ ln /home/marcos/arquivo.txt arquivo{% endhighlight %}</p><p></p><p>Onde será criado um link chamado "arquivo" no diretório corrente, que apontará para o arquivo.txt dentro do diretório /home/marcos</p><p></p><p>Para criar um link simbólico, basta acrescentar o argumento "-s", como em:</p><p></p><p>{% highlight bash %}$ ln -s /home/marcos/arquivo.txt arquivo{% endhighlight %}</p><p></p><p>{% highlight bash %}</p><p>&nbsp;&nbsp;&nbsp; -s : Cria um link simbólico. O padrão do comando ln são links físicos.</p><p>&nbsp;&nbsp;&nbsp; -f&nbsp; : Força a criação de um link mesmo que este já exista.</p><p>&nbsp;&nbsp;&nbsp; -i&nbsp; : Exibe número de identificação.{% endhighlight %}</b>

</p>
