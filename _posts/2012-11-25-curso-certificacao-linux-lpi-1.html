---
layout: post
title: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
date: '2012-11-25T15:42:00.000-08:00'
description: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
main-class: 'linux'
color: '#3b5998'
author: The Bang Bash
tags:
- Linux
- LPI
modified_time: '2013-05-03T07:16:06.293-07:00'
thumbnail: http://1.bp.blogspot.com/-sQ8f9WpJBhk/ULKrax2dFDI/AAAAAAAAAxE/dNGNyD5UNsw/s72-c/15659.gif
twitter_text: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
introduction: 'Curso Certificação Linux LPI-1: Trabalhando com Permissões'
---

<!-------------------------------------------------><script type="text/javascript"><!-- google_ad_client = "ca-pub-5528601613414387"; google_ad_host = "pub-1556223355139109"; /* quadrados */ google_ad_slot = "9713010559"; google_ad_width = 200; google_ad_height = 200; //</script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script><!-----------------------------------------------><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-sQ8f9WpJBhk/ULKrax2dFDI/AAAAAAAAAxE/dNGNyD5UNsw/s1600/15659.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="274" src="http://1.bp.blogspot.com/-sQ8f9WpJBhk/ULKrax2dFDI/AAAAAAAAAxE/dNGNyD5UNsw/s320/15659.gif" width="320" /></a></div><a href="http://www.blogger.com/blogger.g?blogID=3999208484595674897" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"></a><b>Cada arquivo no Linux tem o definido controle de acesso.Este controle é definidopor três classes:<br /><br />-Permissões de usuário: Dono do arquivo(quem o criou).<br />-Permissões de grupo:&nbsp;&nbsp; grupo que ao qual ele pertence.<br />-Permissões de outros usuários: outros(não dono e outro grupo).<br /><br />E para cada classe há 3 tipos de acesso:<br /><br />-leitura(r)<br />-escrita(w)<br />-execução(x)<br /><br /><br /></b><br /><b>  </b><br /><div class="separator" style="clear: both; text-align: center;"><b><a href="http://1.bp.blogspot.com/-LffPZ8DGQrU/ULKsHgku0XI/AAAAAAAAAxM/7-kLl7NLYmI/s1600/1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="175" src="http://1.bp.blogspot.com/-LffPZ8DGQrU/ULKsHgku0XI/AAAAAAAAAxM/7-kLl7NLYmI/s320/1.png" width="320" /></a></b></div><b><br /></b><br /><div class="separator" style="clear: both; text-align: center;"><b><a href="http://1.bp.blogspot.com/-UhiyzbIHdY0/ULKsIX7zycI/AAAAAAAAAxU/I2-8M4TgPu4/s1600/2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="204" src="http://1.bp.blogspot.com/-UhiyzbIHdY0/ULKsIX7zycI/AAAAAAAAAxU/I2-8M4TgPu4/s320/2.png" width="320" /></a></b></div><b><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-hjP89SoFkBs/ULKsJS01g1I/AAAAAAAAAxc/-XjQCknc1EQ/s1600/3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="215" src="http://3.bp.blogspot.com/-hjP89SoFkBs/ULKsJS01g1I/AAAAAAAAAxc/-XjQCknc1EQ/s320/3.png" width="320" /></a></div><br />Bits especiais.<br /><br />Os 3 primeiros bits da esquerda para direita são bits de atributos especiais:<br />-SUID (Set User ID) - afeta somente arquivos executáveis<br />-SGID (Set Group ID) - afeta execução de programas do grupo do dono.<br />-Sticky (Stick Bit) - permance na memória mesmo depois de terminado(Colado na memória).<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://www.blogger.com/blogger.g?blogID=3999208484595674897" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"></a><a href="http://1.bp.blogspot.com/-noAltA5nrNo/ULKsKDt-0aI/AAAAAAAAAxk/H5g2TPRKMaw/s1600/4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="207" src="http://1.bp.blogspot.com/-noAltA5nrNo/ULKsKDt-0aI/AAAAAAAAAxk/H5g2TPRKMaw/s320/4.png" width="320" /></a></div><br /> <div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Qwwax0HuxPw/ULKqPOvicoI/AAAAAAAAAv8/WlCwqS-5jLI/s1600/5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="208" src="http://3.bp.blogspot.com/-Qwwax0HuxPw/ULKqPOvicoI/AAAAAAAAAv8/WlCwqS-5jLI/s320/5.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-YCsr5qK08HY/ULKqUNivtqI/AAAAAAAAAwI/czYE_RtV7QQ/s1600/6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="214" src="http://4.bp.blogspot.com/-YCsr5qK08HY/ULKqUNivtqI/AAAAAAAAAwI/czYE_RtV7QQ/s320/6.png" width="320" /></a></div><br />Como os bits de permissão especiais são utilizados com pouca frequência, e sob condições especiais, eles são representados pela letra (s) no lugar de (x) de execução para os bits SUID e SGID nas classes de Dono do arquivo e Grupo, e (t) no lugar de (x) para bit sticky na classe de Outros.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Oo9_leUfJpY/ULKqae8AHHI/AAAAAAAAAwU/rDYzV7vck1E/s1600/7.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="171" src="http://2.bp.blogspot.com/-Oo9_leUfJpY/ULKqae8AHHI/AAAAAAAAAwU/rDYzV7vck1E/s320/7.png" width="320" /></a></div><br />Quando novos arquivos são criados no sistema, eles são criados com permissões definidas gravadas no perfil de cada usuário e configuradas pelo comando <i>umask</i>.<br />O comando <i>umask</i> mostra a máscara das permissões quando os arquivos são criados e aceira como argumento um número de 3 dígitos para configurar as permissões.<br />No Linux, as permissões padrão para criação de:<br /><br />-arquivos = 666 (rw-rw-rw).<br />-diretórios = 777 (drwxrwxrwx).<br /><br />Depois de definida a máscara de criação dos arquivos, ela deverá ser subtraída das permissões padrão, exemplo:<br /><br />{% highlight bash %}$ umask 27{% endhighlight %}<br /><br />O número 27 deverá ser lido como 027, e define od bits da máscara como:<br /><br />-000 para Dono do arquivo.<br />-010 para Grupo<br />-111 para Outros.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-PX-vOH-LQbc/ULKqkvL_BuI/AAAAAAAAAwg/gINNNUMLgJ8/s1600/8.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="203" src="http://2.bp.blogspot.com/-PX-vOH-LQbc/ULKqkvL_BuI/AAAAAAAAAwg/gINNNUMLgJ8/s320/8.png" width="320" /></a></div><br />O comando chmod<br /><br />chmod (abreviação de <i>change mode</i>, em português: alterar modo) é um comando do Unix usado para alterar permissões de arquivos e diretórios (pastas). Sua sintaxe é a seguinte:<br /><br />{% highlight bash %}$ chmod [opções] modo[,modo] arquivo1 [arquivo2 ...]{% endhighlight %}<br /><br />Para a representação das permissões através de letras, você poderá utilizar:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-WEKSQY-zbPA/ULKqqahuoBI/AAAAAAAAAws/qefgRW_qbFU/s1600/9.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="127" src="http://4.bp.blogspot.com/-WEKSQY-zbPA/ULKqqahuoBI/AAAAAAAAAws/qefgRW_qbFU/s320/9.png" width="320" /></a></div><br />Exemplo:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://www.blogger.com/blogger.g?blogID=3999208484595674897" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="http://4.bp.blogspot.com/-Sc5bmhB55uY/ULKqvq2NwCI/AAAAAAAAAw4/cnm0JKI85Io/s1600/10.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="181" src="http://4.bp.blogspot.com/-Sc5bmhB55uY/ULKqvq2NwCI/AAAAAAAAAw4/cnm0JKI85Io/s320/10.png" width="320" /></a></div><br />O comando chown<br /><br />O comando chown da shell de um sistema operacional do tipo Unix (como é o caso o GNU/Linux) é usado para alterar o dono de um determinado arquivo.Uso:<br /><br /><i>chown [opções] usuário arquivo</i><br /><br />Exemplos:<br />{% highlight bash %}<br /># chown root /var/run/httpd.pid<br /># chown marcos:linux strace.log<br /># chown nobody:nogroup /tmp /var/tmp<br /># chown :512 /home<br /># chown -R usuario:grupo{% endhighlight %}<br /><br />Os comandos <i>chattr, lsattr e ln</i><br /><br /><u>chattr</u><br /><br />Esse comando modifica os atributos de arquivos/diretórios:<br /><br /><i>chattr [opção] [atributo] [arquivo/diretório]</i><br /><br /><u>lsattr</u><br /><br />Comando que lista os atributos atribuídos a um arquivo/diretório:<br /><br /><i>lsattr [opção] [arquivo/diretório]</i><br /><br />O comando ln<br /><br />O comando <i>ln</i> permite criar links. Existem dois tipos de links suportados pelo Linux, os <b>hard links(links físicos)</b> e os <b>links simbólicos</b>. Os links simbólicos têm uma função parecida com os atalhos do Windows, eles apontam para um arquivo, mas se o arquivo é movido para outro diretório o link fica quebrado. Os hard links(links físicos) são semelhantes aos atalhos do OS/2 da IBM, eles são mais intimamente ligados ao arquivo e são alterados junto com ele. Se o arquivo muda de lugar, o link é automaticamente atualizado.<br /><br />O comando <i>ln</i> dado sem argumentos cria um hard link, como em:<br /><br />{% highlight bash %}$ ln /home/marcos/arquivo.txt arquivo{% endhighlight %}<br /><br />Onde será criado um link chamado "arquivo" no diretório corrente, que apontará para o arquivo.txt dentro do diretório /home/marcos<br /><br />Para criar um link simbólico, basta acrescentar o argumento "-s", como em:<br /><br />{% highlight bash %}$ ln -s /home/marcos/arquivo.txt arquivo{% endhighlight %}<br /><br />{% highlight bash %}<br />&nbsp;&nbsp;&nbsp; -s : Cria um link simbólico. O padrão do comando ln são links físicos.<br />&nbsp;&nbsp;&nbsp; -f&nbsp; : Força a criação de um link mesmo que este já exista.<br />&nbsp;&nbsp;&nbsp; -i&nbsp; : Exibe número de identificação.{% endhighlight %}</b>