---
layout: post
title: Função para gerar senhas alfanuméricas com Shell Scripiting
date: '2013-02-16T18:30:00.000-08:00'
author: The Bang Bash
tags:
- Shell Script
modified_time: '2013-09-22T07:10:35.168-07:00'
thumbnail: http://3.bp.blogspot.com/-3GPeXxsun80/USA_tP8FPqI/AAAAAAAABAg/VZE9B_b_D9A/s72-c/gerarsenha.png
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-8194932490732071419
blogger_orig_url: http://www.terminalroot.com.br/2013/02/funcao-para-gerar-senhas-alfanumericas.html
---

<br /><br /><a href="http://3.bp.blogspot.com/-3GPeXxsun80/USA_tP8FPqI/AAAAAAAABAg/VZE9B_b_D9A/s1600/gerarsenha.png" imageanchor="1"><img border="0" src="http://3.bp.blogspot.com/-3GPeXxsun80/USA_tP8FPqI/AAAAAAAABAg/VZE9B_b_D9A/s1600/gerarsenha.png" /></a><br /><br /><!-------------------------------------------------><script type="text/javascript"><!-- google_ad_client = "ca-pub-5528601613414387"; google_ad_host = "pub-1556223355139109"; /* quadrados */ google_ad_slot = "9713010559"; google_ad_width = 200; google_ad_height = 200; </script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script><!-----------------------------------------------><br /><br /><blockquote class="tr_bq"><b>Tentei escrever o código da forma mais simples, eficaz e econômica para fazer esse script, para entender cada linha/comando é só ler os próprios comentários(<span style="color: blue;">#</span>) do código, segue o mesmo no blog e no PasteBin, segue: </b></blockquote><b><br /><i>Código aqui no blog: </i><br /><br />{% highlight bash %}#!/bin/bash<br /># ----------------------------------------------------------------------------<br /># Autor: Marcos da Boa Morte, http://marcospinguim.blogspot.com<br /># Função para gerar senhas alfanuméricas com Shell Scripiting<br /># ./gerarsenha.sh<br /># Desde: Sáb Fev 16 23:05:55 BRT 2013<br /># Versão: 1<br /># Licença: GPL<br /># ----------------------------------------------------------------------------<br />gerarsenha(){<br />&nbsp;&nbsp; &nbsp;# definimos as variaveis que gerarão a senha<br />&nbsp;&nbsp; &nbsp;letras='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ' # todas as letras minúsculas e Maiúsculas<br />&nbsp;&nbsp; &nbsp;numeros='0123456789' # todos os números<br />&nbsp;&nbsp; &nbsp;lista="$letras$numeros" # juntamos todas as letras mM e todos os números<br /><br />&nbsp;&nbsp; &nbsp;# numero de caracteres da senha<br />&nbsp;&nbsp; &nbsp;max=10<br /><br />&nbsp;&nbsp; &nbsp;# conta o número de caracteres da string lista<br />&nbsp;&nbsp; &nbsp;tamanho=${#lista}<br /><br />&nbsp;&nbsp; &nbsp;# criamos um loop do zero ao max<br />&nbsp;&nbsp; &nbsp;for ((i = 0; i &lt; $max; i++ ))<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;do<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;# colocamos o +1 para ser diferente de zero, para usar cut tem de ser no mínimo 1<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ordem=$((RANDOM % $tamanho + 1))<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;# acumulamos o caracter randomico escolhido pelo cut na variável senha<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;senha=$(echo $lista | cut -c "$ordem")<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;# imprimimos a variavel senha 10 vezes(max) na mesma linha -n<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo -n $senha<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;done<br />&nbsp;&nbsp; &nbsp;# pulamos uma linha final<br />&nbsp;&nbsp; &nbsp;echo<br />}<br /><br />#chamamos a função<br />gerarsenha {% endhighlight %}<br /><br />Código no PasteBin: <br /><script src="http://pastebin.com/embed_js.php?i=G79nFatH"></script><br /><br />Se você quiser ainda pode editar o .bashrc e criar uma alias para o arquivo: {% highlight bash %}$ vi /home/$USER/.bashrc{% endhighlight %}</b><br /><b>no final do arquivo, adicione a linha correspondente:<br /><i><br /></i></b><br /><b><span style="color: red;"><i>alias gerarsenha=/home/$USER/CAMINHO_DO_ARQUIVO/gerarsenha.sh</i></span></b><br /><br /><b>Salve o arquivo, abra um novo terminal e digite o nome da variável/alias e pronto! </b><br /><b>Até a próxima!</b>