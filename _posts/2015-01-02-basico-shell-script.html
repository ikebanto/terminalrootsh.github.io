---
layout: post
title: Básico Shell Script
date: '2015-01-02T03:50:00.000-08:00'
description: Básico Shell Script
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
modified_time: '2015-01-02T03:50:05.565-08:00'
thumbnail: http://1.bp.blogspot.com/-xAtPNrIAZmA/VDsh_jH6FUI/AAAAAAAAA2I/hd13kwJ4_9I/s72-c/new-logo-tr.png
twitter_text: Básico Shell Script
introduction: Básico Shell Script
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-xAtPNrIAZmA/VDsh_jH6FUI/AAAAAAAAA2I/hd13kwJ4_9I/s1600/new-logo-tr.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-xAtPNrIAZmA/VDsh_jH6FUI/AAAAAAAAA2I/hd13kwJ4_9I/s320/new-logo-tr.png" height="200" width="200" /></a></div><b>Esse script serve para verificar como funciona o armazenamento de variável no shel e como imprimí-las na tela</p><p>após requisição efetuado, é algo extremamente básico.</b></p><p></p><p>{% highlight bash %}</p><p>#!/bin/bash</p><p>echo Escreva seu primeiro nome</p><p>read nome1</p><p>echo escreva seu segundo nome</p><p>read nome2</p><p>echo escreva seu último nome</p><p>read nome3</p><p>echo Aperte enter para ver seu nome completo</p><p>read</p><p>echo $nome1 $nome2 $nome3{% endhighlight %}</p><p></p><p><b>Esse scrpt serve para verificar como deve-se incluir comandos do shell num script, deve ser entre acentos crases, ao invés de aspas simples ou duplas</b></p><p></p><p>{% highlight bash %}</p><p>#!/bin/bash</p><p>echo Estou logado com o usuário `whoami`;{% endhighlight %}</p><p></p><p><b>Este outro exemplo serve para verificar como funciona as condições if...else em Shell Script</b></p><p></p><p>{% highlight bash %}</p><p>#!/bin/bash</p><p>echo escreva X</p><p>read X</p><p>if&nbsp;&nbsp; [ $X -lt 5 ] ; then</p><p>&nbsp;&nbsp;&nbsp; echo "O valor de $X é menor que 5"</p><p>elif [ $X -gt 5 ] ; then</p><p>&nbsp;&nbsp;&nbsp; echo "O valor de $X é maior que 5"</p><p>elif [ $X -eq 5 ] ; then</p><p>&nbsp;&nbsp;&nbsp; echo "o valor de $X é igual a 5"</p><p>else</p><p>&nbsp;&nbsp;&nbsp; echo "o valor de $X é igual a 0"</p><p>fi{% endhighlight %}</p><p></p><p></p><p></p><p><blockquote>&lt;strong&gt;Alguns comandos&lt;/strong&gt;</p><p></p><p>echo &nbsp;&nbsp;&nbsp; Imprime texto na tela</p><p>read &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Captura dados do usuário e coloca numa variável</p><p>exit &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Finaliza o script</p><p>sleep &nbsp;&nbsp;&nbsp; Dá uma pausa em segundos no script</p><p>clear &nbsp;&nbsp;&nbsp; Limpa a tela</p><p>stty &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Configura o terminal temporariamente</p><p>tput&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Altera o modo de exibição</p><p>if &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controle de fluxo que testa uma ou mais expressões</p><p>case &nbsp;&nbsp;&nbsp; Controle de fluxo que testa várias expressões ao mesmo tempo</p><p>for &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controle de fluxo que testa uma ou mais expressões</p><p>while &nbsp;&nbsp;&nbsp; Controle de fluxo que testa uma ou mais expressões</blockquote></p><p></p><p></p><p><blockquote>Alguns operadores</p><p>-eq &nbsp;&nbsp;&nbsp; Igual</p><p>-ne &nbsp;&nbsp;&nbsp; Diferente</p><p>-gt &nbsp;&nbsp;&nbsp; Maior</p><p>-lt &nbsp;&nbsp;&nbsp; Menor</p><p>-o &nbsp;&nbsp;&nbsp; Ou</p><p>-d &nbsp;&nbsp;&nbsp; Se for um diretório</p><p>-e &nbsp;&nbsp;&nbsp; Se existir</p><p>-z &nbsp;&nbsp;&nbsp; Se estiver vazio</p><p>-f &nbsp;&nbsp;&nbsp; Se conter texto</p><p>-o &nbsp;&nbsp;&nbsp; Se o usuário for o dono</p><p>-r &nbsp;&nbsp;&nbsp; Se o arquivo pode ser lido</p><p>-w &nbsp;&nbsp;&nbsp; Se o arquivo pode ser alterado</p><p>-x &nbsp;&nbsp;&nbsp; Se o arquivo pode ser executado</blockquote></p><p></p><p></p><p></p><p></p><p><blockquote></p><p>dicas</p><p></p><p>&nbsp;&nbsp;&nbsp; Use mais o comando "printf" ao inves de "echo"</p><p>&nbsp;&nbsp;&nbsp; </p><p>\n - nova linha</p><p></p><p>&nbsp;&nbsp;&nbsp; \a - som de alerta</p><p></p><p>&nbsp;&nbsp;&nbsp; \b - backspace</p><p></p><p></p><p></blockquote></p><p></p><p></p><p><b>Esse script serve para ver como é uttilizado o comando while(Loop)</b></p><p>{% highlight bash %}</p><p>#!/bin/bash</p><p>contador=0;</p><p>while [ $contador -lt 10 ]; do</p><p>&nbsp;&nbsp;&nbsp;&nbsp; echo O valor de contador = $contador</p><p>&nbsp;&nbsp;&nbsp;&nbsp; (( contador = contador + 1 ))</p><p>done{% endhighlight %}</p><p></p><p></p><p><b>pronto, um exemplo agora completo para um entendimento inicial:</b></p><p>{% highlight bash %}</p><p>#!/bin/bash</p><p>Principal() {</p><p>&nbsp;&nbsp; echo "Exemplo Final sobre o uso de scripts shell"</p><p>&nbsp;&nbsp; echo "------------------------------------------"</p><p>&nbsp;&nbsp; echo "Opções:"</p><p>&nbsp;&nbsp; echo</p><p>&nbsp;&nbsp; echo "1. Trasformar nomes de arquivos"</p><p>&nbsp;&nbsp; echo "2. Adicionar um usuário no sistema"</p><p>&nbsp;&nbsp; echo "3. Deletar um usuário no sistema"</p><p>&nbsp;&nbsp; echo "4. Fazer backup dos arquivos do /etc"</p><p>&nbsp;&nbsp; echo "5. Sair do exemplo"</p><p>&nbsp;&nbsp; echo</p><p>&nbsp;&nbsp; echo -n "Qual a opção desejada? "</p><p>&nbsp;&nbsp; read opcao</p><p>&nbsp;&nbsp; case $opcao in</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) Transformar ;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) Adicionar ;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) Deletar ;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4) Backup ;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5) exit ;;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *) "Opção desconhecida." ; echo ; Principal ;;</p><p>&nbsp;&nbsp; esac</p><p>}</p><p>Transformar() {</p><p>&nbsp;&nbsp; echo -n "Para Maiúsculo ou minúsculo? [M/m] "</p><p>&nbsp;&nbsp; read var</p><p>&nbsp;&nbsp; if [ $var = "M" ]; then</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo -n "Que diretório? "</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; read dir</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for x in `/bin/ls` $dir; do</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y=`echo $x | tr '[:lower:]' '[:upper:]'`</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ ! -e $y ]; then</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mv $x $y</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done</p><p>&nbsp;&nbsp; elif [ $var = "m" ]; then</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo -n "Que diretório? "</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; read dir</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for x in `/bin/ls` $dir; do</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y=`echo $x | tr '[:upper:]' '[:lower:]'`</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ ! -e $y ]; then</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mv $x $y</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done</p><p>&nbsp;&nbsp; fi</p><p>}</p><p>Adicionar() {</p><p>&nbsp;&nbsp; clear</p><p>&nbsp;&nbsp; echo -n "Qual o nome do usuário a se adicionar? "</p><p>&nbsp;&nbsp; read nome</p><p>&nbsp;&nbsp; adduser nome</p><p>&nbsp;&nbsp; Principal</p><p>}</p><p>Deletar() {</p><p>&nbsp;&nbsp; clear</p><p>&nbsp;&nbsp; echo -n "Qual o nome do usuário a deletar? "</p><p>&nbsp;&nbsp; read nome</p><p>&nbsp;&nbsp; userdel nome</p><p>&nbsp;&nbsp; Principal</p><p>}</p><p>Backup() {</p><p>&nbsp;&nbsp; for x in `/bin/ls` /etc; do</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cp -R /etc/$x /etc/$x.bck</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mv /etc/$x.bck /usr/backup</p><p>&nbsp;&nbsp; done</p><p>}</p><p>Principal{% endhighlight %}

</p>
