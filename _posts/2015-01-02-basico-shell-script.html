---
layout: post
title: Básico Shell Script
date: '2015-01-02T03:50:00.000-08:00'
description: Básico Shell Script
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
modified_time: '2015-01-02T03:50:05.565-08:00'
thumbnail: http://1.bp.blogspot.com/-xAtPNrIAZmA/VDsh_jH6FUI/AAAAAAAAA2I/hd13kwJ4_9I/s72-c/new-logo-tr.png
twitter_text: Básico Shell Script
introduction: Básico Shell Script
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-xAtPNrIAZmA/VDsh_jH6FUI/AAAAAAAAA2I/hd13kwJ4_9I/s1600/new-logo-tr.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-xAtPNrIAZmA/VDsh_jH6FUI/AAAAAAAAA2I/hd13kwJ4_9I/s320/new-logo-tr.png" height="200" width="200" /></a></div><b>Esse script serve para verificar como funciona o armazenamento de variável no shel e como imprimí-las na tela
após requisição efetuado, é algo extremamente básico.</b>

{% highlight bash %}

#!/bin/bash
echo Escreva seu primeiro nome
read nome1
echo escreva seu segundo nome
read nome2
echo escreva seu último nome
read nome3
echo Aperte enter para ver seu nome completo
read
echo $nome1 $nome2 $nome3
{% endhighlight %}

<p>Esse scrpt serve para verificar como deve-se incluir comandos do shell num script, deve ser entre acentos crases, ao invés de aspas simples ou duplas</p>

{% highlight bash %}

#!/bin/bash
echo Estou logado com o usuário `whoami`;
{% endhighlight %}

<p>Este outro exemplo serve para verificar como funciona as condições if...else em Shell Script</p>

{% highlight bash %}

#!/bin/bash
echo escreva X
read X
if [ $X -lt 5 ] ; then
 echo "O valor de $X é menor que 5"
elif [ $X -gt 5 ] ; then
 echo "O valor de $X é maior que 5"
elif [ $X -eq 5 ] ; then
 echo "o valor de $X é igual a 5"
else
 echo "o valor de $X é igual a 0"
fi
{% endhighlight %}



<blockquote><strong>Alguns comandos</strong>

echo  Imprime texto na tela
read   Captura dados do usuário e coloca numa variável
exit   Finaliza o script
sleep  Dá uma pausa em segundos no script
clear  Limpa a tela
stty   Configura o terminal temporariamente
tput  Altera o modo de exibição
if   Controle de fluxo que testa uma ou mais expressões
case  Controle de fluxo que testa várias expressões ao mesmo tempo
for   Controle de fluxo que testa uma ou mais expressões
while  Controle de fluxo que testa uma ou mais expressões</blockquote>


<blockquote>Alguns operadores
-eq  Igual
-ne  Diferente
-gt  Maior
-lt  Menor
-o  Ou
-d  Se for um diretório
-e  Se existir
-z  Se estiver vazio
-f  Se conter texto
-o  Se o usuário for o dono
-r  Se o arquivo pode ser lido
-w  Se o arquivo pode ser alterado
-x  Se o arquivo pode ser executado</blockquote>




<blockquote>
dicas

 Use mais o comando "printf" ao inves de "echo"
 
\n - nova linha

 \a - som de alerta

 \b - backspace


</blockquote>


<p>Esse script serve para ver como é uttilizado o comando while(Loop)</p>
{% highlight bash %}

#!/bin/bash
contador=0;
while [ $contador -lt 10 ]; do
 echo O valor de contador = $contador
 (( contador = contador + 1 ))
done
{% endhighlight %}


<p>pronto, um exemplo agora completo para um entendimento inicial:</p>
{% highlight bash %}

#!/bin/bash
Principal() {
 echo "Exemplo Final sobre o uso de scripts shell"
 echo "------------------------------------------"
 echo "Opções:"
 echo
 echo "1. Trasformar nomes de arquivos"
 echo "2. Adicionar um usuário no sistema"
 echo "3. Deletar um usuário no sistema"
 echo "4. Fazer backup dos arquivos do /etc"
 echo "5. Sair do exemplo"
 echo
 echo -n "Qual a opção desejada? "
 read opcao
 case $opcao in
 1) Transformar ;;
 2) Adicionar ;;
 3) Deletar ;;
 4) Backup ;;
 5) exit ;;
 *) "Opção desconhecida." ; echo ; Principal ;;
 esac
}
Transformar() {
 echo -n "Para Maiúsculo ou minúsculo? [M/m] "
 read var
 if [ $var = "M" ]; then
 echo -n "Que diretório? "
 read dir
 for x in `/bin/ls` $dir; do
 y=`echo $x | tr '[:lower:]' '[:upper:]'`
 if [ ! -e $y ]; then
 mv $x $y
 fi
 done
 elif [ $var = "m" ]; then
 echo -n "Que diretório? "
 read dir
 for x in `/bin/ls` $dir; do
 y=`echo $x | tr '[:upper:]' '[:lower:]'`
 if [ ! -e $y ]; then
 mv $x $y
 fi
 done
 fi
}
Adicionar() {
 clear
 echo -n "Qual o nome do usuário a se adicionar? "
 read nome
 adduser nome
 Principal
}
Deletar() {
 clear
 echo -n "Qual o nome do usuário a deletar? "
 read nome
 userdel nome
 Principal
}
Backup() {
 for x in `/bin/ls` /etc; do
 cp -R /etc/$x /etc/$x.bck
 mv /etc/$x.bck /usr/backup
 done
}
Principal
{% endhighlight %}

</p>
