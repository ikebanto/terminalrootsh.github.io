---
layout: post
title: 45 exemplos de variáveis e arrays em Shell Script
date: '2015-08-19T18:07:00.001-07:00'
description: 45 exemplos de variáveis e arrays em Shell Script
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
- Terminal
- Comandos
modified_time: '2015-08-19T18:07:27.123-07:00'
thumbnail: http://4.bp.blogspot.com/-bwgkyKXJ_2k/VdUoNmLby1I/AAAAAAAABqM/W74UijtZtIA/s72-c/distribuzione-linux.png
twitter_text: 45 exemplos de variáveis e arrays em Shell Script
introduction: 45 exemplos de variáveis e arrays em Shell Script
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-bwgkyKXJ_2k/VdUoNmLby1I/AAAAAAAABqM/W74UijtZtIA/s1600/distribuzione-linux.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-bwgkyKXJ_2k/VdUoNmLby1I/AAAAAAAABqM/W74UijtZtIA/s320/distribuzione-linux.png" /></a></div>

<span style="font-size: x-large;">1 - Criar uma variável, ${var} é o mesmo que $var, porém não ambíguo.</span>
{% highlight bash %}
var="http://www.terminalroot.com.br/"
echo $var
http://www.terminalroot.com.br/
{% endhighlight %}

<span style="font-size: x-large;">2 - Retornar o tamanho da string</span>
{% highlight bash %}
echo ${#var}
31
{% endhighlight %}

<span style="font-size: x-large;">3 - Executa o conteúdo de $var (igual 'eval \$$var')</span>
{% highlight bash %}
echo ${!var}
{% endhighlight %}

4 - Retorna os nomes de variáveis começadas por 'U'
{% highlight bash %}
echo ${!U*}
UID USER USERNAME
{% endhighlight %}

<span style="font-size: x-large;">5 - Retorna o texto a partir da posição 7</span>
{% highlight bash %}
echo ${var:7}
www.terminalroot.com.br/
{% endhighlight %}

<span style="font-size: x-large;">6 - Retorna 8 caracteres a partir da posição 11</span>
{% highlight bash %}
echo ${var:11:8}
terminal
{% endhighlight %}


<span style="font-size: x-large;">7 - Corta 'http://' do início da string</span>
{% highlight bash %}
echo ${var#http://}
www.terminalroot.com.br/
{% endhighlight %}

<span style="font-size: x-large;">8 - Corta '.com.br/' do final da string</span>
{% highlight bash %}
echo ${var%.com.br/}
http://www.terminalroot
{% endhighlight %}


<span style="font-size: x-large;">9 - Substitui 'terminalroot' por 'aurelio', uma vez</span>
{% highlight bash %}
echo ${var/terminalroot/aurelio} 
http://www.aurelio.com.br/
{% endhighlight %}

<span style="font-size: x-large;">10 - Substitui 'o' por 'O', sempre</span>
{% highlight bash %}
echo ${var//o/O}
http://www.terminalrOOt.cOm.br/
{% endhighlight %}

<span style="font-size: x-large;">11 - Se a string começar com 'http', substitui 'http' por 'Site'</span>
{% highlight bash %}
echo ${var/#http/Site}
Site://www.terminalroot.com.br/
{% endhighlight %}

<span style="font-size: x-large;">12 - Se a string terminar com 'te', substitui 'te' por 'TADO'</span>
{% highlight bash %}
var2="teste"
echo ${var2/%te/TADO}
tesTADO
{% endhighlight %}

<span style="font-size: x-large;">13 - "" (aspas duplas) protege uma string, mas reconhece $, \ e ` como especiais</span>
{% highlight bash %}
echo "$var"
http://www.terminalroot.com.br/
{% endhighlight %}

<span style="font-size: x-large;">14 - '' (aspas simples) protege uma string, mas reconhece $, \ e ` como especiais</span>
{% highlight bash %}
echo '$var'
$var
{% endhighlight %}

<span style="font-size: x-large;">15 - $'...' (cifrão antes de aspas simples) protege uma string completamente, mas interpreta \n, \t, \a, etc</span>
{% highlight bash %}
echo $'$var\n'
$var
{% endhighlight %}
{% highlight bash %}


{% endhighlight %}
<span style="font-size: x-large;">16 - `...` (entre crases) Executa comandos numa subshell, retornando o resultado</span>
{% highlight bash %}
echo `ls`
Área de trabalho Documentos Downloads Imagens Modelos Música Público Vídeos
{% endhighlight %}

<span style="font-size: x-large;">17 - Executa comandos numa subshell</span>
{% highlight bash %}
(ls)
Área de trabalho Documentos Downloads Imagens Modelos Música Público Vídeos
{% endhighlight %}

<span style="font-size: x-large;">18 - Executa comandos numa subshell, retornando o resultado</span>
{% highlight bash %}
echo $(ls)
Área de trabalho Documentos Downloads Imagens Modelos Música Público Vídeos
{% endhighlight %}

<span style="font-size: x-large;">19 - Testa uma operação aritmética, retornando 0 ou 1</span>
{% highlight bash %}
((11>9))
{% endhighlight %}

20 - Retorna o resultado de uma operação aritmética
{% highlight bash %}
echo $((11-9))
2
{% endhighlight %}

<span style="font-size: x-large;">21 - Testa uma expressão, retornando 0 ou 1 (alias do comando 'test')</span>
{% highlight bash %}
[ 5 -gt 3 ] &amp;&amp; echo 'É maior!'
É maior!
{% endhighlight %}

<span style="font-size: x-large;">22 - Testa uma expressão, retornando 0 ou 1 (podendo usar &amp;&amp; e ||)</span>
{% highlight bash %}
[[ $var ]] &amp;&amp; echo 'Existe essa variável'
Existe essa variável
{% endhighlight %}

<span style="font-size: x-large;">23 - Variáveis especiais</span>
VariávelParâmetros Posicionais{% highlight bash %}
$0
{% endhighlight %}Parâmetro número 0 (nome do comando ou função){% highlight bash %}
$1
{% endhighlight %}Parâmetro número 1 (da linha de comando ou função){% highlight bash %}
...
{% endhighlight %}Parâmetro número N ...{% highlight bash %}
$9
{% endhighlight %}Parâmetro número 9 (da linha de comando ou função){% highlight bash %}
${10}
{% endhighlight %}Parâmetro número 10 (da linha de comando ou função){% highlight bash %}
...
{% endhighlight %}Parâmetro número NN ...{% highlight bash %}
$#
{% endhighlight %}Número total de parâmetros da linha de comando ou função{% highlight bash %}
$*
{% endhighlight %}Todos os parâmetros, como uma string única{% highlight bash %}
$@
{% endhighlight %}Todos os parâmetros, como várias strings protegidasVariávelMiscelânia{% highlight bash %}
$$
{% endhighlight %}Número PID do processo atual (do próprio script){% highlight bash %}
$!
{% endhighlight %}Número PID do último job em segundo plano{% highlight bash %}
$_
{% endhighlight %}Último argumento do último comando executado{% highlight bash %}
$?
{% endhighlight %}Código de retorno do último comando executado

24 - Opções do comando test ou [
Comparação Numérica{% highlight bash %}
-lt
{% endhighlight %}É menor que   (LessThan){% highlight bash %}
-gt
{% endhighlight %}É maior que   (GreaterThan){% highlight bash %}
-le
{% endhighlight %}É menor igual (LessEqual){% highlight bash %}
-ge
{% endhighlight %}É maior igual (GreaterEqual){% highlight bash %}
-eq
{% endhighlight %}É igual       (EQual){% highlight bash %}
-ne
{% endhighlight %}É diferente   (NotEqual)Comparação de Strings{% highlight bash %}
=
{% endhighlight %}É igual{% highlight bash %}
!=
{% endhighlight %}É diferente{% highlight bash %}
-n
{% endhighlight %}É não nula{% highlight bash %}
-z
{% endhighlight %}É nulaOperadores Lógicos{% highlight bash %}
!
{% endhighlight %}NÃO lógico (NOT){% highlight bash %}
-a
{% endhighlight %}E lógico (AND){% highlight bash %}
-o
{% endhighlight %}OU lógico (OR)Testes em arquivos{% highlight bash %}
-b
{% endhighlight %}É um dispositivo de bloco{% highlight bash %}
-c
{% endhighlight %}É um dispositivo de caractere{% highlight bash %}
-d
{% endhighlight %}É um diretório{% highlight bash %}
-e
{% endhighlight %}O arquivo existe{% highlight bash %}
-f
{% endhighlight %}É um arquivo normal{% highlight bash %}
-g
{% endhighlight %}O bit SGID está ativado{% highlight bash %}
-G
{% endhighlight %}O grupo do arquivo é o do usuário atual{% highlight bash %}
-k
{% endhighlight %}O sticky-bit está ativado{% highlight bash %}
-L
{% endhighlight %}O arquivo é um link simbólico{% highlight bash %}
-O
{% endhighlight %}O dono do arquivo é o usuário atual{% highlight bash %}
-p
{% endhighlight %}O arquivo é um named pipe{% highlight bash %}
-r
{% endhighlight %}O arquivo tem permissão de leitura{% highlight bash %}
-s
{% endhighlight %}O tamanho do arquivo é maior que zero{% highlight bash %}
-S
{% endhighlight %}O arquivo é um socket{% highlight bash %}
-t
{% endhighlight %}O descritor de arquivos N é um terminal{% highlight bash %}
-u
{% endhighlight %}O bit SUID está ativado{% highlight bash %}
-w
{% endhighlight %}O arquivo tem permissão de escrita{% highlight bash %}
-x
{% endhighlight %}O arquivo tem permissão de execução{% highlight bash %}
-nt
{% endhighlight %}O arquivo é mais recente (NewerThan){% highlight bash %}
-ot
{% endhighlight %}O arquivo é mais antigo (OlderThan){% highlight bash %}
-ef
{% endhighlight %}O arquivo é o mesmo (EqualFile)

<span style="font-size: x-large;">25 - Escapes especiais para usar no prompt (PS1)</span>
<table align="center" border="1"><tbody><tr><th>Escape</th><th>Lembrete</th><th>Expande para...</th></tr><tr><td align="center">\a</td><td><i>Alerta</i></td><td>Alerta (bipe)</td></tr><tr><td align="center">\d</td><td><i>Data</i></td><td>Data no formato "Dia-da-semana Mês Dia" (Sat Jan 15)</td></tr><tr><td align="center">\e</td><td><i>Escape</i></td><td>Caractere Esc</td></tr><tr><td align="center">\h</td><td><i>Hostname</i></td><td>Nome da máquina sem o domínio (dhcp11)</td></tr><tr><td align="center">\H</td><td><i>Hostname</i></td><td>Nome completo da máquina (dhcp11.empresa)</td></tr><tr><td align="center">\j</td><td><i>Jobs</i></td><td>Número de jobs ativos</td></tr><tr><td align="center">\l</td><td><i>Tty</i></td><td>Nome do terminal corrente (ttyp1)</td></tr><tr><td align="center">\n</td><td><i>Newline</i></td><td>Linha nova</td></tr><tr><td align="center">\r</td><td><i>Return</i></td><td>Retorno de carro</td></tr><tr><td align="center">\s</td><td><i>Shell</i></td><td>Nome do shell (basename $0)</td></tr><tr><td align="center">\t</td><td><i>Time</i></td><td>Horário no formato 24 horas HH:MM:SS</td></tr><tr><td align="center">\T</td><td><i>Time</i></td><td>Horário no formato 12 horas HH:MM:SS</td></tr><tr><td align="center">\@</td><td><i>At</i></td><td>Horário no formato 12 horas HH:MM am/pm</td></tr><tr><td align="center">\A</td><td><i>At</i></td><td>Horário no formato 24 horas HH:MM</td></tr><tr><td align="center">\u</td><td><i>Usuário</i></td><td>Login do usuário corrente</td></tr><tr><td align="center">\v</td><td><i>Versão</i></td><td>Versão do Bash (2.00)</td></tr><tr><td align="center">\V</td><td><i>Versão</i></td><td>Versão+subversão do Bash (2.00.0)</td></tr><tr><td align="center">\w</td><td><i>Working Dir</i></td><td>Diretório corrente, caminho completo ($PWD)</td></tr><tr><td align="center">\W</td><td><i>Working Dir</i></td><td>Diretório corrente, somente o último (basename $PWD)</td></tr><tr><td align="center">\!</td><td><i>Histórico</i></td><td>Número do comando corrente no histórico</td></tr><tr><td align="center">\#</td><td><i>Número</i></td><td>Número do comando corrente</td></tr><tr><td align="center">\$</td><td><i>ID</i></td><td>Mostra "#" se for root, "$" se for usuário normal</td></tr><tr><td align="center">\nnn</td><td><i>Octal</i></td><td>Caractere cujo octal é nnn</td></tr><tr><td align="center">\\</td><td><i>Backslash</i></td><td>Barra invertida \ literal</td></tr><tr><td align="center">\[</td><td><i>Escapes</i></td><td>Inicia uma seqüência de escapes (tipo códigos de cores)</td></tr><tr><td align="center">\]</td><td><i>Escapes</i></td><td>Termina uma seqüência de escapes</td></tr></tbody></table>

<span style="font-size: x-large;">26 - Escapes reconhecidos pelo comando echo</span>
<table align="center" border="1"><tbody><tr><th>Escape</th><th>Lembrete</th><th>Descrição</th></tr><tr><td align="center">\a</td><td><i>Alerta</i></td><td>Alerta (bipe)</td></tr><tr><td align="center">\b</td><td><i>Backspace</i></td><td>Caractere Backspace</td></tr><tr><td align="center">\c</td><td><i>EOS</i></td><td>Termina a string</td></tr><tr><td align="center">\e</td><td><i>Escape</i></td><td>Caractere Esc</td></tr><tr><td align="center">\f</td><td><i>Form feed</i></td><td>Alimentação</td></tr><tr><td align="center">\n</td><td><i>Newline</i></td><td>Linha nova</td></tr><tr><td align="center">\r</td><td><i>Return</i></td><td>Retorno de carro</td></tr><tr><td align="center">\t</td><td><i>Tab</i></td><td>Tabulação horizontal</td></tr><tr><td align="center">\v</td><td><i>Vtab</i></td><td>Tabulação vertical</td></tr><tr><td align="center">\\</td><td><i>Backslash</i></td><td>Barra invertida \ literal</td></tr><tr><td align="center">\nnn</td><td><i>Octal</i></td><td>Caractere cujo octal é nnn</td></tr><tr><td align="center">\xnn</td><td><i>Hexa</i></td><td>Caractere cujo hexadecimal é nn</td></tr></tbody></table>

<span style="font-size: x-large;">27 - Formatadores do comando date</span>
FormatoDescrição{% highlight bash %}
%a
{% endhighlight %}Nome do dia da semana abreviado (Dom..Sáb){% highlight bash %}
%A
{% endhighlight %}Nome do dia da semana (Domingo..Sábado){% highlight bash %}
%b
{% endhighlight %}Nome do mês abreviado (Jan..Dez){% highlight bash %}
%B
{% endhighlight %}Nome do mês (Janeiro..Dezembro){% highlight bash %}
%c
{% endhighlight %}Data completa (Sat Nov 04 12:02:33 EST 1989){% highlight bash %}
%y
{% endhighlight %}Ano (dois dígitos){% highlight bash %}
%Y
{% endhighlight %}Ano (quatro dígitos){% highlight bash %}
%m
{% endhighlight %}Mês (01..12){% highlight bash %}
%d
{% endhighlight %}Dia (01..31){% highlight bash %}
%j
{% endhighlight %}Dia do ano (001..366){% highlight bash %}
%H
{% endhighlight %}Horas (00..23){% highlight bash %}
%M
{% endhighlight %}Minutos (00..59){% highlight bash %}
%S
{% endhighlight %}Segundos (00..60){% highlight bash %}
%s
{% endhighlight %}Segundos desde 1º de Janeiro de 1970{% highlight bash %}
%%
{% endhighlight %}Um % literal{% highlight bash %}
%t
{% endhighlight %}Um TAB{% highlight bash %}
%n
{% endhighlight %}Uma quebra de linha

28 - Formatadores do comando printf
FormatoDescrição{% highlight bash %}
%d
{% endhighlight %}Número decimal{% highlight bash %}
%o
{% endhighlight %}Número octal{% highlight bash %}
%x
{% endhighlight %}Número hexadecimal (a-f){% highlight bash %}
%X
{% endhighlight %}Número hexadecimal (A-F){% highlight bash %}
%f
{% endhighlight %}Número com ponto flutuante{% highlight bash %}
%e
{% endhighlight %}Número em notação científica (e+1){% highlight bash %}
%E
{% endhighlight %}Número em notação científica (E+1){% highlight bash %}
%s
{% endhighlight %}String

<span style="font-size: x-large;">29 - Para saber todas as variáveis locais, execute</span>
{% highlight bash %}
set
{% endhighlight %}
ou, e abra o txt para ver depois
{% highlight bash %}
set > VariaveisLocais.txt
{% endhighlight %}

<span style="font-size: x-large;">30 - Variáveis globais, para saber todas as variáveis globais, execute</span>
{% highlight bash %}
env
{% endhighlight %}
ou
{% highlight bash %}
printenv
{% endhighlight %}

<span style="font-size: x-large;">31 - Para atribuir um valor a uma variável local</span>
{% highlight bash %}
LINUX=free
echo $LINUX
free 
{% endhighlight %}

<span style="font-size: x-large;">32 - verificar se a variável criada no item anterior aparece na relação de variáveis locais</span>
{% highlight bash %}
set | grep LINUX
LINUX=free 
{% endhighlight %}

<span style="font-size: x-large;">33 - Agora vamos tornar esta variável local em uma variável global</span>
{% highlight bash %}
export LINUX
env | grep LINUX
LINUX=free
{% endhighlight %}

<span style="font-size: x-large;">34 - Deletar uma 'variável de ambiente local' da memória usamos o comando unset </span>
{% highlight bash %}
unset LINUX
echo $LINUX
{% endhighlight %}
{% highlight bash %}


{% endhighlight %}
<span style="font-size: x-large;">35 - Criar um aliases ( apelido para um comando ou programa ), você ainda pode incluí-lo no seu ~/.bashrc</span>
{% highlight bash %}
alias listar='ls -la color=auto'
{% endhighlight %}

36 - Destruir um aliase
{% highlight bash %}
unalias listar
{% endhighlight %}

<span style="font-size: x-large;">37 - Verificar todos os comando digitados</span>
{% highlight bash %}
history
{% endhighlight %}
executar o comando pelo número dele no history
{% highlight bash %}
!468
{% endhighlight %}
executar o último comando digitado
{% highlight bash %}
!!
{% endhighlight %}
eles ficam no bash_history
{% highlight bash %}
cat bash_history
{% endhighlight %}
limpar o history
{% highlight bash %}
history -c
{% endhighlight %}

38 - Interpretadores de linha de comando
$ - Shell de um usuário comum;
# - Shell do superusuário root (administrador)

Verificar dos os Shells disponíveis
{% highlight bash %}
cat /etc/shells
{% endhighlight %}

<u><i><span style="font-size: large;">Variável que mostra o SHELL que você utiliza</span></i></u>
{% highlight bash %}
echo $SHELL
{% endhighlight %}

39 - Criando um Array (Arranjo) "conjunto de variáveis"
{% highlight bash %}
DISTROS=( "Debian" "Trisquel" "Ubuntu" "RedHat")
{% endhighlight %}
<u><i><span style="font-size: large;">Se você imprimir o Array DISTROS como variável, ele printará a variável 0 , o array exibe as variáveis nele contidas começando do 0 (zero), logo seria o mesmo de imprimir a ${DISTROS[0]}</span></i></u>
{% highlight bash %}
echo $DISTROS
{% endhighlight %}

40 - Imprimir o elemento 1 da array DISTROS
{% highlight bash %}
echo ${DISTROS[1]}
Trisquel
{% endhighlight %}

<span style="font-size: x-large;">41 - Pode-se também criar um array inserindo elemento um de cada vez</span> 
{% highlight bash %}
DISTROS[0]="Debian"
DISTROS[1]="Trisquel"
DISTROS[2]="Ubuntu"
DISTROS[3]="RedHat"
{% endhighlight %}

<span style="font-size: x-large;">42 - Alterar o elemento 2 do array DISTROS</span>
{% highlight bash %}
DISTROS[2]="Linux Mint"
echo ${DISTROS[2]}
Linux Mint
{% endhighlight %}

<span style="font-size: x-large;">43 - Exibir Distro do elemento 2 até o final</span>
{% highlight bash %}
echo ${DISTROS[@]:2} 
Ubuntu RedHat
{% endhighlight %}

<span style="font-size: x-large;">44 - Esta exibe os elementos com início na posição 1 seguidos de mais dois elementos consecutivos à posição 1</span>
{% highlight bash %}
echo ${DISTROS[@]:1:2} 
Trisquel Ubuntu
{% endhighlight %}

<span style="font-size: x-large;">45 - Saber quantos elementos possui o array DISTROS</span>
{% highlight bash %}
echo ${#DISTROS[@]} 
4
{% endhighlight %}


<span style="font-size: x-large;">Valeu!</span>


<span style="color: #444444;"><i>BIBLIOGRAFIA:</i></span>
<span style="color: #444444;"><i>http://aurelio.net/shell/canivete/</i></span>
<span style="color: #444444;"><i>http://www.vivaolinux.com.br/artigo/Trabalhando-com-shell-e-variaveis-de-ambiente</i></span>
<span style="color: #444444;"><i>http://www.vivaolinux.com.br/dica/Utilizando-arrays-em-shell-script</i></span>

</p>
