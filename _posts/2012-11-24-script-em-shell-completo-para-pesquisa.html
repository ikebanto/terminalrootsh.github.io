---
layout: post
title: Script em Shell (completo) para pesquisa
date: '2012-11-24T13:37:00.000-08:00'
author: The Bang Bash
tags:
- Shell Script
modified_time: '2014-10-29T17:09:19.587-07:00'
thumbnail: http://2.bp.blogspot.com/-_kw03sm3n0Q/ULE9Cb5J7lI/AAAAAAAAAsc/p5xbzMLCcYA/s72-c/Captura_de_tela.png
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-8987519236185317060
blogger_orig_url: http://www.terminalroot.com.br/2012/11/script-em-shell-completo-para-pesquisa.html
---

<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-_kw03sm3n0Q/ULE9Cb5J7lI/AAAAAAAAAsc/p5xbzMLCcYA/s1600/Captura_de_tela.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="147" src="http://2.bp.blogspot.com/-_kw03sm3n0Q/ULE9Cb5J7lI/AAAAAAAAAsc/p5xbzMLCcYA/s400/Captura_de_tela.png" width="400" /></a></div><b>Olá galera, fiz um script, pra passar o tempo, de Pesquisa(completo).Segue PasteBin e código no blog para análise e também estudo, a única coisa diferente das que vêm sendo abordadas aqui no blog é o surgimento do <span style="color: red;"><i>case</i></span>.Não utilizei comentários pra não ficar muito grande, mas é tão simples e o código tão limpo que dá pra ter uma noção como o </b><span style="color: red;"><i>case</i></span><b> funciona.Segue:</b><br /><br /><b><u>PasteBin(procura):</u></b><script src="http://pastebin.com/embed_js.php?i=Z4ALGCbs"></script><br /><br /><u><b>Código(procura):</b></u><br />{% highlight bash %}#!/bin/bash<br /># procura - script que faz pesquisas completas de arquivos e/ou diretórios<br /># Autor: Marcos da Boa Morte<br /># Endereço Web - http://marcospinguim.blogspot.com<br /># Facebook - fb.com/terminalroot<br /><br />echo "1&nbsp;&nbsp; PESQUISAR POR NOME"<br />echo "2&nbsp;&nbsp; PESQUISAR POR TAMANHO"<br />echo "3&nbsp;&nbsp; PESQUISAR POR ALTERADOS NOS ÚLTIMOS DIAS"<br />echo "4&nbsp;&nbsp; PESQUISAR POR ACESSADOS NOS ÚLTIMOS DIAS"<br />echo "5&nbsp;&nbsp; CONSULTAR O MANUAL DE find"<br />echo "6&nbsp;&nbsp; SAIR"<br /><br />&nbsp; echo -n "Por favor faça sua escolha: "<br />&nbsp; read INPUT<br />&nbsp; <br />&nbsp; if [ $INPUT != 5 ] &amp;&amp; [ $INPUT != 6 ] ; then<br />&nbsp; &nbsp;&nbsp;&nbsp; echo -n "Informe a PASTA que deseja pesquisar(ex.:/home/usuario/Downloads/): "<br />&nbsp; &nbsp;&nbsp;&nbsp; read PASTA<br />&nbsp; fi&nbsp; <br />&nbsp; <br />&nbsp; case $INPUT in<br />&nbsp;&nbsp;&nbsp; 1)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; "A)&nbsp;&nbsp;&nbsp; Pesquisar por nome 'EXATO COM A EXTENSÃO'"<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; "B)&nbsp;&nbsp;&nbsp; Pesquisar por arquivo ou diretório que 'CONTÉM A PALAVRA': "<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; "C)&nbsp;&nbsp;&nbsp; Voltar pro MENU anterior: "<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; read FIND<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if [ $FIND = "" ] ; then<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $FIND=/home/$USER<br />&nbsp;&nbsp;&nbsp; fi<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; case $FIND in<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 1|a|A) <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo -n "Informe o NOME EXATO do arquivo ou diretório: "<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; read nome<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; find $PASTA -name $nome<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 2|b|B)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo -n "Informe A PALAVRA que está arquivo ou diretório: "<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; read nome<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; find $PASTA -name *$nome* <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3|c|C)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clear<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep 0<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $0<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit 0<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; esac&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; 2)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo -n "Informe o TAMANHO MÍNIMO do arquivo, escreva o k(kilobytes) no final, ex.:(300k): "<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; read tamanho<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; find /home/marcos/Downloads -size $tamanho<br />&nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; 3)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo -n "Informe a quantidade de dias que se passaram: "<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; read data<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; find /home/marcos/Downloads -ctime $data<br />&nbsp;&nbsp;&nbsp; ;;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; 4)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo -n "Informe a quantidade dos últimos dias: "<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; read qtde<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; find /home/marcos/Downloads -used $qtde<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; ;;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; 5)<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; man find<br />&nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; 6|q|Q)<br />&nbsp;&nbsp;&nbsp; exit 0<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; ;;<br />&nbsp;&nbsp;&nbsp; *)<br />&nbsp;&nbsp;&nbsp; clear<br />&nbsp;&nbsp;&nbsp; echo "Por favor utilize uma das opções 1, 2, 3, 4 ou 5"<br />&nbsp;&nbsp;&nbsp; sleep 2<br />&nbsp;&nbsp;&nbsp; $0<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; ;;<br />&nbsp; esac {% endhighlight %}