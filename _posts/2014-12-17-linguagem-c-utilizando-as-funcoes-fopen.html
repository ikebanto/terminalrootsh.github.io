---
layout: post
title: 'Linguagem C: Utilizando as funções: fopen() , fputs() e fclose()'
date: '2014-12-17T12:30:00.002-08:00'
description: 'Linguagem C: Utilizando as funções: fopen() , fputs() e fclose()'
main-class: 'misc'
color: '#34a853'
author: Marcos Oliveira
tags:
- Linguagem C
modified_time: '2014-12-17T12:30:39.194-08:00'
thumbnail: http://1.bp.blogspot.com/-cs0HhoCHXIQ/UZjJ4CQI1YI/AAAAAAAABmY/z_IyX8Fu0RU/s72-c/fopen.png
twitter_text: 'Linguagem C: Utilizando as funções: fopen() , fputs() e fclose()'
introduction: 'Linguagem C: Utilizando as funções: fopen() , fputs() e fclose()'
---

<p>
<a href="http://1.bp.blogspot.com/-cs0HhoCHXIQ/UZjJ4CQI1YI/AAAAAAAABmY/z_IyX8Fu0RU/s1600/fopen.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-cs0HhoCHXIQ/UZjJ4CQI1YI/AAAAAAAABmY/z_IyX8Fu0RU/s320/fopen.png" /></a></p><p><b><u>&nbsp;&nbsp;&nbsp; O sistema de entrada e saída do ANSI C é composto por uma série de funções, cujos protótipos estão reunidos em stdio.h . Todas estas funções trabalham com o conceito de "ponteiro de arquivo". Este não é um tipo propriamente dito, mas uma definição usando o comando typedef. Esta definição também está no arquivo stdio.h. Podemos declarar um ponteiro de arquivo da seguinte maneira:</u></p><p></p><p><i>FILE *p;</i></p><p></p><p><u>p será então um ponteiro para um arquivo. É usando este tipo de ponteiro que vamos poder manipular arquivos no C.</u></p><p></p><p><span style="font-size: large;">fopen()</span></p><p></p><p><u>Esta é a função de abertura de arquivos. Seu protótipo é:</u></p><p></p><p><i>FILE *fopen (char *nome_do_arquivo,char *modo);</i></p><p></p><p><u>&nbsp;&nbsp; &nbsp;O nome_do_arquivo determina qual arquivo deverá ser aberto. Este nome deve ser válido no sistema operacional que estiver sendo utilizado. O modo de abertura diz à função fopen() que tipo de uso você vai fazer do arquivo. A tabela abaixo mostra os valores de modo válidos:</u></p><p></p><p><table border="1"><tbody><tr><td><b><span style="color: blue;">Modo</span></b></td>  <td><b><span style="color: blue;">Significado</span></b></td></tr><tr><td><b>"r" </b></td>  <td><b>Abre um arquivo texto para leitura. O arquivo deve existir antes de ser aberto.</b></td></tr><tr><td><b>"w"</b></td>  <td><b>Abrir um arquivo texto para gravação. Se o arquivo não existir, ele será criado. Se já existir, o conteúdo anterior será destruído.         Abrir um arquivo texto para gravação. Os dados serão adicionados no fim do arquivo ("append"), se ele já existir, ou um novo arquivo será criado, no caso de arquivo não</b></td></tr><tr><td><b>"a"</b></td>  <td><b>existente anteriormente.</b></td></tr><tr><td><b>"rb"</b></td>  <td><b>Abre um arquivo binário para leitura. Igual ao modo "r" anterior, só que o arquivo é binário.</b></td></tr><tr><td><b>"ab"</b></td>  <td><b>Acrescenta dados binários no fim do arquivo, como no modo "a" anterior, só que o arquivo é binário.</b></td></tr><tr><td><b>"r+"</b></td>  <td><b>Abre um arquivo texto para leitura e gravação. O arquivo deve existir e pode ser modificado.</b></td></tr><tr><td><b>"w+"</b></td>  <td><b>Cria um arquivo texto para leitura e gravação. Se o arquivo existir, o conteúdo anterior será destruído. Se não existir, será criado.         Abre um arquivo texto para gravação e leitura. Os dados serão adicionados no fim do arquivo se ele já existir, ou um novo arquivo será criado, no caso de arquivo não</b></td></tr><tr><td><b>"a+"</b></td>  <td><b>existente anteriormente.</b></td></tr><tr><td><b>"r+b"</b></td>  <td><b>Abre um arquivo binário para leitura e escrita. O mesmo que "r+" acima, só que o arquivo é binário.</b></td></tr><tr><td><b>"w+b"</b></td>  <td><b>Cria um arquivo binário para leitura e escrita. O mesmo que "w+" acima, só que o arquivo é binário.</b></td></tr><tr><td><b>"a+b"</b></td>  <td><b>Acrescenta dados ou cria uma arquivo binário para leitura e escrita. O mesmo que "a+" acima, só que o arquivo é binário</b></td></tr></tbody></table></p><p></p><p><span style="font-size: large;">fputs()</span></p><p></p><p><u>&nbsp;&nbsp; &nbsp;Escreve uma string num arquivo.</u></p><p>&nbsp;&nbsp; </p><p><span style="font-size: large;">fclose():</span></p><p></p><p><u>&nbsp;&nbsp; &nbsp;Fecha o arquivo. </u></p><p></p><p><span style="color: white;"><span style="background-color: blue;">Código de exemplo: </span></span></p><p><a href="http://pastebin.com/download.php?i=8TADP4wa">[Faça o DOWNLOAD do arquivo aqui se quiser]</a></p><p></p><p><script src="http://pastebin.com/embed_js.php?i=8TADP4wa"></script> </p><p></p><p><span style="color: white;"><span style="background-color: black;">Modo Resumido: </span></span></p><p></p><p>{% highlight bash %}#include &lt;stdio.h&gt;{% endhighlight %}</p><p>{% highlight bash %}// ################## -- MODO Resumido -- ###################</p><p>int main(){</p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Declaramos um ponteiro(link para o endereço da memória) para o arquivo de nome: 'pFile' </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FILE * pFile;</p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Esta é a função de abertura de arquivos. Com modo 'w'(Abrir um arquivo texto para gravação. Se o arquivo não existir, ele será criado. </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Se já existir, o conteúdo anterior será destruído.) </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; pFile = fopen( "pasta/arquivo.txt" , "w" );</p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //Se o arquivo for não-vazio </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if(pFile!=NULL){</p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Escreve uma string(da variável 'texto') num arquivo. </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; fputs( "fopen example" ,pFile); </p><p>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; fclose(pFile);&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </p><p>&nbsp;&nbsp;&nbsp; } </p><p>&nbsp;&nbsp;&nbsp; return 0; </p><p>} {% endhighlight %}</b>

</p>
