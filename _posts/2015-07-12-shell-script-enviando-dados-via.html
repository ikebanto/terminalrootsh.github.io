---
layout: post
title: 'Shell Script: Enviando dados via Terminal para um formulário web'
date: '2015-07-12T18:32:00.000-07:00'
description: 'Shell Script: Enviando dados via Terminal para um formulário web'
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
- Web Hacker
- Terminal
- Comandos
modified_time: '2015-07-12T18:32:07.769-07:00'
thumbnail: http://1.bp.blogspot.com/-IxSc9OYbmrw/VaMUHJEFffI/AAAAAAAABec/cAkp0-UyK5c/s72-c/curl-post-shell.png
twitter_text: 'Shell Script: Enviando dados via Terminal para um formulário web'
introduction: 'Shell Script: Enviando dados via Terminal para um formulário web'
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-IxSc9OYbmrw/VaMUHJEFffI/AAAAAAAABec/cAkp0-UyK5c/s1600/curl-post-shell.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="http://1.bp.blogspot.com/-IxSc9OYbmrw/VaMUHJEFffI/AAAAAAAABec/cAkp0-UyK5c/s400/curl-post-shell.png" width="400" /></a></div><br /><h4><b><span style="color: #999999;">COMO ENVIAR DADOS PARA FORMULÁRIO COM CURL VIA POST PELO TERMINAL COM SHELL SCRIPT</span></b></h4><b><br />&nbsp;&nbsp;&nbsp; <span style="color: blue;">Curl</span> é uma ferramenta para transferir dados de ou para um servidor, usando um dos protocolos suportados (DICT, o FILE, FTP, FTPS, GOPHER, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMTP, SMTPS, TELNET e TFTP). O comando é projetado para funcionar sem interação do usuário.<br /><br />&nbsp;&nbsp;&nbsp; <span style="color: blue;">Curl</span> oferece um busload cheio de truques úteis como suporte a proxy, autenticação de usuário, upload FTP, HTTP post, conexões SSL, cookies, transferência e muito mais. Como você verá abaixo, o número de recursos vai fazer a sua cabeça girar!<br />&nbsp;&nbsp;&nbsp; </b><br /><blockquote class="tr_bq"><b>&nbsp;&nbsp;&nbsp; SYNOPSIS</b><br /><b>&nbsp;&nbsp;&nbsp; </b><br /><b>$ curl [options] [URL...] </b></blockquote><b><br />&nbsp;&nbsp;&nbsp; Verifique se o </b><i>curl</i><b> está instalado:<br />&nbsp;&nbsp;&nbsp; <br />{% highlight bash %}$ which curl{% endhighlight %}<br /><br />&nbsp;&nbsp;&nbsp; Se retornar isso:<span style="background-color: black;"><span style="color: lime;"> /usr/bin/curl</span></span> é porque está instalado, mas se não retornar nada, é porque não está instalado e você pode instalá-lo, pelo <u>apt-get</u>:<br />&nbsp;&nbsp;&nbsp; <br />{% highlight bash %}$ su{% endhighlight %}<br />{% highlight bash %}# apt-get install curl{% endhighlight %}<br /><br />Se sua distro tiver o <span style="color: purple;">sudo</span> instalado e configurado para seu usuário, utilize-o então, ou se form outra distro que não possui <u>apt-get</u>, tente com o <span style="color: purple;">gerenciador de pacotes</span> correspondente, ou se caso desejar, baixe o pacote e compile-o:<br /><br /><span style="color: blue;"><span style="font-size: large;"><span style="background-color: white;"><a href="http://sourceforge.net/projects/curl/" target="_blank">Clique aqui para baixar o curl</a></span> </span></span><br /><br />&nbsp;&nbsp;&nbsp; Para mais informações detalhadas:<br />&nbsp;&nbsp;&nbsp; <br />{% highlight bash %}$ man curl{% endhighlight %}<br />ou<br />{% highlight bash %}$ man curlcurl --help{% endhighlight %}</b><br /><h3><span style="color: #444444;"><b>Como enviar dados para formulário com curl via post pelo terminal com Shell Script:</b></span></h3><b><br />&nbsp;&nbsp;&nbsp; Este teste foi feito em <i>localhost</i> com o <span style="color: purple;">Apache</span> e o <span style="color: purple;">PHP</span> devidamente instalados, mas se você possui um endereço na web, utilize-o!<br /><br />&nbsp;&nbsp;&nbsp; Eu criei o arquivo </b><i>formulario.php</i><b> na raíz do meu <i>localhost</i>, o arquivo possui o seguinte código:<br /><br /><div class="adp"><br /><br />&lt;?php<br />&nbsp;&nbsp;&nbsp; if(isset($_POST['enviar'])){<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if($_POST['enviar'] != ''){<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell_exec('echo Nome: '.$_POST['nome'].' - Senha: '.$_POST['senha'].' &gt;&gt; banco.txt');<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; die('Dados salvos com sucesso!');<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }else{<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; die('erro');<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; }<br />?&gt;<br />&lt;!DOCTYPE html&gt;<br />&lt;html lang="pt-br"&gt;<br /><br />&nbsp;&nbsp;&nbsp; &lt;head&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;meta charset="utf-8" /&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;title&gt;Formulario&lt;/title&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br /><br />&nbsp;&nbsp;&nbsp; &lt;body&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;form method="post" action="formulario.php"&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;p&gt;Nome: &lt;input type="text" name="nome" /&gt;&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;p&gt;Senha: &lt;input type="text" name="senha" /&gt;&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;p&gt;&lt;input type="submit" name="enviar" /&gt;&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br />&lt;/html&gt;<br /><br /></div><br /><br />&nbsp;&nbsp;&nbsp; Verifique que eu fiz um página HTML básica e pus uma condição de envio de formulário. Outra coisa, eu utilizo o <span style="color: purple;">shell_exec</span> (<span style="color: purple;">PHP</span> para executar Shell) para criar um novo arquivo banco.txt e salvar os dados enviados, mas você pode fazer do jeito que quiser: <span style="color: purple;">MySQL</span>, <span style="color: purple;">fopen()</span>,...<br /><br />&nbsp;&nbsp;&nbsp; Devidamente criada a página que irá receber os dados, vamos mandar os dados via Shell pelo Terminal.<br />&nbsp;&nbsp;&nbsp; O <i>-F</i> indica o </b><i>input HTML</i><b>, e depois indicamos a </b><i>URL</i><b>, o <span style="color: blue;">&amp;&amp; echo</span> é só pra pular linha mesmo, abra o terminal e envie o comando abaixo:<br /><br />{% highlight bash %}$ curl -F 'nome=TerminalRoot' -F 'senha=gnu123' -F 'enviar=ok' http://127.0.0.1/formulario.php &amp;&amp; echo{% endhighlight %}<br /><br />&nbsp;&nbsp;&nbsp; Pronto, depois é verificar lá na pasta do servidor se há o arquivo </b><i>banco.txt</i><b> e verificar se os dados estão lá<br /><br />{% highlight bash %}$ cat /var/www/html/banco.txt{% endhighlight %}&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; <br /><span style="font-size: large;">Qualquer coisa é só comentar! :)</span></b>