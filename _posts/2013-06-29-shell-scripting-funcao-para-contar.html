---
layout: post
title: 'Shell Scripting: Função para contar palavra num arquivo'
date: '2013-06-29T19:07:00.002-07:00'
description: 'Shell Scripting: Função para contar palavra num arquivo'
main-class: 'linux'
color: '#3b5998'
author: The Bang Bash
tags:
- Linux
- Shell Script
- SED
modified_time: '2014-10-29T17:03:11.471-07:00'
thumbnail: http://2.bp.blogspot.com/-H1Jn6ZiyQDE/Uc-SiQ27ukI/AAAAAAAACFI/5kj-uQHxILQ/s72-c/shell+scripting+bash+.jpg
twitter_text: 'Shell Scripting: Função para contar palavra num arquivo'
introduction: 'Shell Scripting: Função para contar palavra num arquivo'
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-H1Jn6ZiyQDE/Uc-SiQ27ukI/AAAAAAAACFI/5kj-uQHxILQ/s720/shell+scripting+bash+.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-H1Jn6ZiyQDE/Uc-SiQ27ukI/AAAAAAAACFI/5kj-uQHxILQ/s720/shell+scripting+bash+.jpg" height="200" width="200" /></a></div>

<blockquote class="tr_bq"><b>Olá galera, acabei de criar essa <span style="color: blue;">função</span> , serve pra contar quantas vezes uma determinada palavra aparece num texto(arquivo) modo de utilizar entre outros dados, no próprio cabeçalho do <span style="color: blue;">Script</span>, cada linha explicada nos <span style="color: blue;">comentários</span>.</b></blockquote><b>
</b><b>Código-PasteBin: <iframe src="http://pastebin.com/raw/460WY6cH" style="border:none;width:100%;"></iframe></b>
<b>
</b><b>Código-Blog:</b>
<div class="adp"><b>#!/bin/bash
# ---------------------------------------------------------------
# ./contapalavra
#
# Shell Scripting: Função para contar palavra num arquivo
#
# Uso: contapalavras [palavra] [arquivo]
#
# Ex.: ./contapalavras MinhaPalavra arquivo.txt
#
# Autor: Marcos da Boa Morte, www.terminalroot.com.br
# Desde: Sáb 29 Jun 2013 22:53:28 BRT 
# Versão: 1
# Licença: GPL
# ----------------------------------------------------------------
contapalavra(){

 # Deixa todas as palavras numa única linha
 sed 's/ /\n/g' $2 | 
 
 # apaga todas as linhas em branco
 sed '/^$/d' | 
 
 # Remove caracteres que não são parte de palavras
 sed 's/[^A-Za-z0-9ÀàÁáÂâÃãÉéÊêÍíÓóÔôÕõÚúÇç_-]/ /g' | 
 
 # Ordena as palavras em ordem alfabética
 sort -n | 
 
 # exibe quantidade de vezes que aparece em cada linha a palavra X
 uniq -c | 
 
 # ordena por numeros a quantidade de uniq
 sort -n | 
 
 # exibe as linhas que contém a palavra procurada
 # n (mostra o número de cada linha; 
 # i ignora a diferença entre letras maiúsculas e letras minúsculas
 egrep -ni "$1" | 
 
 # o egrep(pós uniq) exibe [numero: palavra], então o cut retira o : e o que vem antes dele
 cut -d: -f2 | 
 
 # troca os espaços vazios por quebra de linha
 sed 's/ /\n/g' | 
 
 # remove novamente as linhas em branco
 sed '/^$/d' | 
 
 #exibe o número(que está na primeira linha)
 sed -n 1p
 
 # exibição intuitiva, caso queira.
 #echo "A palavra ($1) aparece: "$(sed -n 1p) " vezes no arquivo: "$2
}

# chama a função e passa os parâmetros para ela.
contapalavra $1 $2</b></div>

</p>
