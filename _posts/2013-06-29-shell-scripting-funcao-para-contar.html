---
layout: post
title: 'Shell Scripting: Função para contar palavra num arquivo'
date: '2013-06-29T19:07:00.002-07:00'
description: 'Shell Scripting: Função para contar palavra num arquivo'
main-class: 'linux'
color: '#3b5998'
author: The Bang Bash
tags:
- Linux
- Shell Script
- SED
modified_time: '2014-10-29T17:03:11.471-07:00'
thumbnail: http://2.bp.blogspot.com/-H1Jn6ZiyQDE/Uc-SiQ27ukI/AAAAAAAACFI/5kj-uQHxILQ/s72-c/shell+scripting+bash+.jpg
twitter_text: 'Shell Scripting: Função para contar palavra num arquivo'
introduction: 'Shell Scripting: Função para contar palavra num arquivo'
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-H1Jn6ZiyQDE/Uc-SiQ27ukI/AAAAAAAACFI/5kj-uQHxILQ/s720/shell+scripting+bash+.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-H1Jn6ZiyQDE/Uc-SiQ27ukI/AAAAAAAACFI/5kj-uQHxILQ/s720/shell+scripting+bash+.jpg" height="200" width="200" /></a></div><br /><br /><blockquote class="tr_bq"><b>Olá galera, acabei de criar essa <span style="color: blue;">função</span> , serve pra contar quantas vezes uma determinada palavra aparece num texto(arquivo) modo de utilizar entre outros dados, no próprio cabeçalho do <span style="color: blue;">Script</span>, cada linha explicada nos <span style="color: blue;">comentários</span>.</b></blockquote><b><br /></b><b>Código-PasteBin: <script src="http://pastebin.com/embed_js.php?i=460WY6cH"></script></b><br /><b><br /></b><b>Código-Blog:</b><br /><div class="adp"><b>#!/bin/bash<br /># ---------------------------------------------------------------<br /># ./contapalavra<br />#<br /># Shell Scripting: Função para contar palavra num arquivo<br />#<br /># Uso: contapalavras [palavra] [arquivo]<br />#<br /># Ex.: ./contapalavras MinhaPalavra arquivo.txt<br />#<br /># Autor: Marcos da Boa Morte, www.terminalroot.com.br<br /># Desde: Sáb 29 Jun 2013 22:53:28 BRT <br /># Versão: 1<br /># Licença: GPL<br /># ----------------------------------------------------------------<br />contapalavra(){<br /><br />&nbsp; # Deixa todas as palavras numa única linha<br />&nbsp;&nbsp;&nbsp; sed 's/ /\n/g' $2 | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # apaga todas as linhas em branco<br />&nbsp;&nbsp;&nbsp; sed '/^$/d' | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # Remove caracteres que não são parte de palavras<br />&nbsp;&nbsp;&nbsp; sed 's/[^A-Za-z0-9ÀàÁáÂâÃãÉéÊêÍíÓóÔôÕõÚúÇç_-]/ /g' | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # Ordena as palavras em ordem alfabética<br />&nbsp;&nbsp;&nbsp; sort -n | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # exibe quantidade de vezes que aparece em cada linha a palavra X<br />&nbsp;&nbsp;&nbsp; uniq -c | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # ordena por numeros a quantidade de uniq<br />&nbsp;&nbsp;&nbsp; sort -n | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # exibe as linhas que contém a palavra procurada<br />&nbsp;&nbsp;&nbsp; # n (mostra o número de cada linha; <br />&nbsp;&nbsp;&nbsp; # i ignora a diferença entre letras maiúsculas e letras minúsculas<br />&nbsp;&nbsp;&nbsp; egrep -ni "$1" | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # o egrep(pós uniq) exibe [numero: palavra], então o cut retira o : e o que vem antes dele<br />&nbsp;&nbsp;&nbsp; cut -d: -f2 | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # troca os espaços vazios por quebra de linha<br />&nbsp;&nbsp;&nbsp; sed 's/ /\n/g' | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # remove novamente as linhas em branco<br />&nbsp;&nbsp;&nbsp; sed '/^$/d' | <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; #exibe o número(que está na primeira linha)<br />&nbsp;&nbsp;&nbsp; sed -n 1p<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; # exibição intuitiva, caso queira.<br />&nbsp;&nbsp;&nbsp; #echo "A palavra ($1) aparece: "$(sed -n 1p) " vezes no arquivo: "$2<br />}<br /><br /># chama a função e passa os parâmetros para ela.<br />contapalavra $1 $2&nbsp;</b></div>