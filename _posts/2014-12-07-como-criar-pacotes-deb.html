---
layout: post
title: Como criar pacotes .deb
date: '2014-12-07T05:46:00.000-08:00'
author: Marcos Oliveira
tags:
- Debian
- Linux
- Dicas
- Debian-Likes
- GNU
modified_time: '2014-12-07T05:46:32.518-08:00'
thumbnail: http://3.bp.blogspot.com/-EF6g9Sz9ERg/VIRZ_8lbAVI/AAAAAAAABCw/-TBNqobvzlY/s72-c/pacotes%2B%2B.deb%2B.png
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-2819980297224088352
blogger_orig_url: http://www.terminalroot.com.br/2014/12/como-criar-pacotes-deb.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-EF6g9Sz9ERg/VIRZ_8lbAVI/AAAAAAAABCw/-TBNqobvzlY/s1600/pacotes%2B%2B.deb%2B.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-EF6g9Sz9ERg/VIRZ_8lbAVI/AAAAAAAABCw/-TBNqobvzlY/s320/pacotes%2B%2B.deb%2B.png" /></a></div><b>Pacotes <span style="color: blue;">.deb</span> facilitam a instalação de aplicativos, aqui no blog tem dois Posts que demonstram como Instalar o <a href="http://terminalroot.com.br/2011/11/como-instalar-o-eclipse-phpgalileo-no.html" target="_blank">Eclipse Galileo</a> e o <a href="http://terminalroot.com.br/2011/11/como-instalar-o-aptana-studio-3-no.html" target="_blank">Aptana</a>, mas tudo poderia ser desprezado, se eu criasse um pacote .deb e disponibilizasse pra download, mas essa não é a idéia desse blog.Os pacotes podem ser instalado em Debian e Debian-Likes (Ubuntu, Linux Mint, Backtrack 5...), que possuem o mesmo caminho para os diretórios dos aplicativos.</b><br /><b><br /></b><b>è bem simples criar pacotes .deb, vamos começar então:</b><br /><b><br /></b><b>1 - crie uma pasta onde você desejar que será o nome do programa, aqui eu vou criar a pasta terminalroot dentro da minha Área de Trabalho.</b><br /><b>2 - Depois crie dentro da sua pasta uma pasta em maiúsculo, com o nome DEBIAN</b><br /><b>3 - dentro da pasta DEBIAN, crie um arquivo com o nome de control, sem extensão.</b><br /><b>4 - abra esse arquivo com seu editr de texto(gEdit por exemplo) e preencha com o código abaixo:</b><br /><b>{% highlight bash %}Package:terminalroot<br />Version: 0.1<br />Priority:<br />Architecture: all<br />Essential:<br />Depends:<br />Pre-depends:<br />Suggests:<br />Installed-Size:<br />Maintainer: Marcos da B. M. Oliveira<br />Conflicts:<br />Replaces:<br />Provides:<br />Description: Acesse o blog terminalroot.com.br e descubra como criar pacotes .deb{% endhighlight %}</b><br /><b><br /></b><b>No código acima, as linhas que são obrigatórias, estão preenchidas, porém algumas linhas como Depends, por exemplo, se você preencher com pacotes necessários para o funcionamento do programa o GDebi-Installer não instalará se não houver estas dependências, porém com os campos acima mencionados já podemos instalar o programa pelo GDebi-Installer.</b><br /><b><br /></b><b>Agora vamos ao programa, se você baixou um tarball e não quer perder o tempo copiando arquivos pra dentro de pastas...você pode criar um .deb e executá-lo, ou até mesmo, dar dois cliques nele, se o pacote foi criado com o root, ele pedirá a senha de root.</b><br /><b><br /></b><b>5 - Dentro da pasta que você criou que aqui estou chamando de terminalroot, crie as diretivas que você deseja, por exemplo, crie uma pasta com o nome "usr", dentro de "usr", crie uma pasta com o nome "bin" e dentro de "bin"(ISSO SERÁ O MESMO DE VOCÊ INFORMAR QUAIS OS CAMINHOS NO SEU COMPUTADOR QUE DESEJA PARA ONDE OS ARQUIVOS SEJAM COPIADOS) coloque um arquivo, sem extensão com esse código abaixo por exemplo:</b><br /><b>{% highlight bash %}#!/bin/sh<br />echo "Acesse: terminalroot.com.br e descubra uma pá de coisa!"{% endhighlight %}</b><br /><b><br /></b><b>e salve com o nome terminalroot, lembrando que logo após isso dê permissão de execução pra esse arquivo {% highlight bash %}# chmod +x terminalroot{% endhighlight %}, no diretório que será criado o .deb, vc também pode criar as pastas e sub-pastas pelo terminal, assim:{% highlight bash %}# mkdir -p usr/bin{% endhighlight %} o "usr" não pode ter "/" na frente e você deve estar dentro do diretório terminalroot, pois se se fizer /usr , será criado, se houver permissão, dentro do "usr" do seu computador.Você também pode criar um ícone no painel do Gnome, é só criar a pasta que ficará a imagem no seu computador e a imagem, exemplo:</b><br /><b>{% highlight bash %}# mkdir opt/<br /># cp imagem.png terminalroot/opt{% endhighlight %}, e depois criar o icone que aparecerá no painel, exemplo, terminalroot.desktop, dae teria essa configuração dentro do arquivo:</b><br /><b>{% highlight bash %}[Desktop Entry]<br />Name=Marcos Pinguim<br />Icon=/opt/terminalroot.png<br />Type=Application<br />Categories=GNOME;GTK;Utility;TextEditor;<br />Exec=terminalroot<br />StartupNotify=false<br />Terminal=false{% endhighlight %}, para isso é necessário haver o carregamento do gtk na execução do programa, que não será esse caso, somente se você digitar no terminal "terminalroot", obterá o texto do salvo no arquivo usr/bin/terminalroot, e salvará esse arquivo terminalroot.desktop dentro da pasta que será criado o pacote .deb:</b><br /><b>{% highlight bash %}# mkdir -p{% endhighlight %}<br /><br /><br />6-depois de criar a pasta DEBIAN; o arquivo control; as pasta na raiz da pasta que será copiado os arquivos, e pôr os arquivos que serão copiados dentro das suas respectivas páginas, basta agora "compactar" em .deb<br />{% highlight bash %}# dpkg-deb -b terminalroot/ terminalroot.0.1.deb{% endhighlight %}, e o pacotes será criado.Agora instale-o, ou dando dois cliques(ou abrindo com o Gdebi-installer), ou pelo terminal:{% highlight bash %}# dpkg -i terminalroot.0.1.deb{% endhighlight %}<br /><br />Todas as tarefas restantes serão feitas automaticamente, e o pacote será instalado.Agora vá ao terminal e digite "terminalroot", terá o texto preconfigurado para responder, se fosse um software seria executado, se houve Gtk pre-configurada abriria a janela, até mesmo pelo ícone pre-programado, se você for no painel Aplicativos-&gt;Acessórios, verá a imagem lá, entre as opções dos aplicativos, porém se clicar não fará nada.Para remover, basta:<br />{% highlight bash %}# apt-get remove terminalroot{% endhighlight %}, que todos os aruquivos copiados serão remvidos, inclusive as imagens.<br /><br />Pronto, é só isso, espero que gostem e comentem.</b><br /><br />