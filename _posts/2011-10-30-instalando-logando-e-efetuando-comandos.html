---
layout: post
title: Instalando, logando e efetuando comandos básicos no PostGreSQL.
date: '2011-10-30T13:06:00.000-07:00'
description: Instalando, logando e efetuando comandos básicos no PostGreSQL.
main-class: 'misc'
color: '#34a853'
author: The Bang Bash
tags:
- PostGreSQL
modified_time: '2013-05-03T07:16:11.514-07:00'
twitter_text: Instalando, logando e efetuando comandos básicos no PostGreSQL.
introduction: Instalando, logando e efetuando comandos básicos no PostGreSQL.
---

<p>
<b>Vamos começar do início:

Instalando o PostGreSQL</b>
{% highlight bash %}

apt-get install postgresql-8.3
apt-get install postgresql-server-dev-8.3
apt-get install phppgadmin

{% endhighlight %}

<b>Logando pela primeira vez no PostGreSQL,
para poder logar com senha sem que haja erro:</b>

{% highlight bash %}

gedit /etc/postgresql/8.3/main/pg_hba.conf

{% endhighlight %}

<p>trocar isso:</p>

{% highlight bash %}

# Database administrative login by UNIX sockets
local   all         postgres                          ident sameuser

{% endhighlight %}

<p>por isso:</p>

{% highlight bash %}

# Database administrative login by UNIX sockets
local   all         postgres                          password

{% endhighlight %}

<p>Reiniciar o postgreSQL</p>

{% highlight bash %}

/etc/init.d/postgresql-8.3 restart

{% endhighlight %}

<p>Para logar com o usuário postgres:</p>

{% highlight bash %}

# su postgres

{% endhighlight %}

<p>Para criar um novo usuário:</p>

{% highlight bash %}

$ CREATEUSER -P nome-do-usuário

{% endhighlight %}

<blockquote>Obs.:Voçê também pode fazer alterações pelo phpPGadmin
http://localhost/phppgadmin , caso encontre alguma dificuladade, mas primeiro deve criar o usuario e pôr a senha para logar.</blockquote>
<b>Agora, “opcionalmente” mais medidas de segurança “podem/devem” ser tomadas:
</b>
Edite o arquivo {% highlight bash %}
/etc/postgresql/8.3/main/pg_hba.conf
{% endhighlight %}, responsável por configurar como e quem se conecta e autentica ao banco de dados;

Onde há:
{% highlight bash %}

local all postgres ident sameuser

{% endhighlight %}
<p>Substitua por:</p>

{% highlight bash %}
local all postgres md5 sameuser
{% endhighlight %}

Logando no PostGre:

{% highlight bash %}

psql -U postgres -W
Senha para usuário postgres:
Bem vindo ao psql 8.3.14, o terminal iterativo do PostgreSQL.

Digite:  \copyright para mostrar termos de distribuição
\h para ajuda com comandos SQL
\? para ajuda com comandos do psql
\g ou terminar com ponto-e-vírgula para executar a consulta
\q para sair

postgres=#

{% endhighlight %}

<p>Criando novos usuarios:</p>

{% highlight bash %}

CREATE USER marcos\g
CREATE ROLE
postgres=#

{% endhighlight %}

<blockquote>Obs.: Antes vc deve logar com o usuario padrão “postgres” e criar um banco de dados com o nome do usuario que deseja criar.</blockquote>
<p>Comando para criar um Banco de Dados:</p>

{% highlight bash %}

CREATE DATABASE usuario \g
CREATE DATABASE
postgres=#

{% endhighlight %}
<b>
Criando tabela:</b>

{% highlight bash %}

marcos=> CREATE TABLE tabela (login varchar(20) null, senha varchar(20) null)\g
CREATE TABLE
marcos=>

{% endhighlight %}

<p>Inserindo dados na tabela criada:</p>

{% highlight bash %}

marcos=> INSERT INTO tabela VALUES ('marcos', 'senha123')\g
INSERT 0 1
marcos=>

{% endhighlight %}

<p>Executando o comando de criar novos usuarios:</p>

{% highlight bash %}

postgres=# CREATE USER livrexpert\g
CREATE ROLE
postgres=#

{% endhighlight %}

<blockquote>Obs.:Durante instalação pra quem tem o Debian NetInstall instalado, provavelmente seu sistema irá solicitar o CD para completar a instalação:

Troca de mídia: por favor, insira o disco nomeado
'Debian GNU/Linux 5.0.3 _Lenny_ - Official i386 CD Binary-1 20090905-08:23'
na unidade '/cdrom/' e pressione enter</blockquote>

</p>
