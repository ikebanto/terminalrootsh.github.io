---
layout: post
title: goto, tipos, strings e ponteiros em C
date: '2012-11-24T16:20:00.000-08:00'
description: goto, tipos, strings e ponteiros em C
main-class: 'misc'
color: '#34a853'
author: The Bang Bash
tags:
- Linguagem C
modified_time: '2013-05-03T07:16:06.387-07:00'
thumbnail: http://3.bp.blogspot.com/-MQhmsm8Iagk/ULFi9jpNuJI/AAAAAAAAAt4/-HhwNS877bU/s72-c/barra+invertida.png
twitter_text: goto, tipos, strings e ponteiros em C
introduction: goto, tipos, strings e ponteiros em C
---

<p>
<!-------------------------------------------------><script type="text/javascript"><!-- google_ad_client = "ca-pub-5528601613414387"; google_ad_host = "pub-1556223355139109"; /* quadrados */ google_ad_slot = "9713010559"; google_ad_width = 200; google_ad_height = 200; </script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script><!-----------------------------------------------></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-MQhmsm8Iagk/ULFi9jpNuJI/AAAAAAAAAt4/-HhwNS877bU/s1600/barra+invertida.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="246" src="http://3.bp.blogspot.com/-MQhmsm8Iagk/ULFi9jpNuJI/AAAAAAAAAt4/-HhwNS877bU/s400/barra+invertida.png" width="400" /></a></div></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-2g8Nnc9lhMk/ULFi-MudE-I/AAAAAAAAAuA/umJykZ-YRgM/s1600/operadores+l%C3%B3gicos.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="248" src="http://4.bp.blogspot.com/-2g8Nnc9lhMk/ULFi-MudE-I/AAAAAAAAAuA/umJykZ-YRgM/s400/operadores+l%C3%B3gicos.png" width="400" /></a></div></p><p><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-SpRIYzK3txg/ULFi-20RxmI/AAAAAAAAAuI/Q8UQjwt30A4/s1600/tipos.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="307" src="http://3.bp.blogspot.com/-SpRIYzK3txg/ULFi-20RxmI/AAAAAAAAAuI/Q8UQjwt30A4/s400/tipos.png" width="400" /></a></div>...</p><p><span style="font-size: large;"><b>Strings C</b></span></p><p></p><p><b>Strings são vetores de chars. Nada mais e nada menos. As strings são o uso mais comum para os vetores. Devemos apenas ficar atentos para o fato de que as strings têm o seu último elemento como um '\0'. A declaração geral para uma string é:</p><p>&nbsp;&nbsp;&nbsp;&nbsp; </b><i>char nome_da_string [tamanho];</i><b></p><p>Devemos lembrar que o tamanho da string deve incluir o '\0' final. A biblioteca padrão do C possui diversas funções que manipulam strings. Estas funções são úteis pois não se pode, por exemplo, igualar duas strings:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b><i>string1=string2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* NAO faca isto */</i><b></p><p>Fazer isto é um desastre. Quando você terminar de ler a seção que trata de ponteiros você entenderá porquê. As strings devem ser igualadas elemento a elemento.</p><p>&nbsp;Quando vamos fazer programas que tratam de string muitas vezes podemos fazer bom proveito do fato de que uma string termina com '\0' (isto é, o número inteiro 0). Veja, por exemplo, o programa abaixo que serve para igualar duas strings (isto é, copia os caracteres de uma string para o vetor da outra):</p><p></p><p><u>strcpy</u></p><p>Sua forma geral é:</p><p>&nbsp;strcpy (string_destino,string_origem);</p><p>&nbsp;A função strcpy() copia a string-origem para a string- destino. Seu funcionamento é semelhante ao da rotina apresentada na seção anterior. As funções apresentadas nestas seções estão no arquivo cabeçalho string.h. A seguir apresentamos um exemplo de uso da função strcpy():</p><p></p><p>{% highlight bash %}#include &lt;stdio.h&gt;</p><p>#include &lt;string.h&gt;</p><p>int main ()</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char str1[100],str2[100],str3[100];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("Entre com uma string: ");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gets (str1);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strcpy (str2,str1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Copia str1 em str2 */</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strcpy (str3,"Voce digitou a string "); /* Copia "Voce digitou a string" em str3 */</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("\n\n%s%s",str3,str2);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return(0);</p><p>}{% endhighlight %}</p><p></p><p><u>strcat</u></p><p>A função strcat() tem a seguinte forma geral:</p><p>&nbsp;strcat (string_destino,string_origem);</p><p>&nbsp;A string de origem permanecerá inalterada e será anexada ao fim da string de destino. Um exemplo:</p><p></p><p>{% highlight bash %}#include &lt;stdio.h&gt;</p><p>#include &lt;string.h&gt;</p><p>int main ()</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char str1[100],str2[100];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("Entre com uma string: ");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gets (str1);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strcpy (str2,"Voce digitou a string ");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strcat (str2,str1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* str2 armazenara' Voce digitou a string + o conteudo de str1 */</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("\n\n%s",str2);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return(0);</p><p>}{% endhighlight %}</p><p></p><p><u>strlen</u></p><p>Sua forma geral é:</p><p>&nbsp;strlen (string);</p><p>&nbsp;A função strlen() retorna o comprimento da string fornecida. O terminador nulo não é contado. Isto quer dizer que, de fato, o comprimento do vetor da string deve ser um a mais que o inteiro retornado por strlen(). Um exemplo do seu uso:</p><p></p><p>{% highlight bash %}#include &lt;stdio.h&gt;</p><p>#include &lt;string.h&gt;</p><p>int main ()</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int size;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char str[100];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("Entre com uma string: ");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gets (str);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size=strlen (str);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("\n\nA string que voce digitou tem tamanho %d",size);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return(0);</p><p>}{% endhighlight %}</p><p></p><p><u>strcmp</u></p><p>Sua forma geral é:</p><p>&nbsp;strcmp (string1,string2);</p><p>&nbsp;A função strcmp() compara a string 1 com a string 2. Se as duas forem idênticas a função retorna zero. Se elas forem diferentes a função retorna não-zero. Um exemplo da sua utilização:</p><p></p><p>{% highlight bash %}#include &lt;stdio.h&gt;</p><p>#include &lt;string.h&gt;</p><p>int main ()</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char str1[100],str2[100];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("Entre com uma string: ");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gets (str1);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("\n\nEntre com outra string: ");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gets (str2);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (strcmp(str1,str2))</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf ("\n\nAs duas strings são diferentes.");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else printf ("\n\nAs duas strings são iguais.");</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return(0);</p><p>}{% endhighlight %}</p><p></p><p><span style="font-size: large;">Declarando e Utilizando Ponteiros</span></p><p></p><p>Para declarar um ponteiro temos a seguinte forma geral:</p><p>&nbsp;tipo_do_ponteiro *nome_da_variável;</p><p>&nbsp;É o asterisco (*) que faz o compilador saber que aquela variável não vai guardar um valor mas sim um endereço para aquele tipo especificado. Vamos ver exemplos de declarações:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int *pt;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *temp,*pt2;</p><p>O primeiro exemplo declara um ponteiro para um inteiro. O segundo declara dois ponteiros para caracteres. Eles ainda não foram inicializados (como toda variável do C que é apenas declarada). Isto significa que eles apontam para um lugar indefinido. Este lugar pode estar, por exemplo, na porção da memória reservada ao sistema operacional do computador.</p><p></p><p><span style="font-size: large;">Cuidados a Serem Tomados ao se Usar Ponteiros</span></p><p></p><p>O principal cuidado ao se usar um ponteiro deve ser: saiba sempre para onde o ponteiro está apontando. Isto inclui: nunca use um ponteiro que não foi inicializado. Um pequeno programa que demonstra como não usar um ponteiro:</p><p>{% highlight bash %}</p><p>int main () /* Errado - Nao Execute */</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int x,*p;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x=13;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *p=x;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return(0);</p><p>}{% endhighlight %}</p><p>Este programa compilará e rodará. O que acontecerá? Ninguém sabe. O ponteiro p pode estar apontando para qualquer lugar. Você estará gravando o número 13 em um lugar desconhecido. Com um número apenas, você provavelmente não vai ver nenhum defeito. Agora, se você começar a gravar números em posições aleatórias no seu computador, não vai demorar muito para travar o micro (se não acontecer coisa pior).</p><p></p><p><span style="font-size: large;">Obs.: É importante ressaltar a necessidade de se colocar um &amp; antes do nome da variável a ser lida quando se usa a função scanf().</span></p><p></p><p></p><p></b>

</p>
