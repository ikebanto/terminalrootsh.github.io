---
layout: post
title: Função Shell Script para instalar o PHP-GTK
date: '2014-09-23T18:22:00.001-07:00'
author: Marcos Oliveira
tags:
- Shell Script
- PHP-GTK
modified_time: '2014-09-23T18:22:51.750-07:00'
thumbnail: http://4.bp.blogspot.com/-sYP3rtRKiaI/VCIcrSdcdmI/AAAAAAAAAzQ/DMfYqwB5eL4/s72-c/php-gtk-terminal-root.gif
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-467403256580224363
blogger_orig_url: http://www.terminalroot.com.br/2014/09/funcao-shell-script-para-instalar-o-php.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-sYP3rtRKiaI/VCIcrSdcdmI/AAAAAAAAAzQ/DMfYqwB5eL4/s1600/php-gtk-terminal-root.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-sYP3rtRKiaI/VCIcrSdcdmI/AAAAAAAAAzQ/DMfYqwB5eL4/s1600/php-gtk-terminal-root.gif" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-QYC3LoeuJsE/VCIbwdBvGWI/AAAAAAAAAzI/ktugeeniKiw/s1600/php-gtk.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><br /></a></div><span style="font-size: large;"><b>Segue o código abaixo no <span style="color: #999999;">Pastebin</span> e no <span style="color: blue;">Blog</span>.</b></span><br /><blockquote class="tr_bq"><span style="font-size: large;"><b><span style="color: red;">Atenção: A FUNÇÃO É RECOMENDADA PARA 32 BITS.</span></b></span></blockquote><br /><u><i><span style="font-size: large;">Código no PasteBin:</span></i></u><br /><script src="http://pastebin.com/embed_js.php?i=dZt3gjCb"></script> <u><i><span style="font-size: large;">Código no Blog:</span></i></u><br /><div class="adp">#!/bin/bash<br /># --------------------------------------<br /># Função Shell Script para instalar o PHP-GTK<br /># ./PHPGTKinstalar<br />#<br /># Uso: ./PHPGTKinstalar<br />#<br /># Autor: Marcos Oliveira , http://www.terminalroot.com.br/<br /># Desde: Sáb 20 Set 2014 17:26:27 BRT&nbsp; <br /># Versão: 2<br /># Licença: GPL<br /># --------------------------------------<br />PHPGTKinstalar(){<br />&nbsp;&nbsp;&nbsp; reset<br />&nbsp;&nbsp;&nbsp; if [ "$USER" = 'root' ]; then <br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo "-------------------------------------------------------"<br />&nbsp;&nbsp;&nbsp; else<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo -e "Você precisa estar logado como \033[4;28mroot\033[0m\nAbortar.";<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; exit 0<br />&nbsp;&nbsp;&nbsp; fi<br />&nbsp;&nbsp;&nbsp; url="http://master.dl.sourceforge.net/project/phpgtk2/";<br />&nbsp;&nbsp;&nbsp; pacote="php-gtk2.tar.gz";<br /><br />&nbsp;&nbsp;&nbsp; # baixar pacote<br />&nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; -ne&nbsp;&nbsp;&nbsp; "[OK]&nbsp;&nbsp;&nbsp; Baixando pacote...\n"<br />&nbsp;&nbsp;&nbsp; wget "$url""$pacote"<br />&nbsp;&nbsp;&nbsp; sleep 1<br /><br />&nbsp;&nbsp;&nbsp; # movendo para pasta ideal<br />&nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; -ne&nbsp;&nbsp;&nbsp; "[OK]&nbsp;&nbsp;&nbsp; Movendo pacote...\n"<br />&nbsp;&nbsp;&nbsp; mv php-gtk2.tar.gz /usr/local/<br />&nbsp;&nbsp;&nbsp; sleep 1<br /><br />&nbsp;&nbsp;&nbsp; # entrando do diretório ideal<br />&nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; -ne&nbsp;&nbsp;&nbsp; "[OK]&nbsp;&nbsp;&nbsp; Posicionado-se ao pacote...\n"<br />&nbsp;&nbsp;&nbsp; cd /usr/local/<br />&nbsp;&nbsp;&nbsp; sleep 1<br /><br />&nbsp;&nbsp;&nbsp; # desempacotando<br />&nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; -ne&nbsp;&nbsp;&nbsp; "[OK]&nbsp;&nbsp;&nbsp; Extraindo pacote...\n"<br />&nbsp;&nbsp;&nbsp; tar -zxf php-gtk2.tar.gz<br />&nbsp;&nbsp;&nbsp; sleep 1<br /><br />&nbsp;&nbsp;&nbsp; # atribuindo permissão<br />&nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; -ne&nbsp;&nbsp;&nbsp; "[OK]&nbsp;&nbsp;&nbsp; Alterando permissão...\n"<br />&nbsp;&nbsp;&nbsp; chmod 777 php-gtk2 -Rf<br />&nbsp;&nbsp;&nbsp; sleep 1<br /><br />&nbsp;&nbsp;&nbsp; # copiando<br />&nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; -ne&nbsp;&nbsp;&nbsp; "[OK]&nbsp;&nbsp;&nbsp; Copiando arquivos...\n"<br />&nbsp;&nbsp;&nbsp; cp -R /usr/local/php-gtk2/share/gtksourceview-1.0/ /usr/share/<br />&nbsp;&nbsp;&nbsp; sleep 1<br /><br />&nbsp;&nbsp;&nbsp; # criando link simbólico<br />&nbsp;&nbsp;&nbsp; echo&nbsp;&nbsp;&nbsp; -ne&nbsp;&nbsp;&nbsp; "[OK]&nbsp;&nbsp;&nbsp; Criando link..."<br />&nbsp;&nbsp;&nbsp; ln -sf /usr/local/php-gtk2/bin/php /usr/bin/php-gtk2<br /><br />&nbsp;&nbsp;&nbsp; # gerando arquivo de teste<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo '<br />&lt;?php<br /><br />$wnd = new GtkWindow();<br />$wnd-&gt;set_default_size(400,200);<br />$wnd-&gt;set_title("Instalacao realizada com sucesso!");<br />$wnd-&gt;connect_simple("destroy", array("gtk", "main_quit"));<br />$lblHello = new GtkLabel("Instalacao realizada com sucesso!");<br />$wnd-&gt;add($lblHello);<br />$wnd-&gt;show_all();<br />Gtk::main();<br /><br />?&gt;<br />' &gt; teste_da_instalacao.php<br /><br />&nbsp;&nbsp;&nbsp; if [ "$(which php-gtk2)" ]; then<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; php-gtk2 teste_da_instalacao.php<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit 0<br />&nbsp;&nbsp;&nbsp; else<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; echo -e "\033[1;28m\nErro, contate: binbash@linuxmail.org\n\033[0m"<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit 1<br />&nbsp;&nbsp;&nbsp; fi<br />}<br />PHPGTKinstalar </div>