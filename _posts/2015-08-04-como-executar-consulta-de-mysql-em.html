---
layout: post
title: Como executar consulta de MySQL em Shell Script
date: '2015-08-04T13:02:00.003-07:00'
description: Como executar consulta de MySQL em Shell Script
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
- MySQL
modified_time: '2015-08-04T13:02:46.204-07:00'
thumbnail: http://2.bp.blogspot.com/-Gp2R3e-QloQ/VcEYC29KllI/AAAAAAAABnM/DszR3IGnbi8/s72-c/mysql-shell-script.jpg
twitter_text: Como executar consulta de MySQL em Shell Script
introduction: Como executar consulta de MySQL em Shell Script
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Gp2R3e-QloQ/VcEYC29KllI/AAAAAAAABnM/DszR3IGnbi8/s1600/mysql-shell-script.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-Gp2R3e-QloQ/VcEYC29KllI/AAAAAAAABnM/DszR3IGnbi8/s1600/mysql-shell-script.jpg" /></a></div><b></b>
<blockquote class="tr_bq"><b><span style="font-size: large;">Quando você está escrevendo um Shell Script como parte de algum processamento em lote, há casos em que o script precisa processar dados armazenados em um servidor MySQL separado. As linguagens de script de uso geral, como Perl e Python têm módulos separados ou interfaces MySQL para usar, mas linguagens de script shell não dispõem dessa interface para o MySQL. No entanto, existem maneiras de executar algumas consultas MySQL simples, e processar o resultado através de Shell Script.</span></b></blockquote><b>
<span style="font-size: large;">Primeiro, você precisa instalar o cliente MySQL na máquina onde será executado o script shell.</span>
<span style="font-size: large;">Partindo do princípio que é o caso, você pode executar o seguinte script. O exemplo de código apresentado aqui vai uma chamada MySQL simples SELECT, e processa o resultado que contém potencialmente várias linhas.</span></b>
<b>
</b><b><span style="font-size: large;">Substituta os dados de BANCO, TABELA,HOST,USUARIO e SENHA por seus correspondentes dados e salve como exemplo: </span><span style="color: blue;"><span style="font-size: x-large;">mysql.sh</span><span style="font-size: large;"></span></span><span style="font-size: large;"> e HOST se estiver local, lógico, localhost.</span>

</b>
<div class="adp"><b><span style="color: blue;">#!/bin/bash</span></b>
<p><span style="color: #073763;">db</span>="BANCO";</p>
<p><span style="color: #073763;">table</span>="TABELA";</p>
<p><span style="color: #073763;">dbHost</span>="HOST";</p>
<p><span style="color: #073763;">dbUser</span>="USUARIO";</p>
<p><span style="color: #073763;">dbPass</span>="SENHA";</p>
<p><span style="color: #073763;">result</span>=`<span style="color: #660000;">mysql</span> -h <span style="color: #073763;">$dbHost</span> --user=<span style="color: #073763;">$dbUser</span> --password=<span style="color: #073763;">$dbPass</span> --skip-column-names -e "select * from <span style="color: #073763;">$db</span>.<span style="color: #073763;">$table</span> where id = 2"`</p>
<b>
</b><b>items=$(<span style="color: #660000;">echo</span> <span style="color: #073763;">$result</span> | tr " " "\n")</b>
<b>
</b><b><span style="color: #660000;">for</span> <span style="color: #073763;">item</span><span style="color: #660000;"> in</span> <span style="color: #073763;">$items</span></b>
<p><span style="color: #660000;">do</span></p>
<p>  <span style="color: #660000;">echo</span> "<span style="color: #073763;">$item</span>"</p>
<b><span style="color: #660000;">done</span></b></div>
<span style="font-size: large;"><b>Só isso por enquanto! </b></span>





<span style="color: #999999; font-size: x-small;"><i>Via:http://xmodulo.com/how-to-run-mysql-query-in-shell-script.html</i></span>

</p>
