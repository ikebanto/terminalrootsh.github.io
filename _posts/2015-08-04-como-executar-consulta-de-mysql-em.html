---
layout: post
title: Como executar consulta de MySQL em Shell Script
date: '2015-08-04T13:02:00.003-07:00'
author: Marcos Oliveira
tags:
- Shell Script
- MySQL
modified_time: '2015-08-04T13:02:46.204-07:00'
thumbnail: http://2.bp.blogspot.com/-Gp2R3e-QloQ/VcEYC29KllI/AAAAAAAABnM/DszR3IGnbi8/s72-c/mysql-shell-script.jpg
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-3452654515565675028
blogger_orig_url: http://www.terminalroot.com.br/2015/08/como-executar-consulta-de-mysql-em.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Gp2R3e-QloQ/VcEYC29KllI/AAAAAAAABnM/DszR3IGnbi8/s1600/mysql-shell-script.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-Gp2R3e-QloQ/VcEYC29KllI/AAAAAAAABnM/DszR3IGnbi8/s1600/mysql-shell-script.jpg" /></a></div><b></b><br /><blockquote class="tr_bq"><b><span style="font-size: large;">Quando você está escrevendo um Shell Script como parte de algum processamento em lote, há casos em que o script precisa processar dados armazenados em um servidor MySQL separado. As linguagens de script de uso geral, como Perl e Python têm módulos separados ou interfaces MySQL para usar, mas linguagens de script shell não dispõem dessa interface para o MySQL. No entanto, existem maneiras de executar algumas consultas MySQL simples, e processar o resultado através de Shell Script.</span></b></blockquote><b><br /><span style="font-size: large;">Primeiro, você precisa instalar o cliente MySQL na máquina onde será executado o script shell.</span><br /><span style="font-size: large;">Partindo do princípio que é o caso, você pode executar o seguinte script. O exemplo de código apresentado aqui vai uma chamada MySQL simples SELECT, e processa o resultado que contém potencialmente várias linhas.</span></b><br /><b><br /></b><b><span style="font-size: large;">Substituta os dados de BANCO, TABELA,HOST,USUARIO e SENHA por seus correspondentes dados e salve como exemplo: </span><span style="color: blue;"><span style="font-size: x-large;">mysql.sh</span><span style="font-size: large;">&nbsp;</span></span><span style="font-size: large;">&nbsp; e HOST se estiver local, lógico, localhost.</span><br /><br /></b><br /><div class="adp"><b><span style="color: blue;">#!/bin/bash</span></b><br /><b><span style="color: #073763;">db</span>="BANCO";</b><br /><b><span style="color: #073763;">table</span>="TABELA";</b><br /><b><span style="color: #073763;">dbHost</span>="HOST";</b><br /><b><span style="color: #073763;">dbUser</span>="USUARIO";</b><br /><b><span style="color: #073763;">dbPass</span>="SENHA";</b><br /><b><span style="color: #073763;">result</span>=`<span style="color: #660000;">mysql</span> -h <span style="color: #073763;">$dbHost</span> --user=<span style="color: #073763;">$dbUser</span> --password=<span style="color: #073763;">$dbPass</span> --skip-column-names -e "select * from <span style="color: #073763;">$db</span>.<span style="color: #073763;">$table</span> where id = 2"`</b><br /><b><br /></b><b>items=$(<span style="color: #660000;">echo</span> <span style="color: #073763;">$result</span> | tr " " "\n")</b><br /><b><br /></b><b><span style="color: #660000;">for</span> <span style="color: #073763;">item</span><span style="color: #660000;"> in</span> <span style="color: #073763;">$items</span></b><br /><b><span style="color: #660000;">do</span></b><br /><b>&nbsp; &nbsp; <span style="color: #660000;">echo</span> "<span style="color: #073763;">$item</span>"</b><br /><b><span style="color: #660000;">done</span></b></div><br /><span style="font-size: large;"><b>Só isso por enquanto! </b></span><br /><br /><br /><br /><br /><br /><span style="color: #999999; font-size: x-small;"><i>Via:&nbsp;http://xmodulo.com/how-to-run-mysql-query-in-shell-script.html</i></span>