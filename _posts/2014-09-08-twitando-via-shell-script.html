---
layout: post
title: Twitando via Shell Script
date: '2014-09-07T20:47:00.000-07:00'
description: Twitando via Shell Script
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
modified_time: '2014-09-07T20:47:46.494-07:00'
thumbnail: http://2.bp.blogspot.com/-11ONopObRZc/UdBtphDeo6I/AAAAAAAACFY/JENwYIj-P68/s72-c/shell+scripting+bash+twitter.png
twitter_text: Twitando via Shell Script
introduction: Twitando via Shell Script
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-11ONopObRZc/UdBtphDeo6I/AAAAAAAACFY/JENwYIj-P68/s655/shell+scripting+bash+twitter.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-11ONopObRZc/UdBtphDeo6I/AAAAAAAACFY/JENwYIj-P68/s320/shell+scripting+bash+twitter.png" height="277" width="320" /></a></div>

<blockquote class="tr_bq"><span style="font-family: Verdana,sans-serif;"><b>Galera adaptei esse <a href="http://pastebin.com/raw/ZYvPmy7i" target=""><span style="color: blue;">script</span></a> que vi na internet no site <a href="http://360percents.com/" target="_blank">360 percents</a> para <a href="https://twitter.com/TerminalRootSH" target="_blank">Twittar</a> via <span style="color: purple;">Shell Script</span>. Ele usa o comando curl , para mais informações sobre </b><b><b><a href="http://curl.haxx.se/docs/httpscripting.html" target="_blank">CURL</a></b> , acesse <a href="http://curl.haxx.se/docs/httpscripting.html" target="_blank">CURL</a> , segue o código abaixo , vejam utilização no cabeçalho do </b></span><span style="font-family: Verdana,sans-serif;"><b><span style="font-family: Verdana,sans-serif;"><b><a href="http://pastebin.com/raw/ZYvPmy7i" target=""><span style="color: blue;">script</span></a></b></span> , como não criei , só adaptei , não vou explicar , pois ainda estou estudando </b></span><b><span style="font-family: Verdana,sans-serif;"><b><b><a href="http://curl.haxx.se/docs/httpscripting.html" target="_blank">CURL</a></b></b>. Precisa alterar o nome de <span style="color: red;"><u><i>usuário</i></u></span> e <span style="color: red;"><u><i>senha</i></u></span> no arquivo para poder utilizá-lo e funcionar.</span></b></blockquote>

<span style="color: blue;"><span style="font-size: x-large;">Código PasteBin</span></span>: 
<iframe src="http://pastebin.com/raw/ZYvPmy7i" style="border:none;width:100%;"></iframe> 

<span style="color: red;"><span style="font-size: x-large;">Código Blog</span></span>: 
<div class="adp"><span style="font-size: x-small;"><b><span style="color: blue;">#!/bin/bash
# ---------------------------------------------------------------
# ./tweet.sh
#
# Twitando via Shell Script
#
# Uso: troque no arquivo a palavra 'user' por seu usuario no Twitter
#   troque no arquivo a palavra 'pass' por sua senha no Twitter
# ./tweet.sh [post]
#
# Ex.: ./tweet.sh Fui ao banheiro
#
# Autor: Marcos da B. M. Oliveira, </span></b></span><span style="font-size: x-small;"><b><span style="color: blue;">http://www.terminalroot.com.br/
# Desde: Seg 08 Set 2014 00:30:34 BRT
# Versão: adaptado de http://360percents.com/
# Licença: GPL
# ----------------------------------------------------------------</span>
usuario="user"
senha="pass"
cookie="/tmp/cookie.txt"
useragent="Mozilla/5.0"
tweet="$*"


<span style="color: blue;"># Buscando twitter</span>
echo "⌚ Entrando no Twitter..."
paginainicial=$(curl -s -b "$cookie" -c "$cookie" -L --sslv3 -A "$useragent" "https://mobile.twitter.com/session/new")
token=$(echo "$paginainicial" | grep "authenticity_token" | sed -e 's/.*value="//' | sed -e 's/" \/>.*//')

<span style="color: blue;"># Logando no twitter</span>
echo "⌚ Logando..."
paginadelogin=$(curl -s -b "$cookie" -c "$cookie" -L --sslv3 -A "$useragent" -d "authenticity_token=$token&amp;username=$usuario&amp;password=$senha" "https://mobile.twitter.com/session")

<span style="color: blue;"># Pagina de tweetar</span>
echo "⌚ Indo para página de composição..."
paginacompose=$(curl -s -b "$cookie" -c "$cookie" -L -A "$useragent" "https://mobile.twitter.com/compose/tweet")

<span style="color: blue;"># Twitando</span>
echo "⌚ Twitando: $tweet "
tweettoken=$(echo "$paginacompose" | grep "authenticity_token" | sed -e 's/.*value="//' | sed -e 's/" \/>.*//' | tail -n 1)
update=$(curl -s -b "$cookie" -c "$cookie" -L --sslv3 -A "$useragent" -d "authenticity_token=$tweettoken&amp;tweet[text]=$tweet&amp;tweet[display_coordinates]=false" "https://mobile.twitter.com/")

<span style="color: blue;"># Indo pra página de deslogar</span>
deslogarpage=$(curl -s -b "$cookie" -c "$cookie" -L --sslv3 -A "$useragent" "https://mobile.twitter.com/account")

<span style="color: blue;"># Deslogando</span>
echo "⌚ deslogando..."
deslogartoken=$(echo "$deslogarpage" | grep "authenticity_token" | sed -e 's/.*value="//' | sed -e 's/" \/>.*//' | tail -n 1)
deslogar=$(curl -s -b "$cookie" -c "$cookie" -L --sslv3 -A "$useragent" -d "authenticity_token=$deslogartoken" "https://mobile.twitter.com/session/destroy")

rm "$cookie"</b></span></div>
<p>Fonte: <span style="font-family: Verdana,sans-serif;"><a href="http://360percents.com/" target="_blank">360 percents</a></span></p>

</p>
