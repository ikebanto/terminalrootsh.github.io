---
layout: post
title: 'Curso Certificação Linux LPI-102: Configurando Conexões PPPoE no Linux'
date: '2013-04-14T09:18:00.000-07:00'
author: The Bang Bash
tags:
- Linux
- LPI
- Redes
modified_time: '2013-05-03T07:16:03.589-07:00'
thumbnail: http://2.bp.blogspot.com/-JFIx4QoJa-Q/UWqtgQeaooI/AAAAAAAABag/3ZRS3N5pviM/s72-c/figura-1.jpg
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-7667751268361031993
blogger_orig_url: http://www.terminalroot.com.br/2013/04/curso-certificacao-linux-lpi-102_14.html
---

<!-------------------------------------------------><br /><br /><script type="text/javascript"><!-- google_ad_client = "ca-pub-5528601613414387"; google_ad_host = "pub-1556223355139109"; /* quadrados */ google_ad_slot = "9713010559"; google_ad_width = 200; google_ad_height = 200; </script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script><!-----------------------------------------------><br /><br /><br /><blockquote><b><i>&nbsp;&nbsp; PPPoE (sigla em inglês para Point-to-Point Protocol over Ethernet) é um protocolo de rede para conexão de usuários em uma rede Ethernet para alcançar a Internet. Seu uso é típico nas conexões de um ou múltiplos usuários em uma rede LAN à Internet através de uma linha DSL, de um dispositivo wireless (sem fio) ou de um modem de cabo broadband comum. O protocolo PPPoE deriva do protocolo PPP. O PPPoE estabelece a sessão e realiza a autenticação com o provedor de acesso a Internet.</i></b></blockquote><b>&nbsp;&nbsp; <br /><u>&nbsp;&nbsp; &nbsp;A maioria dos modems ADSL vendidos no Brasil são roteadores, no entanto existem alguns modelos que só funcionam no modo Bridge, ou seja, no Windows® por exemplo, você usaria um discador para conectar-se.Você precisará de um provedor, usuário e senha para autenticação, e também, naturalmente, uma placa de rede para ligar ao modem. </u><br />&nbsp;&nbsp; <br />Comando para configurar o pppoe<br /><br />&nbsp;&nbsp; &nbsp;{% highlight bash %}# pppoeconf{% endhighlight %}<br />&nbsp;&nbsp; <br />Atenção: O pacote pppoe e pppoeconf já vem instalados por padrão, mas se não estiver, instale-o com:<br /><br />&nbsp;&nbsp; &nbsp;{% highlight bash %}# apt-get install pppoe pppoeconf{% endhighlight %}<br />&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;   </b><br /><div class="separator" style="clear: both; text-align: center;"><b><a href="http://2.bp.blogspot.com/-JFIx4QoJa-Q/UWqtgQeaooI/AAAAAAAABag/3ZRS3N5pviM/s1600/figura-1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-JFIx4QoJa-Q/UWqtgQeaooI/AAAAAAAABag/3ZRS3N5pviM/s320/figura-1.jpg" /></a></b></div><b>  <br />&nbsp;&nbsp; <br />Um programa com uma interface semi-gráfica baseada em texto lhe guiará através dos passos para a configuração, que são elas:</b><br /><ol><li><b>&nbsp;&nbsp;&nbsp; Confirmar se sua placa de rede foi detectada.</b></li><li><b>&nbsp;&nbsp;&nbsp; Digitar seu nome de usuário (fornecido pelo provedor).</b></li><li><b>&nbsp;&nbsp;&nbsp; Digitar sua senha (fornecida pelo provedor).</b></li><li><b>&nbsp;&nbsp;&nbsp; Se você já possui uma conexão PPPoE configurada, ele perguntará se você deseja modificar sua configuração atual.</b></li><li><b>&nbsp;&nbsp;&nbsp; Responda o padrão em todas as perguntas (basta digitar enter), ou mude, caso saiba o que está fazendo.</b></li><li><b>&nbsp;&nbsp;&nbsp; Limited MSS problem - choose "Yes".</b></li></ol><b><br />&nbsp;&nbsp;&nbsp; O programa perguntará se você deseja ativar a conexão durante o boot, provavelmente você vai querer responder Sim.<br />&nbsp;&nbsp;&nbsp; Finalmente, perguntará se você deseja estabilizar a conexão imediatamente. <br /><br />Pronto isto, provavelmente você sua conexão com a internet já estará funcionando.<br /><br />Controle manual da conexão<br /><br />Para iniciar sua conexão (se já não estiver ativa), digite num terminal:<br /><br />{% highlight bash %}# pon dsl-provider{% endhighlight %}<br /><br />Icones/parar.png Para parar a conexão (se estiver ativa), digite no terminal:<br /><br />{% highlight bash %}# poff dsl-provider{% endhighlight %}<br /><br />Problemas<br /><br />Se sua conexão parecer não funcionar, tente ver o log. Para isto, digite num terminal:<br /><br />{% highlight bash %}# plog{% endhighlight %}<br /><br />Problemas com o boot<br /><br />Se você tiver que rodar o pppoeconf a cada boot por que a conexão não está sendo ativada, você pode tentar:<br /><br />{% highlight bash %}# /etc/network/interfaces{% endhighlight %}<br /><br />Edite o arquivo como abaixo: <br /><br />{% highlight bash %}<br /># added by pppoeconf<br />auto eth0<br />iface eth0 inet manual<br />pre-up /sbin/ifconfig eth0 up # line maintained by pppoeconf<br /><br />auto dsl-provider<br />iface dsl-provider inet ppp<br />provider dsl-provider{% endhighlight %}&nbsp;</b><br /><br /><br /><blockquote class="tr_bq"><b><span style="font-size: x-small;"><i><span style="background-color: yellow;"><span style="color: red;">Para configurações com autenticação no modem ou roteador, o certo é: </span></span></i><br /><br />{% highlight bash %}{% endhighlight %}</span></b><span style="font-size: x-small;">{% highlight bash %}<span style="font-size: x-small;">auto lo<br />iface lo inet loopback<br /><br />iface eth0 inet static<br />address 10.1.1.2<br />netmask 255.0.0.0<br />gateway 10.1.1.1<br /><br />auto eth0</span><span style="font-size: xx-small;"> </span>{% endhighlight %}<span style="font-size: xx-small;">ou</span>, <span style="font-size: xx-small;">manualmente com um pequeno script: </span></span><br /><br />{% highlight bash %}<span style="font-size: x-small;">#!/bin/bash<br />echo vamos reconfigurar sua rede, pressione ENTER para iniciar a configuração, ou Ctrl+c para desistir<br />read resposta<br />sudo ifconfig<br />sudo ifconfig eth0 down<br />sudo ifconfig eth0 10.1.1.2 netmask 255.0.0.0 up<br />echo nameserver 10.1.1.1<br />sudo route add default gw 10.1.1.1 dev eth0<br />sudo ifconfig<br />ping -c4 www.google.com</span>{% endhighlight %}</blockquote>&nbsp;&nbsp;&nbsp; <b>Se isto não funcionar, edite o arquivo /etc/rc.local, e antes da ultima linha ("exit 0"), adicione: </b><br /><b><br /></b><b>ifconfig eth0 up</b><br /><b>pon dsl-provider</b><br /><b><br /></b><b>Logs de erro</b><br /><b><br /></b><b>você tiver problemas com sua conexão, talvez encontre algumas informações úteis nos logs do sistema</b><br /><br />{% highlight bash %}# dmesg{% endhighlight %}<br /><br /><span style="color: #444444;"><u><i><span style="font-size: x-small;">Fonte: wiki.ubuntu-br.org</span></i></u></span>