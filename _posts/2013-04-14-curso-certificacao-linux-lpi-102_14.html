---
layout: post
title: 'Curso Certificação Linux LPI-102: Configurando Conexões PPPoE no Linux'
date: '2013-04-14T09:18:00.000-07:00'
description: 'Curso Certificação Linux LPI-102: Configurando Conexões PPPoE no Linux'
main-class: 'linux'
color: '#3b5998'
author: The Bang Bash
tags:
- Linux
- LPI
- Redes
modified_time: '2013-05-03T07:16:03.589-07:00'
thumbnail: http://2.bp.blogspot.com/-JFIx4QoJa-Q/UWqtgQeaooI/AAAAAAAABag/3ZRS3N5pviM/s72-c/figura-1.jpg
twitter_text: 'Curso Certificação Linux LPI-102: Configurando Conexões PPPoE no Linux'
introduction: 'Curso Certificação Linux LPI-102: Configurando Conexões PPPoE no Linux'
---

<p>
<!-------------------------------------------------></p><p></p><p><script type="text/javascript"><!-- google_ad_client = "ca-pub-5528601613414387"; google_ad_host = "pub-1556223355139109"; /* quadrados */ google_ad_slot = "9713010559"; google_ad_width = 200; google_ad_height = 200; </script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script><!-----------------------------------------------></p><p></p><p></p><p><blockquote><b><i>&nbsp;&nbsp; PPPoE (sigla em inglês para Point-to-Point Protocol over Ethernet) é um protocolo de rede para conexão de usuários em uma rede Ethernet para alcançar a Internet. Seu uso é típico nas conexões de um ou múltiplos usuários em uma rede LAN à Internet através de uma linha DSL, de um dispositivo wireless (sem fio) ou de um modem de cabo broadband comum. O protocolo PPPoE deriva do protocolo PPP. O PPPoE estabelece a sessão e realiza a autenticação com o provedor de acesso a Internet.</i></b></blockquote><b>&nbsp;&nbsp; </p><p><u>&nbsp;&nbsp; &nbsp;A maioria dos modems ADSL vendidos no Brasil são roteadores, no entanto existem alguns modelos que só funcionam no modo Bridge, ou seja, no Windows® por exemplo, você usaria um discador para conectar-se.Você precisará de um provedor, usuário e senha para autenticação, e também, naturalmente, uma placa de rede para ligar ao modem. </u></p><p>&nbsp;&nbsp; </p><p>Comando para configurar o pppoe</p><p></p><p>&nbsp;&nbsp; &nbsp;{% highlight bash %}# pppoeconf{% endhighlight %}</p><p>&nbsp;&nbsp; </p><p>Atenção: O pacote pppoe e pppoeconf já vem instalados por padrão, mas se não estiver, instale-o com:</p><p></p><p>&nbsp;&nbsp; &nbsp;{% highlight bash %}# apt-get install pppoe pppoeconf{% endhighlight %}</p><p>&nbsp;&nbsp; </p><p>&nbsp;&nbsp;&nbsp;   </b></p><p><div class="separator" style="clear: both; text-align: center;"><b><a href="http://2.bp.blogspot.com/-JFIx4QoJa-Q/UWqtgQeaooI/AAAAAAAABag/3ZRS3N5pviM/s1600/figura-1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-JFIx4QoJa-Q/UWqtgQeaooI/AAAAAAAABag/3ZRS3N5pviM/s320/figura-1.jpg" /></a></b></div><b>  </p><p>&nbsp;&nbsp; </p><p>Um programa com uma interface semi-gráfica baseada em texto lhe guiará através dos passos para a configuração, que são elas:</b></p><p><ol><li><b>&nbsp;&nbsp;&nbsp; Confirmar se sua placa de rede foi detectada.</b></li><li><b>&nbsp;&nbsp;&nbsp; Digitar seu nome de usuário (fornecido pelo provedor).</b></li><li><b>&nbsp;&nbsp;&nbsp; Digitar sua senha (fornecida pelo provedor).</b></li><li><b>&nbsp;&nbsp;&nbsp; Se você já possui uma conexão PPPoE configurada, ele perguntará se você deseja modificar sua configuração atual.</b></li><li><b>&nbsp;&nbsp;&nbsp; Responda o padrão em todas as perguntas (basta digitar enter), ou mude, caso saiba o que está fazendo.</b></li><li><b>&nbsp;&nbsp;&nbsp; Limited MSS problem - choose "Yes".</b></li></ol><b></p><p>&nbsp;&nbsp;&nbsp; O programa perguntará se você deseja ativar a conexão durante o boot, provavelmente você vai querer responder Sim.</p><p>&nbsp;&nbsp;&nbsp; Finalmente, perguntará se você deseja estabilizar a conexão imediatamente. </p><p></p><p>Pronto isto, provavelmente você sua conexão com a internet já estará funcionando.</p><p></p><p>Controle manual da conexão</p><p></p><p>Para iniciar sua conexão (se já não estiver ativa), digite num terminal:</p><p></p><p>{% highlight bash %}# pon dsl-provider{% endhighlight %}</p><p></p><p>Icones/parar.png Para parar a conexão (se estiver ativa), digite no terminal:</p><p></p><p>{% highlight bash %}# poff dsl-provider{% endhighlight %}</p><p></p><p>Problemas</p><p></p><p>Se sua conexão parecer não funcionar, tente ver o log. Para isto, digite num terminal:</p><p></p><p>{% highlight bash %}# plog{% endhighlight %}</p><p></p><p>Problemas com o boot</p><p></p><p>Se você tiver que rodar o pppoeconf a cada boot por que a conexão não está sendo ativada, você pode tentar:</p><p></p><p>{% highlight bash %}# /etc/network/interfaces{% endhighlight %}</p><p></p><p>Edite o arquivo como abaixo: </p><p></p><p>{% highlight bash %}</p><p># added by pppoeconf</p><p>auto eth0</p><p>iface eth0 inet manual</p><p>pre-up /sbin/ifconfig eth0 up # line maintained by pppoeconf</p><p></p><p>auto dsl-provider</p><p>iface dsl-provider inet ppp</p><p>provider dsl-provider{% endhighlight %}&nbsp;</b></p><p></p><p></p><p><blockquote class="tr_bq"><b><span style="font-size: x-small;"><i><span style="background-color: yellow;"><span style="color: red;">Para configurações com autenticação no modem ou roteador, o certo é: </span></span></i></p><p></p><p>{% highlight bash %}{% endhighlight %}</span></b><span style="font-size: x-small;">{% highlight bash %}<span style="font-size: x-small;">auto lo</p><p>iface lo inet loopback</p><p></p><p>iface eth0 inet static</p><p>address 10.1.1.2</p><p>netmask 255.0.0.0</p><p>gateway 10.1.1.1</p><p></p><p>auto eth0</span><span style="font-size: xx-small;"> </span>{% endhighlight %}<span style="font-size: xx-small;">ou</span>, <span style="font-size: xx-small;">manualmente com um pequeno script: </span></span></p><p></p><p>{% highlight bash %}<span style="font-size: x-small;">#!/bin/bash</p><p>echo vamos reconfigurar sua rede, pressione ENTER para iniciar a configuração, ou Ctrl+c para desistir</p><p>read resposta</p><p>sudo ifconfig</p><p>sudo ifconfig eth0 down</p><p>sudo ifconfig eth0 10.1.1.2 netmask 255.0.0.0 up</p><p>echo nameserver 10.1.1.1</p><p>sudo route add default gw 10.1.1.1 dev eth0</p><p>sudo ifconfig</p><p>ping -c4 www.google.com</span>{% endhighlight %}</blockquote>&nbsp;&nbsp;&nbsp; <b>Se isto não funcionar, edite o arquivo /etc/rc.local, e antes da ultima linha ("exit 0"), adicione: </b></p><p><b></p><p></b><b>ifconfig eth0 up</b></p><p><b>pon dsl-provider</b></p><p><b></p><p></b><b>Logs de erro</b></p><p><b></p><p></b><b>você tiver problemas com sua conexão, talvez encontre algumas informações úteis nos logs do sistema</b></p><p></p><p>{% highlight bash %}# dmesg{% endhighlight %}</p><p></p><p><span style="color: #444444;"><u><i><span style="font-size: x-small;">Fonte: wiki.ubuntu-br.org</span></i></u></span>

</p>
