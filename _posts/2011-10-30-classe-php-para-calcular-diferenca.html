---
layout: post
title: Classe PHP para calcular a diferença entre Horas.
date: '2011-10-30T09:30:00.000-07:00'
author: The Bang Bash
tags:
- PHP
- Matemática
modified_time: '2013-05-03T07:16:11.739-07:00'
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-6822902175907085520
blogger_orig_url: http://www.terminalroot.com.br/2011/10/classe-php-para-calcular-diferenca.html
---

<b>Segue o código abaixo comentado para causar o entendimento</b><br /><br />{% highlight bash %}<br />&lt;?php<br />&nbsp;&nbsp; class Horas {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp; public $resultado = '';<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; function calcular($horaA,$horaB){<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "Hora A = $horaA hs e Hora B = $horaB hs&lt;br /&gt;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "Qual o valor de x em horas?(x=A - B).&lt;br /&gt;";<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*primeiro multiplica: hora por 3600, minutos por 60 e ambos vc soma ao segundos na<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hora inicial(A) e final(B) para transformá-las em segundos*/<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $horaA = (2 * 3600) + (46 * 60) + 27;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $horaB = (17 * 3600) + (32 * 60) + 59;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*o resultado em segundos de ambas vc subtrai a hora final(B) pela hora incial(A)*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $reshora = $horaB - $horaA;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo $reshora.'&lt;br /&gt;';<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*usa-se a função floor() para arrendodá-las para menos(Ex.: 9.9 &gt;&gt; 9) depois,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [dividi o resultado por 3600para obter a HORA],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [faz o módulo de 60 para o resultado dividido por 60 para obter os MINUTOS]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  [e depois o módulo do resultado por 60 para obter os SEGUNDOS]*/<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $HORA = floor($reshora / 3600);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $MINU = floor(($reshora / 60) % 60);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $SEGU  = floor($reshora % 60);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $this-&gt;resultado = " O Resultado eh $HORA:$MINU:$SEGU hs&lt;br /&gt;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $this-&gt;resultado;<br />&nbsp;&nbsp;&nbsp;&nbsp; }//fim da função calcular<br />&nbsp;&nbsp; }//fim da class Horas<br /><br />&nbsp;&nbsp; $horaA = '2:46:27';<br />&nbsp;&nbsp; $horaB = '17:32:59';<br />&nbsp;&nbsp; $res = new Horas();<br />&nbsp;&nbsp; $res = $res-&gt;calcular($horaA,$horaB);<br />&nbsp;&nbsp; print_r($res);<br />?&gt;<br />{% endhighlight %}