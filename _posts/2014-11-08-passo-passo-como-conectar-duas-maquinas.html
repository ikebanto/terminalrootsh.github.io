---
layout: post
title: Passo a Passo como conectar duas máquinas Linux e Windows via rede com c...
date: '2014-11-08T16:18:00.002-08:00'
description: Passo a Passo como conectar duas máquinas Linux e Windows via rede com cabo
main-class: 'misc'
color: '#34a853'
author: Marcos Oliveira
tags:
- Servidores
- Redes
modified_time: '2014-11-08T16:18:44.842-08:00'
thumbnail: http://4.bp.blogspot.com/-2RsSyjW0Ogo/UmRjkvmGIDI/AAAAAAAACeE/ZlyH9s_VueY/s72-c/Passo+a+Passo+para+criar+uma+conex%C3%A3o+entre+duas+m%C3%A1quinas+(uma+Linux+e+outra+Windows)+via+Samba+e+com+cabo+cross-over.jpg
twitter_text: Passo a Passo como conectar duas máquinas Linux e Windows via rede com cabo
introduction: Passo a Passo como conectar duas máquinas Linux e Windows via rede com cabo
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-2RsSyjW0Ogo/UmRjkvmGIDI/AAAAAAAACeE/ZlyH9s_VueY/s1600/Passo+a+Passo+para+criar+uma+conex%C3%A3o+entre+duas+m%C3%A1quinas+(uma+Linux+e+outra+Windows)+via+Samba+e+com+cabo+cross-over.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-2RsSyjW0Ogo/UmRjkvmGIDI/AAAAAAAACeE/ZlyH9s_VueY/s640/Passo+a+Passo+para+criar+uma+conex%C3%A3o+entre+duas+m%C3%A1quinas+(uma+Linux+e+outra+Windows)+via+Samba+e+com+cabo+cross-over.jpg" height="353" width="570" /></a></div>br /&gt; <br /><h3><span style="font-family: Verdana,sans-serif;">Passo a Passo como conectar duas máquinas Linux e <strike><span style="font-weight: normal;">Windows</span></strike> via rede com cabo Cross-Over e Samba.</span></h3><br /><b><span style="font-size: large;">1 - Criar o cabo <span style="color: blue;">Cross-Over</span> TP(par trançado):</span><br /><br /><a href="http://www.infowester.com/tutcabosredes.php" target="_blank">Como criar "cabo crossover" e "cabo direto"</a><br /><br /><br /><span style="font-size: large;">2 - Criar uma conta no </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;"> com o mesmo nome e mesma senha(talvez) de uma conta no <span style="color: blue;">Linux</span>(</span></b><span style="font-size: small;"><i>procure no google como criar, caso não saiba</i></span><b><span style="font-size: large;">)</span><br /><br /><span style="font-size: large;">3 - Compartilhar a pasta ou unidade </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;"> e incluir o usuário </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;"> que você permitirá, e verificar permissões da rede e total:</span><br /></b><br /><blockquote><i><b>&nbsp;&nbsp; &nbsp;* - clique com o botão direito em cima da pasta ou unidade e vá até propriedades e selecione compartilhar, no compartilhamento avançado(outra opção no mesmo menu) inclua o nome do usuário que receberá o acesso do Samba, ex.: marcos. Qualquer dúvida pesquise na internet como fazer isso.</b></i></blockquote><b><br /><span style="font-size: large;">4 - Instalar o Samba e o <span style="color: blue;">smbclient</span> no Linux:</span><br /><br /></b><br /><div class="adp"><b># apt-get install samba smbclient</b></div><b><br /></b><br /><h4>&nbsp;&nbsp; &nbsp;4.1 - Por comando vc deve utilizar o comando tipo esse exemplo, supondo que o ip da máquina <strike>Windows</strike><b> seja 10.1.1.3:</b></h4><b>&nbsp;&nbsp; <br /></b><br /><div class="adp"><b># smbclient -L 10.1.1.3 -U marcos</b></div><b><br /><br /><br /><br /><span style="font-size: large;">5 - Criar um backup do <span style="color: blue;">smb.conf</span> :</span><br /></b><br /><div class="adp"><b><br /></b><b># cd /etc/samba</b><br /><b># mkdir backupsmb</b><br /><b># cp smb.conf backupsmb/</b><br /><b># mv backupsmb/smb.conf backupsmb/smb.conf.bkp</b></div><b><br /><span style="font-size: large;">6 - Editar o <span style="color: blue;">smb.conf</span></span><br /><div class="adp"><br /># vim /etc/samba/smb.conf</div><br /><i>use essa como base, mas altere com seus nomes de usuário:</i><br /><br /><div class="adp"><br /><br />[global]<br />netbios name = linux<br />server string = Servidor público<br />workgroup = WORKGROUP<br />local master = yes<br />os level = 100<br />preferred master = yes<br />wins support = yes<br />map to guest = bad user<br />guest account = marcos<br /><br />[arquivos]<br />path = /mnt<br />writable = yes<br />guest ok = yes<br /><br />[backups]<br />path = /mnt<br />writable = yes<br />guest ok = yes<br /><br /></div><br /><br /><span style="font-size: large;">7 - Ao final o arquivo ficará mais ou menos assim, perceba que o [global] tá no meio do arquivo e os [arquivos] e [backups] estão no final:</span><br /><br /><span style="color: red;"><span style="font-size: x-large;">&nbsp;VEJA O CÓDIGO NO FINAL DESTE POST</span></span><br /><br /><span style="font-size: large;">8 - Crie um usuario <span style="color: blue;">samba</span> no <span style="color: blue;">Linux</span>, com a mesma senha(</span></b><span style="font-size: small;"><i>não necessariamente</i></span><b><span style="font-size: large;">) do usuário que existe no sistema <span style="color: blue;">Linux</span> e no </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;">, e dê a permissão para a montagem:</span><br /><div class="adp"><br /># smbpasswd -a marcos<br /># chown -R marcos:marcos /mnt</div><br /><span style="font-size: large;">9 - Pare e inicie o <span style="color: blue;">daemon</span> do <span style="color: blue;">Samba</span>:</span><br /><div class="adp"><br /># /etc/init.d/samba stop<br /># /etc/init.d/samba start</div><br /><span style="font-size: large;">10 - Teste o <span style="color: blue;">samba</span>, ...:</span><br /><div class="adp"><br /># testparm</div><br /><span style="font-size: large;">11 - Configure a placa de rede no </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;">:</span><br /></b><br /><blockquote class="tr_bq"><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;a - clique com o botão direito no icone de rede no desktop, e depois em Alterar Configurações de Rede do Adaptador</b><br /><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;b - clique com o botão direito em cima da placa de rede(se houver duas, desative a outra) e vá até propriedades</b><br /><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;c - desative(desmarque o protocolo ipv6) e dê um duplo clique no ipv4, na janela que se abrirá, configure o ip da máquina, gateway e máscara, ex.:</b><br /><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;</b><br /><b>{% highlight bash %}&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ip &nbsp;&nbsp;&nbsp;&nbsp; - 10.1.1.3{% endhighlight %}</b><br /><b>{% highlight bash %}&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;gateway - 10.1.1.2{% endhighlight %}</b><br /><b>{% highlight bash %}&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;máscara - 255.0.0.0{% endhighlight %}</b><br /><b></b><br /><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;d - aplique e salve, se for o caso, depois feche</b><br /><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;e - desative e ative a conexão de rede, para pegar as configurações e aguarde o reconhecimento da mesma.</b></blockquote><b><br /><span style="font-size: large;">12 - Desative a placa de rede no <span style="color: blue;">Linux</span> e reative com o <span style="color: blue;">ip</span> e <span style="color: blue;">netmask</span> correspondentes:</span><br /></b><br /><div class="adp"><b><br /></b><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;a&nbsp;&nbsp; &nbsp;- # ipconfig eth0 down</b><br /><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;b - # ipconfig eth0 10.1.1.2 netmask 255.0.0.0 up</b></div><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b><br /><blockquote class="tr_bq"><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="color: red;">obs.: Caso o icone da area de trabalho fique desconectado, desconsidere, confirme os dados com comando</span></b><br /><b></b></blockquote><b></b><br /><div class="adp"><b><br /></b><b>&nbsp;&nbsp;&nbsp; c - # ifconfig</b></div><b>&nbsp;&nbsp; <br /><u><span style="font-size: large;"><i>&nbsp;&nbsp;&nbsp; mais ou menos aparecerá:</i></span></u><br />&nbsp;&nbsp; <br />{% highlight bash %}<br />eth0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link encap:Ethernet&nbsp; Endereço de HW 00:87:56:9e:88:41 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inet end.: 10.1.1.2&nbsp; Bcast:10.255.255.255&nbsp; Masc:255.0.0.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endereço inet6: fe80::221:97ff:fe6d:6450/64 Escopo:Link<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UP BROADCASTRUNNING MULTICAST&nbsp; MTU:1500&nbsp; Métrica:1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX packets:107715 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TX packets:85580 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; colisões:0 txqueuelen:1000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX bytes:126178753 (120.3 MiB)&nbsp; TX bytes:11810528 (11.2 MiB)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IRQ:25 Endereço de E/S:0x6000 <br /><br />lo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link encap:Loopback Local <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inet end.: 127.0.0.1&nbsp; Masc:255.0.0.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endereço inet6: ::1/128 Escopo:Máquina<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UP LOOPBACKRUNNING&nbsp; MTU:16436&nbsp; Métrica:1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX packets:8159 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TX packets:8159 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; colisões:0 txqueuelen:0 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX bytes:726321 (709.2 KiB)&nbsp; TX bytes:726321 (709.2 KiB){% endhighlight %}<br />&nbsp;&nbsp; <br /><span style="font-size: large;">13 - Depois ping no <span style="color: blue;">ip</span> da maquina do </span></b><strike><span style="font-size: large;">windows</span></strike><b><span style="font-size: large;"> pra ver se está tudo normal:</span><br /></b><br /><div class="adp"><b><br /></b><b># ping 10.1.1.3 -c3</b></div><b><br /><u><i>resultado, mais ou menos esse:</i></u><br /><br />{% highlight bash %}<br /><br />PING 10.1.1.3 (10.1.1.3) 56(84) bytes of data.<br />64 bytes from 10.1.1.3: icmp_req=1 ttl=128 time=0.169 ms<br />64 bytes from 10.1.1.3: icmp_req=2 ttl=128 time=5.03 ms<br />64 bytes from 10.1.1.3: icmp_req=3 ttl=128 time=0.168 ms<br /><br />--- 10.1.1.3 ping statistics ---<br />3 packets transmitted, 3 received, 0% packet loss, time 2000ms<br />rtt min/avg/max/mdev = 0.168/1.791/5.037/2.295 ms{% endhighlight %}<br /><br /><span style="font-size: large;">14 - Agora abra o <span style="color: blue;">Nautilus</span> (</span></b><i><span style="font-size: large;">uma pasta qualquer no modo gráfico</span></i><b><span style="font-size: large;">), e aperte <span style="color: blue;">Ctrl+L</span>, e na barra de endereços digite:</span><br /><div class="adp"><br />&nbsp;smb://10.1.1.3</div><br />pedirá usuario, grupo e senha. Preencha com marcos(o nome que vc escolheu), WORKGROUP e a senha do usuário.<br /><br />pronto, vc acessará!<br /><br />mais informações veja esse link:<br /><br /><a href="http://amigosdopinguim.blogspot.com.br/2011/12/como-utilizar-o-samba-por-comando-e.html" target="_blank">Como utilizar o Samba por comando e modo gráfico</a><br /><br /><br /><br />Qualquer duvida é só comentar!<br /><br />abraços!<br /><br /><u><i><span style="color: purple;"><span style="font-size: x-large;">DADOS DO SMB.CONF:</span></span></i></u><br /><br /><div class="adp"><br />#<br /># Sample configuration file for the Samba suite for Debian GNU/Linux.<br />#<br />#<br /># This is the main Samba configuration file. You should read the<br /># smb.conf(5) manual page in order to understand the options listed<br /># here. Samba has a huge number of configurable options most of which <br /># are not shown in this example<br />#<br /># Some options that are often worth tuning have been included as<br /># commented-out examples in this file.<br />#&nbsp; - When such options are commented with ";", the proposed setting<br />#&nbsp;&nbsp;&nbsp; differs from the default Samba behaviour<br />#&nbsp; - When commented with "#", the proposed setting is the default<br />#&nbsp;&nbsp;&nbsp; behaviour of Samba but the option is considered important<br />#&nbsp;&nbsp;&nbsp; enough to be mentioned here<br />#<br /># NOTE: Whenever you modify this file you should run the command<br /># "testparm" to check that you have not made any basic syntactic <br /># errors. <br /># A well-established practice is to name the original file<br /># "smb.conf.master" and create the "real" config file with<br /># testparm -s smb.conf.master &gt;smb.conf<br /># This minimizes the size of the really used smb.conf file<br /># which, according to the Samba Team, impacts performance<br /># However, use this with caution if your smb.conf file contains nested<br /># "include" statements. See Debian bug #483187 for a case<br /># where using a master file is not a good idea.<br />#<br /><br />#======================= Global Settings =======================<br /><br />[global]<br />netbios name = linux<br />server string = Servidor público<br />workgroup = WORKGROUP<br />local master = yes<br />os level = 100<br />preferred master = yes<br />wins support = yes<br />map to guest = bad user<br />guest account = marcos<br /><br />#### Networking ####<br /><br /># The specific set of interfaces / networks to bind to<br /># This can be either the interface name or an IP address/netmask;<br /># interface names are normally preferred<br />;&nbsp;&nbsp; interfaces = 127.0.0.0/8 eth0<br /><br /># Only bind to the named interfaces and/or networks; you must use the<br /># 'interfaces' option above to use this.<br /># It is recommended that you enable this feature if your Samba machine is<br /># not protected by a firewall or is a firewall itself.&nbsp; However, this<br /># option cannot handle dynamic or non-broadcast interfaces correctly.<br />;&nbsp;&nbsp; bind interfaces only = yes<br /><br /><br /><br />#### Debugging/Accounting ####<br /><br /># This tells Samba to use a separate log file for each machine<br /># that connects<br />&nbsp;&nbsp; log file = /var/log/samba/log.%m<br /><br /># Cap the size of the individual log files (in KiB).<br />&nbsp;&nbsp; max log size = 1000<br /><br /># If you want Samba to only log through syslog then set the following<br /># parameter to 'yes'.<br />#&nbsp;&nbsp; syslog only = no<br /><br /># We want Samba to log a minimum amount of information to syslog. Everything<br /># should go to /var/log/samba/log.{smbd,nmbd} instead. If you want to log<br /># through syslog you should set the following parameter to something higher.<br />&nbsp;&nbsp; syslog = 0<br /><br /># Do something sensible when Samba crashes: mail the admin a backtrace<br />&nbsp;&nbsp; panic action = /usr/share/samba/panic-action %d<br /><br /><br />####### Authentication #######<br /><br /># "security = user" is always a good idea. This will require a Unix account<br /># in this server for every user accessing the server. See<br /># /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html<br /># in the samba-doc package for details.<br />#&nbsp;&nbsp; security = user<br /><br /># You may wish to use password encryption.&nbsp; See the section on<br /># 'encrypt passwords' in the smb.conf(5) manpage before enabling.<br />&nbsp;&nbsp; encrypt passwords = true<br /><br /># If you are using encrypted passwords, Samba will need to know what<br /># password database type you are using. <br />&nbsp;&nbsp; passdb backend = tdbsam<br /><br />&nbsp;&nbsp; obey pam restrictions = yes<br /><br /># This boolean parameter controls whether Samba attempts to sync the Unix<br /># password with the SMB password when the encrypted SMB password in the<br /># passdb is changed.<br />&nbsp;&nbsp; unix password sync = yes<br /><br /># For Unix password sync to work on a Debian GNU/Linux system, the following<br /># parameters must be set (thanks to Ian Kahan &lt;&lt;kahan@informatik.tu-muenchen.de&gt; for<br /># sending the correct chat script for the passwd program in Debian Sarge).<br />&nbsp;&nbsp; passwd program = /usr/bin/passwd %u<br />&nbsp;&nbsp; passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .<br /><br /># This boolean controls whether PAM will be used for password changes<br /># when requested by an SMB client instead of the program listed in<br /># 'passwd program'. The default is 'no'.<br />&nbsp;&nbsp; pam password change = yes<br /><br />########## Domains ###########<br /><br /># Is this machine able to authenticate users. Both PDC and BDC<br /># must have this setting enabled. If you are the BDC you must<br /># change the 'domain master' setting to no<br />#<br />;&nbsp;&nbsp; domain logons = yes<br />#<br /># The following setting only takes effect if 'domain logons' is set<br /># It specifies the location of the user's profile directory<br /># from the client point of view)<br /># The following required a [profiles] share to be setup on the<br /># samba server (see below)<br />;&nbsp;&nbsp; logon path = \\%N\profiles\%U<br /># Another common choice is storing the profile in the user's home directory<br /># (this is Samba's default)<br />#&nbsp;&nbsp; logon path = \\%N\%U\profile<br /><br /># The following setting only takes effect if 'domain logons' is set<br /># It specifies the location of a user's home directory (from the client<br /># point of view)<br />;&nbsp;&nbsp; logon drive = H:<br />#&nbsp;&nbsp; logon home = \\%N\%U<br /><br /># The following setting only takes effect if 'domain logons' is set<br /># It specifies the script to run during logon. The script must be stored<br /># in the [netlogon] share<br /># NOTE: Must be store in 'DOS' file format convention<br />;&nbsp;&nbsp; logon script = logon.cmd<br /><br /># This allows Unix users to be created on the domain controller via the SAMR<br /># RPC pipe.&nbsp; The example command creates a user account with a disabled Unix<br /># password; please adapt to your needs<br />; add user script = /usr/sbin/adduser --quiet --disabled-password --gecos "" %u<br /><br /># This allows machine accounts to be created on the domain controller via the <br /># SAMR RPC pipe. <br /># The following assumes a "machines" group exists on the system<br />; add machine script&nbsp; = /usr/sbin/useradd -g machines -c "%u machine account" -d /var/lib/samba -s /bin/false %u<br /><br /># This allows Unix groups to be created on the domain controller via the SAMR<br /># RPC pipe. <br />; add group script = /usr/sbin/addgroup --force-badname %g<br /><br />########## Printing ##########<br /><br /># If you want to automatically load your printer list rather<br /># than setting them up individually then you'll need this<br />#&nbsp;&nbsp; load printers = yes<br /><br /># lpr(ng) printing. You may wish to override the location of the<br /># printcap file<br />;&nbsp;&nbsp; printing = bsd<br />;&nbsp;&nbsp; printcap name = /etc/printcap<br /><br /># CUPS printing.&nbsp; See also the cupsaddsmb(8) manpage in the<br /># cupsys-client package.<br />;&nbsp;&nbsp; printing = cups<br />;&nbsp;&nbsp; printcap name = cups<br /><br />############ Misc ############<br /><br /># Using the following line enables you to customise your configuration<br /># on a per machine basis. The %m gets replaced with the netbios name<br /># of the machine that is connecting<br />;&nbsp;&nbsp; include = /home/samba/etc/smb.conf.%m<br /><br /># Most people will find that this option gives better performance.<br /># See smb.conf(5) and /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/speed.html<br /># for details<br /># You may want to add the following on a Linux system:<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SO_RCVBUF=8192 SO_SNDBUF=8192<br />#&nbsp;&nbsp; socket options = TCP_NODELAY<br /><br /># The following parameter is useful only if you have the linpopup package<br /># installed. The samba maintainer and the linpopup maintainer are<br /># working to ease installation and configuration of linpopup and samba.<br />;&nbsp;&nbsp; message command = /bin/sh -c '/usr/bin/linpopup "%f" "%m" %s; rm %s' &amp;<br /><br /># Domain Master specifies Samba to be the Domain Master Browser. If this<br /># machine will be configured as a BDC (a secondary logon server), you<br /># must set this to 'no'; otherwise, the default behavior is recommended.<br />#&nbsp;&nbsp; domain master = auto<br /><br /># Some defaults for winbind (make sure you're not using the ranges<br /># for something else.)<br />;&nbsp;&nbsp; idmap uid = 10000-20000<br />;&nbsp;&nbsp; idmap gid = 10000-20000<br />;&nbsp;&nbsp; template shell = /bin/bash<br /><br /># The following was the default behaviour in sarge,<br /># but samba upstream reverted the default because it might induce<br /># performance issues in large organizations.<br /># See Debian bug #368251 for some of the consequences of *not*<br /># having this setting and smb.conf(5) for details.<br />;&nbsp;&nbsp; winbind enum groups = yes<br />;&nbsp;&nbsp; winbind enum users = yes<br /><br /># Setup usershare options to enable non-root users to share folders<br /># with the net usershare command.<br /><br /># Maximum number of usershare. 0 (default) means that usershare is disabled.<br />;&nbsp;&nbsp; usershare max shares = 100<br /><br />#======================= Share Definitions =======================<br /><br />[homes]<br />&nbsp;&nbsp; comment = Home Directories<br />&nbsp;&nbsp; browseable = no<br /><br /># By default, the home directories are exported read-only. Change the<br /># next parameter to 'no' if you want to be able to write to them.<br />&nbsp;&nbsp; read only = yes<br /><br /># File creation mask is set to 0700 for security reasons. If you want to<br /># create files with group=rw permissions, set next parameter to 0775.<br />&nbsp;&nbsp; create mask = 0700<br /><br /># Directory creation mask is set to 0700 for security reasons. If you want to<br /># create dirs. with group=rw permissions, set next parameter to 0775.<br />&nbsp;&nbsp; directory mask = 0700<br /><br /># By default, \\server\username shares can be connected to by anyone<br /># with access to the samba server.<br /># The following parameter makes sure that only "username" can connect<br /># to \\server\username<br /># This might need tweaking when using external authentication schemes<br />&nbsp;&nbsp; valid users = %S<br /><br /># Un-comment the following and create the netlogon directory for Domain Logons<br /># (you need to configure Samba to act as a domain controller too.)<br />;[netlogon]<br />;&nbsp;&nbsp; comment = Network Logon Service<br />;&nbsp;&nbsp; path = /home/samba/netlogon<br />;&nbsp;&nbsp; guest ok = yes<br />;&nbsp;&nbsp; read only = yes<br /><br /># Un-comment the following and create the profiles directory to store<br /># users profiles (see the "logon path" option above)<br /># (you need to configure Samba to act as a domain controller too.)<br /># The path below should be writable by all users so that their<br /># profile directory may be created the first time they log on<br />;[profiles]<br />;&nbsp;&nbsp; comment = Users profiles<br />;&nbsp;&nbsp; path = /home/samba/profiles<br />;&nbsp;&nbsp; guest ok = no<br />;&nbsp;&nbsp; browseable = no<br />;&nbsp;&nbsp; create mask = 0600<br />;&nbsp;&nbsp; directory mask = 0700<br /><br />[printers]<br />&nbsp;&nbsp; comment = All Printers<br />&nbsp;&nbsp; browseable = no<br />&nbsp;&nbsp; path = /var/spool/samba<br />&nbsp;&nbsp; printable = yes<br />&nbsp;&nbsp; guest ok = no<br />&nbsp;&nbsp; read only = yes<br />&nbsp;&nbsp; create mask = 0700<br /><br /># Windows clients look for this share name as a source of downloadable<br /># printer drivers<br />[print$]<br />&nbsp;&nbsp; comment = Printer Drivers<br />&nbsp;&nbsp; path = /var/lib/samba/printers<br />&nbsp;&nbsp; browseable = yes<br />&nbsp;&nbsp; read only = yes<br />&nbsp;&nbsp; guest ok = no<br /># Uncomment to allow remote administration of Windows print drivers.<br /># You may need to replace 'lpadmin' with the name of the group your<br /># admin users are members of.<br /># Please note that you also need to set appropriate Unix permissions<br /># to the drivers directory for these users to have write rights in it<br />;&nbsp;&nbsp; write list = root, @lpadmin<br /><br /># A sample share for sharing your CD-ROM with others.<br />;[cdrom]<br />;&nbsp;&nbsp; comment = Samba server's CD-ROM<br />;&nbsp;&nbsp; read only = yes<br />;&nbsp;&nbsp; locking = no<br />;&nbsp;&nbsp; path = /cdrom<br />;&nbsp;&nbsp; guest ok = yes<br /><br /># The next two parameters show how to auto-mount a CD-ROM when the<br />#&nbsp;&nbsp; &nbsp;cdrom share is accesed. For this to work /etc/fstab must contain<br />#&nbsp;&nbsp; &nbsp;an entry like this:<br />#<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dev/scd0&nbsp;&nbsp; /cdrom&nbsp; iso9660 defaults,noauto,ro,user&nbsp;&nbsp; 0 0<br />#<br /># The CD-ROM gets unmounted automatically after the connection to the<br />#<br /># If you don't want to use auto-mounting/unmounting make sure the CD<br />#&nbsp;&nbsp; &nbsp;is mounted on /cdrom<br />#<br />;&nbsp;&nbsp; preexec = /bin/mount /cdrom<br />;&nbsp;&nbsp; postexec = /bin/umount /cdrom<br /><br />[arquivos]<br />path = /mnt<br />writable = yes<br />guest ok = yes<br /><br />[backups]<br />path = /mnt<br />writable = yes<br />guest ok = yes<br /><br /></div></b><br />Terminal Root http://www.terminalroot.com.br/ Blog Linux