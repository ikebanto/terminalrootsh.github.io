---
layout: post
title: Passo a Passo como conectar duas máquinas Linux e Windows via rede com c...
date: '2014-11-08T16:18:00.002-08:00'
description: Passo a Passo como conectar duas máquinas Linux e Windows via rede com cabo
main-class: 'misc'
color: '#34a853'
author: Marcos Oliveira
tags:
- Servidores
- Redes
modified_time: '2014-11-08T16:18:44.842-08:00'
thumbnail: http://4.bp.blogspot.com/-2RsSyjW0Ogo/UmRjkvmGIDI/AAAAAAAACeE/ZlyH9s_VueY/s72-c/Passo+a+Passo+para+criar+uma+conex%C3%A3o+entre+duas+m%C3%A1quinas+(uma+Linux+e+outra+Windows)+via+Samba+e+com+cabo+cross-over.jpg
twitter_text: Passo a Passo como conectar duas máquinas Linux e Windows via rede com cabo
introduction: Passo a Passo como conectar duas máquinas Linux e Windows via rede com cabo
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-2RsSyjW0Ogo/UmRjkvmGIDI/AAAAAAAACeE/ZlyH9s_VueY/s1600/Passo+a+Passo+para+criar+uma+conex%C3%A3o+entre+duas+m%C3%A1quinas+(uma+Linux+e+outra+Windows)+via+Samba+e+com+cabo+cross-over.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-2RsSyjW0Ogo/UmRjkvmGIDI/AAAAAAAACeE/ZlyH9s_VueY/s640/Passo+a+Passo+para+criar+uma+conex%C3%A3o+entre+duas+m%C3%A1quinas+(uma+Linux+e+outra+Windows)+via+Samba+e+com+cabo+cross-over.jpg" height="353" width="570" /></a></div>br /&gt; </p><p><h3><span style="font-family: Verdana,sans-serif;">Passo a Passo como conectar duas máquinas Linux e <strike><span style="font-weight: normal;">Windows</span></strike> via rede com cabo Cross-Over e Samba.</span></h3></p><p><b><span style="font-size: large;">1 - Criar o cabo <span style="color: blue;">Cross-Over</span> TP(par trançado):</span></p><p></p><p><a href="http://www.infowester.com/tutcabosredes.php" target="_blank">Como criar "cabo crossover" e "cabo direto"</a></p><p></p><p></p><p><span style="font-size: large;">2 - Criar uma conta no </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;"> com o mesmo nome e mesma senha(talvez) de uma conta no <span style="color: blue;">Linux</span>(</span></b><span style="font-size: small;"><i>procure no google como criar, caso não saiba</i></span><b><span style="font-size: large;">)</span></p><p></p><p><span style="font-size: large;">3 - Compartilhar a pasta ou unidade </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;"> e incluir o usuário </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;"> que você permitirá, e verificar permissões da rede e total:</span></p><p></b></p><p><blockquote><i><b>&nbsp;&nbsp; &nbsp;* - clique com o botão direito em cima da pasta ou unidade e vá até propriedades e selecione compartilhar, no compartilhamento avançado(outra opção no mesmo menu) inclua o nome do usuário que receberá o acesso do Samba, ex.: marcos. Qualquer dúvida pesquise na internet como fazer isso.</b></i></blockquote><b></p><p><span style="font-size: large;">4 - Instalar o Samba e o <span style="color: blue;">smbclient</span> no Linux:</span></p><p></p><p></b></p><p><div class="adp"><b># apt-get install samba smbclient</b></div><b></p><p></b></p><p><h4>&nbsp;&nbsp; &nbsp;4.1 - Por comando vc deve utilizar o comando tipo esse exemplo, supondo que o ip da máquina <strike>Windows</strike><b> seja 10.1.1.3:</b></h4><b>&nbsp;&nbsp; </p><p></b></p><p><div class="adp"><b># smbclient -L 10.1.1.3 -U marcos</b></div><b></p><p></p><p></p><p></p><p><span style="font-size: large;">5 - Criar um backup do <span style="color: blue;">smb.conf</span> :</span></p><p></b></p><p><div class="adp"><b></p><p></b><b># cd /etc/samba</b></p><p><b># mkdir backupsmb</b></p><p><b># cp smb.conf backupsmb/</b></p><p><b># mv backupsmb/smb.conf backupsmb/smb.conf.bkp</b></div><b></p><p><span style="font-size: large;">6 - Editar o <span style="color: blue;">smb.conf</span></span></p><p><div class="adp"></p><p># vim /etc/samba/smb.conf</div></p><p><i>use essa como base, mas altere com seus nomes de usuário:</i></p><p></p><p><div class="adp"></p><p></p><p>[global]</p><p>netbios name = linux</p><p>server string = Servidor público</p><p>workgroup = WORKGROUP</p><p>local master = yes</p><p>os level = 100</p><p>preferred master = yes</p><p>wins support = yes</p><p>map to guest = bad user</p><p>guest account = marcos</p><p></p><p>[arquivos]</p><p>path = /mnt</p><p>writable = yes</p><p>guest ok = yes</p><p></p><p>[backups]</p><p>path = /mnt</p><p>writable = yes</p><p>guest ok = yes</p><p></p><p></div></p><p></p><p><span style="font-size: large;">7 - Ao final o arquivo ficará mais ou menos assim, perceba que o [global] tá no meio do arquivo e os [arquivos] e [backups] estão no final:</span></p><p></p><p><span style="color: red;"><span style="font-size: x-large;">&nbsp;VEJA O CÓDIGO NO FINAL DESTE POST</span></span></p><p></p><p><span style="font-size: large;">8 - Crie um usuario <span style="color: blue;">samba</span> no <span style="color: blue;">Linux</span>, com a mesma senha(</span></b><span style="font-size: small;"><i>não necessariamente</i></span><b><span style="font-size: large;">) do usuário que existe no sistema <span style="color: blue;">Linux</span> e no </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;">, e dê a permissão para a montagem:</span></p><p><div class="adp"></p><p># smbpasswd -a marcos</p><p># chown -R marcos:marcos /mnt</div></p><p><span style="font-size: large;">9 - Pare e inicie o <span style="color: blue;">daemon</span> do <span style="color: blue;">Samba</span>:</span></p><p><div class="adp"></p><p># /etc/init.d/samba stop</p><p># /etc/init.d/samba start</div></p><p><span style="font-size: large;">10 - Teste o <span style="color: blue;">samba</span>, ...:</span></p><p><div class="adp"></p><p># testparm</div></p><p><span style="font-size: large;">11 - Configure a placa de rede no </span></b><strike><span style="font-size: large;">Windows</span></strike><b><span style="font-size: large;">:</span></p><p></b></p><p><blockquote class="tr_bq"><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;a - clique com o botão direito no icone de rede no desktop, e depois em Alterar Configurações de Rede do Adaptador</b></p><p><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;b - clique com o botão direito em cima da placa de rede(se houver duas, desative a outra) e vá até propriedades</b></p><p><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;c - desative(desmarque o protocolo ipv6) e dê um duplo clique no ipv4, na janela que se abrirá, configure o ip da máquina, gateway e máscara, ex.:</b></p><p><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;</b></p><p><b>{% highlight bash %}&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ip &nbsp;&nbsp;&nbsp;&nbsp; - 10.1.1.3{% endhighlight %}</b></p><p><b>{% highlight bash %}&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;gateway - 10.1.1.2{% endhighlight %}</b></p><p><b>{% highlight bash %}&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;máscara - 255.0.0.0{% endhighlight %}</b></p><p><b></b></p><p><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;d - aplique e salve, se for o caso, depois feche</b></p><p><b>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;e - desative e ative a conexão de rede, para pegar as configurações e aguarde o reconhecimento da mesma.</b></blockquote><b></p><p><span style="font-size: large;">12 - Desative a placa de rede no <span style="color: blue;">Linux</span> e reative com o <span style="color: blue;">ip</span> e <span style="color: blue;">netmask</span> correspondentes:</span></p><p></b></p><p><div class="adp"><b></p><p></b><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;a&nbsp;&nbsp; &nbsp;- # ipconfig eth0 down</b></p><p><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;b - # ipconfig eth0 10.1.1.2 netmask 255.0.0.0 up</b></div><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b></p><p><blockquote class="tr_bq"><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="color: red;">obs.: Caso o icone da area de trabalho fique desconectado, desconsidere, confirme os dados com comando</span></b></p><p><b></b></blockquote><b></b></p><p><div class="adp"><b></p><p></b><b>&nbsp;&nbsp;&nbsp; c - # ifconfig</b></div><b>&nbsp;&nbsp; </p><p><u><span style="font-size: large;"><i>&nbsp;&nbsp;&nbsp; mais ou menos aparecerá:</i></span></u></p><p>&nbsp;&nbsp; </p><p>{% highlight bash %}</p><p>eth0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link encap:Ethernet&nbsp; Endereço de HW 00:87:56:9e:88:41 </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inet end.: 10.1.1.2&nbsp; Bcast:10.255.255.255&nbsp; Masc:255.0.0.0</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endereço inet6: fe80::221:97ff:fe6d:6450/64 Escopo:Link</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UP BROADCASTRUNNING MULTICAST&nbsp; MTU:1500&nbsp; Métrica:1</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX packets:107715 errors:0 dropped:0 overruns:0 frame:0</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TX packets:85580 errors:0 dropped:0 overruns:0 carrier:0</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; colisões:0 txqueuelen:1000 </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX bytes:126178753 (120.3 MiB)&nbsp; TX bytes:11810528 (11.2 MiB)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IRQ:25 Endereço de E/S:0x6000 </p><p></p><p>lo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link encap:Loopback Local </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inet end.: 127.0.0.1&nbsp; Masc:255.0.0.0</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endereço inet6: ::1/128 Escopo:Máquina</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UP LOOPBACKRUNNING&nbsp; MTU:16436&nbsp; Métrica:1</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX packets:8159 errors:0 dropped:0 overruns:0 frame:0</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TX packets:8159 errors:0 dropped:0 overruns:0 carrier:0</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; colisões:0 txqueuelen:0 </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RX bytes:726321 (709.2 KiB)&nbsp; TX bytes:726321 (709.2 KiB){% endhighlight %}</p><p>&nbsp;&nbsp; </p><p><span style="font-size: large;">13 - Depois ping no <span style="color: blue;">ip</span> da maquina do </span></b><strike><span style="font-size: large;">windows</span></strike><b><span style="font-size: large;"> pra ver se está tudo normal:</span></p><p></b></p><p><div class="adp"><b></p><p></b><b># ping 10.1.1.3 -c3</b></div><b></p><p><u><i>resultado, mais ou menos esse:</i></u></p><p></p><p>{% highlight bash %}</p><p></p><p>PING 10.1.1.3 (10.1.1.3) 56(84) bytes of data.</p><p>64 bytes from 10.1.1.3: icmp_req=1 ttl=128 time=0.169 ms</p><p>64 bytes from 10.1.1.3: icmp_req=2 ttl=128 time=5.03 ms</p><p>64 bytes from 10.1.1.3: icmp_req=3 ttl=128 time=0.168 ms</p><p></p><p>--- 10.1.1.3 ping statistics ---</p><p>3 packets transmitted, 3 received, 0% packet loss, time 2000ms</p><p>rtt min/avg/max/mdev = 0.168/1.791/5.037/2.295 ms{% endhighlight %}</p><p></p><p><span style="font-size: large;">14 - Agora abra o <span style="color: blue;">Nautilus</span> (</span></b><i><span style="font-size: large;">uma pasta qualquer no modo gráfico</span></i><b><span style="font-size: large;">), e aperte <span style="color: blue;">Ctrl+L</span>, e na barra de endereços digite:</span></p><p><div class="adp"></p><p>&nbsp;smb://10.1.1.3</div></p><p>pedirá usuario, grupo e senha. Preencha com marcos(o nome que vc escolheu), WORKGROUP e a senha do usuário.</p><p></p><p>pronto, vc acessará!</p><p></p><p>mais informações veja esse link:</p><p></p><p><a href="http://amigosdopinguim.blogspot.com.br/2011/12/como-utilizar-o-samba-por-comando-e.html" target="_blank">Como utilizar o Samba por comando e modo gráfico</a></p><p></p><p></p><p></p><p>Qualquer duvida é só comentar!</p><p></p><p>abraços!</p><p></p><p><u><i><span style="color: purple;"><span style="font-size: x-large;">DADOS DO SMB.CONF:</span></span></i></u></p><p></p><p><div class="adp"></p><p>#</p><p># Sample configuration file for the Samba suite for Debian GNU/Linux.</p><p>#</p><p>#</p><p># This is the main Samba configuration file. You should read the</p><p># smb.conf(5) manual page in order to understand the options listed</p><p># here. Samba has a huge number of configurable options most of which </p><p># are not shown in this example</p><p>#</p><p># Some options that are often worth tuning have been included as</p><p># commented-out examples in this file.</p><p>#&nbsp; - When such options are commented with ";", the proposed setting</p><p>#&nbsp;&nbsp;&nbsp; differs from the default Samba behaviour</p><p>#&nbsp; - When commented with "#", the proposed setting is the default</p><p>#&nbsp;&nbsp;&nbsp; behaviour of Samba but the option is considered important</p><p>#&nbsp;&nbsp;&nbsp; enough to be mentioned here</p><p>#</p><p># NOTE: Whenever you modify this file you should run the command</p><p># "testparm" to check that you have not made any basic syntactic </p><p># errors. </p><p># A well-established practice is to name the original file</p><p># "smb.conf.master" and create the "real" config file with</p><p># testparm -s smb.conf.master &gt;smb.conf</p><p># This minimizes the size of the really used smb.conf file</p><p># which, according to the Samba Team, impacts performance</p><p># However, use this with caution if your smb.conf file contains nested</p><p># "include" statements. See Debian bug #483187 for a case</p><p># where using a master file is not a good idea.</p><p>#</p><p></p><p>#======================= Global Settings =======================</p><p></p><p>[global]</p><p>netbios name = linux</p><p>server string = Servidor público</p><p>workgroup = WORKGROUP</p><p>local master = yes</p><p>os level = 100</p><p>preferred master = yes</p><p>wins support = yes</p><p>map to guest = bad user</p><p>guest account = marcos</p><p></p><p>#### Networking ####</p><p></p><p># The specific set of interfaces / networks to bind to</p><p># This can be either the interface name or an IP address/netmask;</p><p># interface names are normally preferred</p><p>;&nbsp;&nbsp; interfaces = 127.0.0.0/8 eth0</p><p></p><p># Only bind to the named interfaces and/or networks; you must use the</p><p># 'interfaces' option above to use this.</p><p># It is recommended that you enable this feature if your Samba machine is</p><p># not protected by a firewall or is a firewall itself.&nbsp; However, this</p><p># option cannot handle dynamic or non-broadcast interfaces correctly.</p><p>;&nbsp;&nbsp; bind interfaces only = yes</p><p></p><p></p><p></p><p>#### Debugging/Accounting ####</p><p></p><p># This tells Samba to use a separate log file for each machine</p><p># that connects</p><p>&nbsp;&nbsp; log file = /var/log/samba/log.%m</p><p></p><p># Cap the size of the individual log files (in KiB).</p><p>&nbsp;&nbsp; max log size = 1000</p><p></p><p># If you want Samba to only log through syslog then set the following</p><p># parameter to 'yes'.</p><p>#&nbsp;&nbsp; syslog only = no</p><p></p><p># We want Samba to log a minimum amount of information to syslog. Everything</p><p># should go to /var/log/samba/log.{smbd,nmbd} instead. If you want to log</p><p># through syslog you should set the following parameter to something higher.</p><p>&nbsp;&nbsp; syslog = 0</p><p></p><p># Do something sensible when Samba crashes: mail the admin a backtrace</p><p>&nbsp;&nbsp; panic action = /usr/share/samba/panic-action %d</p><p></p><p></p><p>####### Authentication #######</p><p></p><p># "security = user" is always a good idea. This will require a Unix account</p><p># in this server for every user accessing the server. See</p><p># /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html</p><p># in the samba-doc package for details.</p><p>#&nbsp;&nbsp; security = user</p><p></p><p># You may wish to use password encryption.&nbsp; See the section on</p><p># 'encrypt passwords' in the smb.conf(5) manpage before enabling.</p><p>&nbsp;&nbsp; encrypt passwords = true</p><p></p><p># If you are using encrypted passwords, Samba will need to know what</p><p># password database type you are using. </p><p>&nbsp;&nbsp; passdb backend = tdbsam</p><p></p><p>&nbsp;&nbsp; obey pam restrictions = yes</p><p></p><p># This boolean parameter controls whether Samba attempts to sync the Unix</p><p># password with the SMB password when the encrypted SMB password in the</p><p># passdb is changed.</p><p>&nbsp;&nbsp; unix password sync = yes</p><p></p><p># For Unix password sync to work on a Debian GNU/Linux system, the following</p><p># parameters must be set (thanks to Ian Kahan &lt;&lt;kahan@informatik.tu-muenchen.de&gt; for</p><p># sending the correct chat script for the passwd program in Debian Sarge).</p><p>&nbsp;&nbsp; passwd program = /usr/bin/passwd %u</p><p>&nbsp;&nbsp; passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .</p><p></p><p># This boolean controls whether PAM will be used for password changes</p><p># when requested by an SMB client instead of the program listed in</p><p># 'passwd program'. The default is 'no'.</p><p>&nbsp;&nbsp; pam password change = yes</p><p></p><p>########## Domains ###########</p><p></p><p># Is this machine able to authenticate users. Both PDC and BDC</p><p># must have this setting enabled. If you are the BDC you must</p><p># change the 'domain master' setting to no</p><p>#</p><p>;&nbsp;&nbsp; domain logons = yes</p><p>#</p><p># The following setting only takes effect if 'domain logons' is set</p><p># It specifies the location of the user's profile directory</p><p># from the client point of view)</p><p># The following required a [profiles] share to be setup on the</p><p># samba server (see below)</p><p>;&nbsp;&nbsp; logon path = \\%N\profiles\%U</p><p># Another common choice is storing the profile in the user's home directory</p><p># (this is Samba's default)</p><p>#&nbsp;&nbsp; logon path = \\%N\%U\profile</p><p></p><p># The following setting only takes effect if 'domain logons' is set</p><p># It specifies the location of a user's home directory (from the client</p><p># point of view)</p><p>;&nbsp;&nbsp; logon drive = H:</p><p>#&nbsp;&nbsp; logon home = \\%N\%U</p><p></p><p># The following setting only takes effect if 'domain logons' is set</p><p># It specifies the script to run during logon. The script must be stored</p><p># in the [netlogon] share</p><p># NOTE: Must be store in 'DOS' file format convention</p><p>;&nbsp;&nbsp; logon script = logon.cmd</p><p></p><p># This allows Unix users to be created on the domain controller via the SAMR</p><p># RPC pipe.&nbsp; The example command creates a user account with a disabled Unix</p><p># password; please adapt to your needs</p><p>; add user script = /usr/sbin/adduser --quiet --disabled-password --gecos "" %u</p><p></p><p># This allows machine accounts to be created on the domain controller via the </p><p># SAMR RPC pipe. </p><p># The following assumes a "machines" group exists on the system</p><p>; add machine script&nbsp; = /usr/sbin/useradd -g machines -c "%u machine account" -d /var/lib/samba -s /bin/false %u</p><p></p><p># This allows Unix groups to be created on the domain controller via the SAMR</p><p># RPC pipe. </p><p>; add group script = /usr/sbin/addgroup --force-badname %g</p><p></p><p>########## Printing ##########</p><p></p><p># If you want to automatically load your printer list rather</p><p># than setting them up individually then you'll need this</p><p>#&nbsp;&nbsp; load printers = yes</p><p></p><p># lpr(ng) printing. You may wish to override the location of the</p><p># printcap file</p><p>;&nbsp;&nbsp; printing = bsd</p><p>;&nbsp;&nbsp; printcap name = /etc/printcap</p><p></p><p># CUPS printing.&nbsp; See also the cupsaddsmb(8) manpage in the</p><p># cupsys-client package.</p><p>;&nbsp;&nbsp; printing = cups</p><p>;&nbsp;&nbsp; printcap name = cups</p><p></p><p>############ Misc ############</p><p></p><p># Using the following line enables you to customise your configuration</p><p># on a per machine basis. The %m gets replaced with the netbios name</p><p># of the machine that is connecting</p><p>;&nbsp;&nbsp; include = /home/samba/etc/smb.conf.%m</p><p></p><p># Most people will find that this option gives better performance.</p><p># See smb.conf(5) and /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/speed.html</p><p># for details</p><p># You may want to add the following on a Linux system:</p><p>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SO_RCVBUF=8192 SO_SNDBUF=8192</p><p>#&nbsp;&nbsp; socket options = TCP_NODELAY</p><p></p><p># The following parameter is useful only if you have the linpopup package</p><p># installed. The samba maintainer and the linpopup maintainer are</p><p># working to ease installation and configuration of linpopup and samba.</p><p>;&nbsp;&nbsp; message command = /bin/sh -c '/usr/bin/linpopup "%f" "%m" %s; rm %s' &amp;</p><p></p><p># Domain Master specifies Samba to be the Domain Master Browser. If this</p><p># machine will be configured as a BDC (a secondary logon server), you</p><p># must set this to 'no'; otherwise, the default behavior is recommended.</p><p>#&nbsp;&nbsp; domain master = auto</p><p></p><p># Some defaults for winbind (make sure you're not using the ranges</p><p># for something else.)</p><p>;&nbsp;&nbsp; idmap uid = 10000-20000</p><p>;&nbsp;&nbsp; idmap gid = 10000-20000</p><p>;&nbsp;&nbsp; template shell = /bin/bash</p><p></p><p># The following was the default behaviour in sarge,</p><p># but samba upstream reverted the default because it might induce</p><p># performance issues in large organizations.</p><p># See Debian bug #368251 for some of the consequences of *not*</p><p># having this setting and smb.conf(5) for details.</p><p>;&nbsp;&nbsp; winbind enum groups = yes</p><p>;&nbsp;&nbsp; winbind enum users = yes</p><p></p><p># Setup usershare options to enable non-root users to share folders</p><p># with the net usershare command.</p><p></p><p># Maximum number of usershare. 0 (default) means that usershare is disabled.</p><p>;&nbsp;&nbsp; usershare max shares = 100</p><p></p><p>#======================= Share Definitions =======================</p><p></p><p>[homes]</p><p>&nbsp;&nbsp; comment = Home Directories</p><p>&nbsp;&nbsp; browseable = no</p><p></p><p># By default, the home directories are exported read-only. Change the</p><p># next parameter to 'no' if you want to be able to write to them.</p><p>&nbsp;&nbsp; read only = yes</p><p></p><p># File creation mask is set to 0700 for security reasons. If you want to</p><p># create files with group=rw permissions, set next parameter to 0775.</p><p>&nbsp;&nbsp; create mask = 0700</p><p></p><p># Directory creation mask is set to 0700 for security reasons. If you want to</p><p># create dirs. with group=rw permissions, set next parameter to 0775.</p><p>&nbsp;&nbsp; directory mask = 0700</p><p></p><p># By default, \\server\username shares can be connected to by anyone</p><p># with access to the samba server.</p><p># The following parameter makes sure that only "username" can connect</p><p># to \\server\username</p><p># This might need tweaking when using external authentication schemes</p><p>&nbsp;&nbsp; valid users = %S</p><p></p><p># Un-comment the following and create the netlogon directory for Domain Logons</p><p># (you need to configure Samba to act as a domain controller too.)</p><p>;[netlogon]</p><p>;&nbsp;&nbsp; comment = Network Logon Service</p><p>;&nbsp;&nbsp; path = /home/samba/netlogon</p><p>;&nbsp;&nbsp; guest ok = yes</p><p>;&nbsp;&nbsp; read only = yes</p><p></p><p># Un-comment the following and create the profiles directory to store</p><p># users profiles (see the "logon path" option above)</p><p># (you need to configure Samba to act as a domain controller too.)</p><p># The path below should be writable by all users so that their</p><p># profile directory may be created the first time they log on</p><p>;[profiles]</p><p>;&nbsp;&nbsp; comment = Users profiles</p><p>;&nbsp;&nbsp; path = /home/samba/profiles</p><p>;&nbsp;&nbsp; guest ok = no</p><p>;&nbsp;&nbsp; browseable = no</p><p>;&nbsp;&nbsp; create mask = 0600</p><p>;&nbsp;&nbsp; directory mask = 0700</p><p></p><p>[printers]</p><p>&nbsp;&nbsp; comment = All Printers</p><p>&nbsp;&nbsp; browseable = no</p><p>&nbsp;&nbsp; path = /var/spool/samba</p><p>&nbsp;&nbsp; printable = yes</p><p>&nbsp;&nbsp; guest ok = no</p><p>&nbsp;&nbsp; read only = yes</p><p>&nbsp;&nbsp; create mask = 0700</p><p></p><p># Windows clients look for this share name as a source of downloadable</p><p># printer drivers</p><p>[print$]</p><p>&nbsp;&nbsp; comment = Printer Drivers</p><p>&nbsp;&nbsp; path = /var/lib/samba/printers</p><p>&nbsp;&nbsp; browseable = yes</p><p>&nbsp;&nbsp; read only = yes</p><p>&nbsp;&nbsp; guest ok = no</p><p># Uncomment to allow remote administration of Windows print drivers.</p><p># You may need to replace 'lpadmin' with the name of the group your</p><p># admin users are members of.</p><p># Please note that you also need to set appropriate Unix permissions</p><p># to the drivers directory for these users to have write rights in it</p><p>;&nbsp;&nbsp; write list = root, @lpadmin</p><p></p><p># A sample share for sharing your CD-ROM with others.</p><p>;[cdrom]</p><p>;&nbsp;&nbsp; comment = Samba server's CD-ROM</p><p>;&nbsp;&nbsp; read only = yes</p><p>;&nbsp;&nbsp; locking = no</p><p>;&nbsp;&nbsp; path = /cdrom</p><p>;&nbsp;&nbsp; guest ok = yes</p><p></p><p># The next two parameters show how to auto-mount a CD-ROM when the</p><p>#&nbsp;&nbsp; &nbsp;cdrom share is accesed. For this to work /etc/fstab must contain</p><p>#&nbsp;&nbsp; &nbsp;an entry like this:</p><p>#</p><p>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dev/scd0&nbsp;&nbsp; /cdrom&nbsp; iso9660 defaults,noauto,ro,user&nbsp;&nbsp; 0 0</p><p>#</p><p># The CD-ROM gets unmounted automatically after the connection to the</p><p>#</p><p># If you don't want to use auto-mounting/unmounting make sure the CD</p><p>#&nbsp;&nbsp; &nbsp;is mounted on /cdrom</p><p>#</p><p>;&nbsp;&nbsp; preexec = /bin/mount /cdrom</p><p>;&nbsp;&nbsp; postexec = /bin/umount /cdrom</p><p></p><p>[arquivos]</p><p>path = /mnt</p><p>writable = yes</p><p>guest ok = yes</p><p></p><p>[backups]</p><p>path = /mnt</p><p>writable = yes</p><p>guest ok = yes</p><p></p><p></div></b></p><p>Terminal Root http://www.terminalroot.com.br/ Blog Linux

</p>
