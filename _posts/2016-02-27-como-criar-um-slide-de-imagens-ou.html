---
layout: post
title: Como criar um SLIDE de IMAGENS ou VÍDEOS pelo TERMINAL
date: '2016-02-27T09:31:00.001-08:00'
author: Terminal Root
tags:
- Linux
- Multimídia
- Terminal
modified_time: '2016-03-30T19:12:14.988-07:00'
thumbnail: https://3.bp.blogspot.com/-E8s8Vf8S3hc/VtHbk1l0lvI/AAAAAAAAAC4/8cadnuF31aY/s72-c/COMO%2BCRIAR%2BUM%2BSLIDE%2BDE%2BIMAGENS%2BOU%2BV%25C3%258DDEOS%2BPELO%2BTERMINAL.jpg
blogger_id: tag:blogger.com,1999:blog-2422865715758349944.post-325781821870083248
blogger_orig_url: http://www.terminalroot.com.br/2016/02/como-criar-um-slide-de-imagens-ou.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-E8s8Vf8S3hc/VtHbk1l0lvI/AAAAAAAAAC4/8cadnuF31aY/s1600/COMO%2BCRIAR%2BUM%2BSLIDE%2BDE%2BIMAGENS%2BOU%2BV%25C3%258DDEOS%2BPELO%2BTERMINAL.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-E8s8Vf8S3hc/VtHbk1l0lvI/AAAAAAAAAC4/8cadnuF31aY/s320/COMO%2BCRIAR%2BUM%2BSLIDE%2BDE%2BIMAGENS%2BOU%2BV%25C3%258DDEOS%2BPELO%2BTERMINAL.jpg" /></a></div><br /><br /><b>&nbsp;&nbsp;&nbsp; <span style="font-size: x-large;">O</span>lá pessoal, nessa postagem vou mostrar uma forma de criar <span style="font-size: large;"><span style="color: purple;">SLIDE</span></span> pelo <span style="font-size: large;"><i>terminal</i></span> utilizando o <span style="font-size: large;"><span style="color: red;">ffmpeg</span></span> , lógico , precisaremos dele instalado. Verifique se o mesmo está instalado , caso não esteja , instale-o!<br />&nbsp;&nbsp; <br />&nbsp;&nbsp; &nbsp;Após instalado , você precisa estar no diretório onde estão as imagens ( </b><i>$ cd SEU_DIR/</i><b> ) ou no comando apontar para a pasta que as contém.<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp; &nbsp;Para criar um SLIDE de imagens <span style="font-size: large;"><span style="color: blue;">JPG</span></span> sendo cada imagem com duração na tela de <u>2 segundos</u> , use:<br />&nbsp;&nbsp; <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="background-color: black;"><span style="color: lime;">ffmpeg [argumentos/opções] vídeo_de_slides.mp4</span></span><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp; &nbsp;<span style="font-size: large;">Onde</span>:<br />&nbsp;&nbsp; </b><br /><blockquote class="tr_bq"><b>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<i><span style="color: #444444;"><span style="color: black;">-framerate</span> : Informa o tempo de duração de cada imagem [1/2] , 2 segundos.</span></i></b><br /><b><i><span style="color: #444444;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="color: black;">-pattern_type glob -i</span> : Informa que não usaremos imagens pré numeradas , usaremos o glob *.jpg , o -i informa a entrada.</span></i></b><br /><b><i><span style="color: #444444;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="color: black;">-c:v libx264</span> : Fundamental , pois usaremos o encoder libx264</span></i></b><br /><b><i><span style="color: #444444;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="color: black;">-r</span> : O fluxo de vídeo terá uma taxa de quadros de 30 fps, duplicando os quadros de acordo:</span></i></b></blockquote><b><br />{% highlight bash %}ffmpeg -framerate 1/2 -pattern_type glob -i '*.jpg' -c:v libx264 -r 30 slide.mp4{% endhighlight %}<br /><br />&nbsp;&nbsp; &nbsp;Para imagens no formato <span style="font-size: large;"><span style="color: magenta;">PNG</span></span> , note que usamos mais argumentos <span style="background-color: #999999;"><span style="color: red;">-pix_fmt yuv420p</span></span> , que gera compatibilidade para players que utilizam espaço de cor <span style="color: red;">YUV</span> com <span style="color: red;">4:2:0 subsampling chroma</span> :<br /><br />{% highlight bash %}ffmpeg -framerate 1/2 -pattern_type glob -i '*.png' -c:v libx264 -pix_fmt yuv420p out.mp4{% endhighlight %}<br /><br />&nbsp;&nbsp; &nbsp;Caso você quiser enumerá-las , em caso de erro , use sem o <span style="background-color: #999999;"><span style="color: red;">glob</span></span> , lembrando que as imagens devem estar enumeradas como:</b><br /><blockquote class="tr_bq"><b>&nbsp;&nbsp; &nbsp;<span style="background-color: white;"><span style="color: red;">img001.png, img002.png, img003.png, etc.</span></span></b></blockquote><b><br /><br /><br /><br />{% highlight bash %}ffmpeg -framerate 1/5 -i img%03d.png -c:v libx264 -r 30 -pix_fmt yuv420p out.mp4{% endhighlight %}<br /><br /><br />Você ainda pode incluir música nos seus SLIDES, exemplo de PNG com <i><u><span style="font-size: large;">Música</span></u></i>:<br />{% highlight bash %}ffmpeg -framerate 1/2 -pattern_type glob -i '*.png' -i audio.mp3 -c:v libx264 -c:a aac -strict experimental -b:a 192k -shortest out.mp4{% endhighlight %}<br /><br />&nbsp;&nbsp; &nbsp;Agora se em vez de IMAGENS você queira <span style="font-size: large;">juntar/concatenar</span> vídeos num só, então:<br />&nbsp;&nbsp; <br />&nbsp;&nbsp; &nbsp;<i>1-Converter os vídeos para o formato MPEG com os mesmos bit rates, codecs, resoluções, números de quadros, etc.</i><br />{% highlight bash %}ffmpeg -i arquivo_original -s vga -target ntsc-dvd -aspect 4:3 arquivo_novo.mpg{% endhighlight %}<br />&nbsp;&nbsp; <br />&nbsp; <i>2 -&nbsp; Depois você concatena todos os arquivos mpeg e joga a saída para um arquivo mpeg novo:</i><br />{% highlight bash %}cat *.mpg &gt; novo.mpg{% endhighlight %}<br />&nbsp;&nbsp; <br />&nbsp;<i> 3 - Se o índice ficar bagunçado, o que será bem provável , para corrigir basta passar o arquivo pelo ffmpeg novamente:</i><br /><br />{% highlight bash %}ffmpeg -i teste.mpg -sameq arquivo_final.mpg{% endhighlight %}<br />&nbsp;&nbsp; <br />&nbsp; Se você quiser pôr áudio nos vídeos concatenados , pode alterar o áudio com o próprio FFMPEG! :)<br />&nbsp; <br /><span style="font-size: large;">&nbsp;&nbsp; &nbsp;Mais em: <a href="https://ffmpeg.org/" target="_blank">https://ffmpeg.org/</a></span></b>