---
layout: post
title: " Alterando permissões em arquivos com base em outro arquivo"
date: '2015-06-04T06:05:00.001-07:00'
description: " Alterando permissões em arquivos com base em outro arquivo"
main-class: 'linux'
color: '#3b5998'
author: Marcos Oliveira
tags:
- Linux
- userlike
- Dicas
modified_time: '2015-06-04T06:06:31.196-07:00'
thumbnail: http://2.bp.blogspot.com/-GnTmEuE_ZpY/VXBM9kn2aiI/AAAAAAAABV8/6F4hgprg8M0/s72-c/linux-acesso-seguro.jpg
twitter_text: " Alterando permissões em arquivos com base em outro arquivo"
introduction: " Alterando permissões em arquivos com base em outro arquivo"
---

<p>
Salve amantes do Linux!  Hoje estarei demonstrando como alterar as  permissões de arquivos utilizando a flag --reference que pode ser de  grande valia para administradores que precisam manipular um grande  número de arquivos com diferentes usuários e grupos.  Nesse post não  ensinarei utilizar os comandos chmod, chown e chgrp e suponho quevocê  já saiba utilizar os mesmos. Para saber detalhes sobre os mesmos  inclusive sobre a flag --reference, verifique nas páginas de manuais.   Foram criados dois arquivos (arquivo1 e arquivo2) que serão utilizados  para essa demonstração:  {% highlight bash %}
root@cubian:/home/clediomir/arquivos# ls -l
{% endhighlight %}{% highlight bash %}
total 0
{% endhighlight %}{% highlight bash %}
-rwxr-xr-x 1 root deluge 0 Abr 20 11:59 arquivo1
{% endhighlight %}{% highlight bash %}
-rw-r--r-- 1 clediomir clediomir 0 Abr 20 11:59 arquivo2
{% endhighlight %} Perceba que as permissões de arquivo1 diferem das permissões de  arquivo2.  Agora iremos alterar as permissões de arquivo2 para que  fiquem iguais a de arquivo1 utilizando a flag --reference.Um meio para  isso é utilizar o comando chmod.Este comando faz com que as permissões  do arquivo2 sejam iguais a de arquivo1:  {% highlight bash %}
root@cubian:/home/clediomir/arquivos# chmod --reference arquivo1 arquivo2 
{% endhighlight %}{% highlight bash %}
root@cubian:/home/clediomir/arquivos# ls -l
{% endhighlight %}{% highlight bash %}
total 0
{% endhighlight %}{% highlight bash %}
-rwxr-xr-x 1 root deluge 0 Abr 20 11:59 arquivo1
{% endhighlight %}{% highlight bash %}
-rwxr-xr-x 1 clediomir clediomir 0 Abr 20 11:59 arquivo2
{% endhighlight %} Após a utilização do comando você pôde verificar que as permissões do  arquivo2 ficaram iguais a do arquivo1. Você também poderá trocar o dono  do arquivo e até mesmo o grupo utilizando os comandos chown e chgrp para  isso. Agora vamos alterar as permissões de arquivo1 tendo como base o  arquivo2:  {% highlight bash %}
root@cubian:/home/clediomir/arquivos# chown --reference arquivo2 arquivo1 
{% endhighlight %}{% highlight bash %}
root@cubian:/home/clediomir/arquivos# ls -l
{% endhighlight %}{% highlight bash %}
total 0
{% endhighlight %}{% highlight bash %}
-rwxr-xr-x 1 clediomir clediomir 0 Abr 20 11:59 arquivo1
{% endhighlight %}{% highlight bash %}
-rwxr-xr-x 1 clediomir clediomir 0 Abr 20 11:59 arquivo2
{% endhighlight %} As permissões do arquivo1 foram alteradas com base no arquivo2 e  ficaram iguais. Vocêtambém pode alterargrupos dos arquivos com o  comando chgrp. Para fazer com que o grupo de arquivo1seja igual ao do  arquivo2 digite:  {% highlight bash %}
root@cubian:/home/clediomir/arquivos# chgrp --reference arquivo2 arquivo1
{% endhighlight %}{% highlight bash %}
root@cubian:/home/clediomir/arquivos# ls -l
{% endhighlight %}{% highlight bash %}
total 0
{% endhighlight %}{% highlight bash %}
-rwxr-xr-x 1 root clediomir 0 Abr 20 11:59 arquivo1
{% endhighlight %}{% highlight bash %}
-rwxr-xr-x 1 clediomir clediomir 0 Abr 20 11:59 arquivo2
{% endhighlight %} {% highlight bash %}
Obs: Para alterar o grupo eu voltei as permissões anteriores do arquivo1para o usuário e grupo antigoroot:deluge.
{% endhighlight %} Por enquanto é isso, até mais! ;)

Por Clediomir Silva




