---
layout: post
title: " Alterando permissões em arquivos com base em outro arquivo"
date: '2015-06-04T06:05:00.001-07:00'
description: " Alterando permissões em arquivos com base em outro arquivo"
main-class: 'linux'
color: '#3b5998'
author: Marcos Oliveira
tags:
- Linux
- userlike
- Dicas
modified_time: '2015-06-04T06:06:31.196-07:00'
thumbnail: http://2.bp.blogspot.com/-GnTmEuE_ZpY/VXBM9kn2aiI/AAAAAAAABV8/6F4hgprg8M0/s72-c/linux-acesso-seguro.jpg
twitter_text: " Alterando permissões em arquivos com base em outro arquivo"
introduction: " Alterando permissões em arquivos com base em outro arquivo"
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-GnTmEuE_ZpY/VXBM9kn2aiI/AAAAAAAABV8/6F4hgprg8M0/s1600/linux-acesso-seguro.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-GnTmEuE_ZpY/VXBM9kn2aiI/AAAAAAAABV8/6F4hgprg8M0/s1600/linux-acesso-seguro.jpg" /></a></div>Salve amantes do Linux!  Hoje estarei demonstrando como alterar as  permissões de arquivos utilizando a flag --reference &nbsp;que pode ser de  grande valia para administradores que precisam manipular um grande  número de arquivos com diferentes usuários e grupos.  Nesse post não  ensinarei utilizar os comandos chmod, chown e chgrp &nbsp;e suponho que&nbsp;&nbsp;você  já saiba utilizar os mesmos. Para saber detalhes sobre os mesmos  inclusive sobre a flag --reference, verifique nas páginas de manuais.   Foram criados dois arquivos (arquivo1 e arquivo2) que serão utilizados  para essa demonstração:  <span style="color: navy;">{% highlight bash %}root@cubian:/home/clediomir/arquivos# ls -l{% endhighlight %}</span><span style="color: navy;">{% highlight bash %}total 0{% endhighlight %}</span><span style="color: navy;">{% highlight bash %}<span style="color: red;">-rwxr-xr-x 1</span> root deluge 0 Abr 20 11:59 arquivo1{% endhighlight %}</span><span style="color: navy;">{% highlight bash %}<span style="color: red;">-rw-r--r-- 1</span> clediomir clediomir 0 Abr 20 11:59 arquivo2{% endhighlight %}</span> Perceba que as permissões de arquivo1 diferem das permissões de  arquivo2.  Agora iremos alterar as permissões de arquivo2 para que  fiquem iguais a de arquivo1 utilizando a flag --reference.&nbsp;Um meio para  isso é utilizar o comando chmod.&nbsp;Este comando faz com que as permissões  do arquivo2 sejam iguais a de arquivo1:  <span style="color: #003366;">{% highlight bash %}root@cubian:/home/clediomir/arquivos# <span style="color: #003366;">chmod --reference arquivo1 arquivo2 </span>{% endhighlight %}</span><span style="color: #003366;">{% highlight bash %}root@cubian:/home/clediomir/arquivos# ls -l{% endhighlight %}</span><span style="color: #003366;">{% highlight bash %}total 0{% endhighlight %}</span><span style="color: #003366;">{% highlight bash %}<span style="color: red;">-rwxr-xr-x 1</span> root deluge 0 Abr 20 11:59 arquivo1{% endhighlight %}</span><span style="color: #003366;">{% highlight bash %}<span style="color: red;">-rwxr-xr-x 1</span> clediomir clediomir 0 Abr 20 11:59 arquivo2{% endhighlight %}</span> Após a utilização do comando você pôde verificar que as permissões do  arquivo2 ficaram iguais a do arquivo1. Você também poderá trocar o dono  do arquivo e até mesmo o grupo utilizando os comandos chown e chgrp para  isso. Agora vamos alterar as permissões de arquivo1 tendo como base o  arquivo2:  {% highlight bash %}<span style="color: #003366;">root@cubian:/home/clediomir/arquivos# chown --reference arquivo2 arquivo1 </span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">root@cubian:/home/clediomir/arquivos# ls -l</span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">total 0</span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">-rwxr-xr-x 1 <span style="color: red;">clediomir clediomir</span> 0 Abr 20 11:59 arquivo1</span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">-rwxr-xr-x 1 <span style="color: red;">clediomir clediomir</span> 0 Abr 20 11:59 arquivo2</span>{% endhighlight %} As permissões do arquivo1 foram alteradas com base no arquivo2 e  ficaram iguais. Você&nbsp;também pode alterar&nbsp;&nbsp;grupos dos arquivos com o  comando chgrp. Para fazer com que o grupo de arquivo1&nbsp;seja igual ao do  arquivo2 digite:  {% highlight bash %}<span style="color: #003366;">root@cubian:/home/clediomir/arquivos# chgrp --reference arquivo2 arquivo1</span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">root@cubian:/home/clediomir/arquivos# ls -l</span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">total 0</span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">-rwxr-xr-x 1<span style="color: red;"> root clediomir</span> 0 Abr 20 11:59 arquivo1</span>{% endhighlight %}{% highlight bash %}<span style="color: #003366;">-rwxr-xr-x 1 <span style="color: red;">clediomir clediomir</span> 0 Abr 20 11:59 arquivo2</span>{% endhighlight %} <span style="color: #003366;">{% highlight bash %}Obs: Para alterar o grupo eu voltei as permissões anteriores do <b>arquivo1</b>&nbsp;para o usuário e grupo antigo&nbsp;<b><span style="color: #003366;">root:deluge</span></b>.{% endhighlight %}</span> Por enquanto é isso, até mais! ;)<br /><br />Por Clediomir Silva<br /><br />