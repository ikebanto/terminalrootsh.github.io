---
layout: post
title: Resolvendo "bad interpreter" no Bash
date: '2014-09-25T16:59:00.003-07:00'
description: Resolvendo "bad interpreter" no Bash
main-class: 'bash'
color: '#c2003a'
author: Marcos Oliveira
tags:
- Shell Script
- Dicas
modified_time: '2014-09-25T16:59:44.334-07:00'
thumbnail: http://1.bp.blogspot.com/-_gUy0yQTqZM/UkjQtOlbfaI/AAAAAAAACbc/bn9SFHwydy8/s72-c/shell+script2.png
twitter_text: Resolvendo "bad interpreter" no Bash
introduction: Resolvendo "bad interpreter" no Bash
---

<p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-_gUy0yQTqZM/UkjQtOlbfaI/AAAAAAAACbc/bn9SFHwydy8/s1600/shell+script2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-_gUy0yQTqZM/UkjQtOlbfaI/AAAAAAAACbc/bn9SFHwydy8/s320/shell+script2.png" /></a></div></p><p></p><p><b>Ao executar um script que você pegou ou baixou da internet, muitas vezes foi um script criado num <strike>Windows</strike>, ou baixou do <i>PasteBin</i>, e ao executá-lo, você recebe a seguinte mensagem:</p><p></p><p> {% highlight bash %}$ ./script.sh</p><p>: bad interpreter: No such file or directory{% endhighlight %} </p><p></p><p> </b></p><p><div class="adp"><b>$ cat script.sh</b></p><p><b>#!/bin/bash</b></p><p><b>echo "oi"</b></div><b> </p><p></p><p></p><p>- Hein? Mas está tudo certo, eu tenho um /bin/bash, o que está acontecendo?</p><p></p><p>Bom, vamos ver mais de perto:</p><p></p><p>$ cat -v script.sh&nbsp; # 'show nonprinting'</p><p>#!/bin/bash^M</p><p>echo "oi"^M</p><p></p><p></p><p></p><p>Ahá! Tem um ^M no final das linhas atrapalhando.</p><p>- Mas o que é isso?</p><p>Muito provavelmente a origem desde script é uma maquina windows. A explicação é o caracter newline. O windows precisa de 2 caracteres para simbolizar o fim de uma linha em um arquivo texto puro, a dupla \r\n (veja link para a wikipedia), porém os *nix não precisam do \r -- que o cat gentilmente mostrou como um ^M. Este caracter a mais atrapalha o interpretador, que não recebe um /bin/bash e sim /bin/bash\r -- e isso realmente não existe.</p><p></p><p>Como resolver? Existem dois programas para este fim: unix2dos e dos2unix (as vezes aparecem como unixtodos e dostounix) que convertem os finais de linha em casos como este. Se vc abrir um arquivo texto do *nix em um bloco de texto vai ver todas as quebras de linha substituidas por um quadrado preto e todas as linhas em uma só.</p><p></p><p>Caso vc não tenha um programa conversor, pode usar o SED</p><p></p><p> </b></p><p><div class="adp"><b>$ sed -i 's/\r$//' script.sh</b></p><p><b>$ ./script.sh</b></p><p><b>oi</b></div><b></p><p></p><p></p><p></p><p>O tr também poderia ser usado, mas não é tão amigável.</p><p></p><p> </b></p><p><div class="adp"><b>$ tr -d '\r' &lt; script.sh &gt; novo_script.sh</b></div><b></p><p></p><p></p><p></p><p>Este detalhe pode ser muito importante um dia!</b></p><p></p><p><u>Fonte</u>: <span style="color: blue;"><i>&nbsp;</i></span></p><p><span style="color: blue;"><i>http://peczenyj.blogspot.com.br/2007/07/resolvendo-problemas-comuns-2-bad.html</i></span>

</p>
