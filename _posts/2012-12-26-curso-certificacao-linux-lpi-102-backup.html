---
layout: post
title: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
date: '2012-12-26T13:09:00.000-08:00'
description: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
main-class: 'linux'
color: '#3b5998'
author: The Bang Bash
tags:
- Linux
- Dicas
- LPI
modified_time: '2013-05-03T07:16:05.841-07:00'
thumbnail: http://2.bp.blogspot.com/-RZXyiIOr1fY/UNtnbgJODTI/AAAAAAAAA5E/vFskjYfGdLE/s72-c/add-folder-to-archive.png
twitter_text: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
introduction: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-RZXyiIOr1fY/UNtnbgJODTI/AAAAAAAAA5E/vFskjYfGdLE/s1600/add-folder-to-archive.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-RZXyiIOr1fY/UNtnbgJODTI/AAAAAAAAA5E/vFskjYfGdLE/s1600/add-folder-to-archive.png" /></a></div><!-------------------------------------------------><script type="text/javascript"><!-- google_ad_client = "ca-pub-5528601613414387"; google_ad_host = "pub-1556223355139109"; /* quadrados */ google_ad_slot = "9713010559"; google_ad_width = 200; google_ad_height = 200; //</script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script><!-----------------------------------------------><b><br /></b><br /><blockquote class="tr_bq"><b>&nbsp;A compressão de dados é o ato de reduzir o espaço ocupado por dados num determinado dispositivo. Essa operação é realizada através de diversos algoritmos de compressão, reduzindo a quantidade de Bytes para representar um dado, sendo esse dado uma imagem, um texto, ou um arquivo (ficheiro) qualquer.</b><br /><br /><b>Comprimir dados destina-se também a retirar a redundância, baseando-se que muitos dados contêm informações redundantes que podem ou precisam ser eliminadas de alguma forma. Essa forma é através de uma regra, chamada de código ou protocolo, que, quando seguida, elimina os bits redundantes de informações, de modo a diminuir seu tamanho nos ficheiros. Por exemplo, a sequência "</b>AAAAAA<b>" que ocupa 6 bytes, poderia ser representada pela sequência "6A", que ocupa 2 bytes, economizando 67% de espaço.</b></blockquote><b><br /><u>&nbsp;Alguns compactadores de arquivos:</u><br /><br /> </b><br /><div class="separator" style="clear: both; text-align: center;"><b><a href="http://1.bp.blogspot.com/-BcR_sDb8yRo/UNtlqgJvYxI/AAAAAAAAA4c/8kYcPn1lHAw/s1600/compactadores+do+linux.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://1.bp.blogspot.com/-BcR_sDb8yRo/UNtlqgJvYxI/AAAAAAAAA4c/8kYcPn1lHAw/s400/compactadores+do+linux.png" width="72" /></a></b></div><b> <br /><br />&nbsp;<span style="font-size: large;">TAR</span><br /><br />&nbsp;<i><u>MIME: &nbsp;&nbsp; &nbsp;application/x-tar</u></i></b><br /><blockquote class="tr_bq"><b>&nbsp;TAR ou tar (abreviatura de Tape ARchive), é um formato de arquivamento de arquivos (ficheiros). Apesar do nome "tar" ser derivado de "tape archive", o seu uso não se restringe a fitas magnéticas. Ele se tornou largamente usado para armazenar vários arquivos em um único, preservando informações como datas e permissões. Normalmente é produzido pelo comando "tar". </b></blockquote><b><br /><u>&nbsp;Algumas das opções mais frequentes:</u>{% highlight bash %}<br /><br />&nbsp;&nbsp;&nbsp; -c - cria um novo arquivo tar;<br />&nbsp;&nbsp;&nbsp; -M - cria, lista ou extrai um arquivo multivolume;<br />&nbsp;&nbsp;&nbsp; -p - mantém as permissões originais do(s) arquivo(s);<br />&nbsp;&nbsp;&nbsp; -r - acrescenta arquivos a um arquivo tar;<br />&nbsp;&nbsp;&nbsp; -t - exibe o conteúdo de um arquivo tar;<br />&nbsp;&nbsp;&nbsp; -v - exibe detalhes da operação;<br />&nbsp;&nbsp;&nbsp; -w - pede confirmação antes de cada ação;<br />&nbsp;&nbsp;&nbsp; -x - extrai arquivos de um arquivo tar;<br />&nbsp;&nbsp;&nbsp; -z - comprime ou extrai arquivos tar resultante com o gzip;<br />&nbsp;&nbsp;&nbsp; -j - comprime ou extrai arquivos tar resultante com o bz2;<br />&nbsp;&nbsp;&nbsp; -f - especifica o arquivo tar a ser usado;<br />&nbsp;&nbsp;&nbsp; -C - especifica o diretório dos arquivos a serem armazenados.<br />&nbsp;&nbsp;{% endhighlight %} <br />&nbsp;<span style="font-size: large;">GZIP</span></b><br /><blockquote class="tr_bq"><b>&nbsp;Gzip é a abreviação de GNU zip, um Software Livre de compressão sem perda de dados, criado por Jean-loup Gailly e Mark Adler. O programa é baseado no algoritmo DEFLATE. A extensão gerada pelo gzip é o .gz, e seu formato contém apenas um arquivo comprimido. Em sistemas UNIX é comum gerar um arquivo contendo diversos outros arquivos com o programa tar, e depois comprimi-lo com o gzip, gerando um arquivo .tar.gz.</b><br /><br /><b>Não confundir com o formato ZIP.</b></blockquote><b><br /><span style="font-size: large;">&nbsp;TAR.BZ2</span></b><br /><blockquote class="tr_bq"><b>&nbsp;Formato de compactação de arquivos, muito utilizado em sistemas Unix-Like.</b></blockquote><b><br /><br />&nbsp;<span style="color: blue;">COMPACTAÇÃO</span><br /><br />Compactando arquivos .tar:<br /><br />{% highlight bash %}$&nbsp; tar -cf arquivo.tar [arquivo ou pasta]{% endhighlight %}<br /><br />Criando arquivos gzip(depois de ter criado o tar primeiro):<br /><br />{% highlight bash %}$&nbsp; gzip arquivo.tar{% endhighlight %}<br /><br />Compactando arquivos tar.gz (TAR com gzip de uma só vez):<br /><br />{% highlight bash %}$&nbsp; tar -zcvf arquivos.tar.gz [arquivo ou pasta]{% endhighlight %}<br /><br />Compactando arquivos no formato tar.bz2:<br /><br />{% highlight bash %}$&nbsp; tar -jcvf arquivos.tar.bz2 [arquivo ou pasta]{% endhighlight %}<br /><br />Compactando arquivos tar de uma outra forma:<br /><br />{% highlight bash %}$&nbsp; tar -c [arquivo ou pasta] &gt; arquivo.tar{% endhighlight %}<br /><br />Compactando outros formatos (rar, zip e afins):<br /><br />&nbsp;Instale o suporte:<br /><br />{% highlight bash %}#&nbsp; apt-get install rar unrar p7zip{% endhighlight %}<br /><br />{% highlight bash %}$ rar a arquivo.rar [arquivo ou pasta]{% endhighlight %}<br />{% highlight bash %}$ zip -r arquivo.zip [arquivo ou pasta]{% endhighlight %}<br /><br /><span style="color: red;">&nbsp;DESCOMPACTAÇÃO</span><br /><br />Descompactando arquivos .tar:<br /><br />{% highlight bash %}$&nbsp; tar -xf arquivo.tar [arquivo ou pasta]{% endhighlight %}<br /><br />Descompactando arquivos gzip(depois de ter criado o tar primeiro):<br /><br />{% highlight bash %}$&nbsp; gzip -d arquivo.tar.gz{% endhighlight %}<br /><br />Descompactando arquivos tar.gz (TAR com gzip de uma só vez):<br /><br />{% highlight bash %}$&nbsp; tar -zxvf arquivos.tar.gz{% endhighlight %}<br /><br />Descompactando arquivos no formato tar.bz2:<br /><br />{% highlight bash %}$&nbsp; tar -jxvf arquivos.tar.bz2 [arquivo ou pasta]{% endhighlight %}<br /><br />Descompactando outros formatos(rar, zip e afins):<br /><br />&nbsp;Instale o suporte:<br /><br />{% highlight bash %}#&nbsp; apt-get install rar unrar p7zip{% endhighlight %}<br /><br />{% highlight bash %}$ rar -e arquivo.rar{% endhighlight %}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ou<br />{% highlight bash %}$ unrar x arquivo.rar{% endhighlight %}<br /><br />{% highlight bash %}$ unzip arquivo.zip{% endhighlight %}<br /><br /><span style="font-size: x-large;">O comando <i>dd</i> (para Backup)</span></b><br /><blockquote class="tr_bq"><b>&nbsp;O comando dd é um clássico dos ambientes Unix-Like, com ele você pode fazer uma cópia exata de um arquivo, ou seja uma cópia bit a bit. Sintaxe básica:</b><br /><br /><b>&nbsp;&nbsp;&nbsp; dd if=origem of=destino </b></blockquote><b>&nbsp;&nbsp; <br />Exemplos:<br /><br /><br />Cópia do HD para um arquivo:<br /><br />{% highlight bash %}# dd if=/dev/sda of=~/backup_hd.img{% endhighlight %}<br /><br />Será feita uma cópia exata do HD dentro do diretório do root com o nome "backup_hd.img". Se quiser restaurar o "backp_hd.img" no /dev/sda2 (lembre que o sda2 deve ter pelo menos o mesmo tamanho do arquivo "backup.hd" se não os resultados poderão ser desastrosos):<br /><br />{% highlight bash %}# dd if=backup_hd.img of=/dev/sda2{% endhighlight %}<br /><br />Cópia de partição para o partição:<br /><br />{% highlight bash %}# dd if=/dev/sda9 of=/dev/sda11{% endhighlight %}<br /><br />Será feita cópia da partição /dev/sda9 para a /dev/sda11.<br /><br />Fazendo uma cópia do HD para um arquivo compactado:<br /><br />{% highlight bash %}# dd if=/dev/sda1 | gzip &gt; backup_hd.img.gz{% endhighlight %}<br /><br />e para descompactar:<br /><br />{% highlight bash %}# gzip -d -c backup_hd.img.gz | dd of=/dev/sda2{% endhighlight %}<br /><br />O comando acima está descompactando o arquivo beckup_hd.img.gz no HD em /dev/sda2.<br /><br />Criar uma imagem ISO:<br /><br />{% highlight bash %}# dd if=diretorio of=iso_do_diretorio.iso{% endhighlight %}<br /><br />Para visualizar progresso de cópia de arquivos, vá em outro terminal e execute:<br /><br />{% highlight bash %}$&nbsp; watch df -h{% endhighlight %}<br /><br />Para converter todos as letras maiúsculas de um documento para letras minúsculas:<br /><br />{% highlight bash %}$&nbsp; dd if=ficheiro1 of=ficheiro2 conv=lcase{% endhighlight %}<br /><br />Se quisermos converter todas as letras do ficheiro2 para maiúsculas:<br /><br />{% highlight bash %}$&nbsp; dd if=ficheiro2 of=ficheiro3 conv=ucase{% endhighlight %}<br /><br />Para zerar (formatar) o seu HD (use com cuidado!):<br /><br />{% highlight bash %}# dd if=/dev/zero of=/dev/hda{% endhighlight %}<br /><br />Gerar senhas de forma (pseudo) aleatória:<br /><br />{% highlight bash %}$&nbsp; dd if=/dev/random bs=2 count=6 | base64 -<br />r2KWFW83e9nTniVR<br />6+0 registros de entrada<br />6+0 registros de saída<br />12 bytes (12 B) copiados, 0,000100641 s, 119 kB/s{% endhighlight %}<br /><br />Para automatizar tarefas, você pode utilizar o Cron e Crontab, veja esse post para mais informações:<br /><a href="http://marcospinguim.blogspot.com.br/2011/11/como-utilizar-o-crontab.html" target="_blank"> Como utilizar o Crontab </a></b>