---
layout: post
title: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
date: '2012-12-26T13:09:00.000-08:00'
description: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
main-class: 'linux'
color: '#3b5998'
author: The Bang Bash
tags:
- Linux
- Dicas
- LPI
modified_time: '2013-05-03T07:16:05.841-07:00'
thumbnail: http://2.bp.blogspot.com/-RZXyiIOr1fY/UNtnbgJODTI/AAAAAAAAA5E/vFskjYfGdLE/s72-c/add-folder-to-archive.png
twitter_text: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
introduction: 'Curso Certificação Linux LPI-102: Backup, compactação e descompactação'
---

<p>
</b>
<blockquote class="tr_bq"><b>A compressão de dados é o ato de reduzir o espaço ocupado por dados num determinado dispositivo. Essa operação é realizada através de diversos algoritmos de compressão, reduzindo a quantidade de Bytes para representar um dado, sendo esse dado uma imagem, um texto, ou um arquivo (ficheiro) qualquer.</b>

<b>Comprimir dados destina-se também a retirar a redundância, baseando-se que muitos dados contêm informações redundantes que podem ou precisam ser eliminadas de alguma forma. Essa forma é através de uma regra, chamada de código ou protocolo, que, quando seguida, elimina os bits redundantes de informações, de modo a diminuir seu tamanho nos ficheiros. Por exemplo, a sequência "</b>AAAAAA<b>" que ocupa 6 bytes, poderia ser representada pela sequência "6A", que ocupa 2 bytes, economizando 67% de espaço.</b></blockquote><b>
<u>Alguns compactadores de arquivos:</u>

 </b>
<div class="separator" style="clear: both; text-align: center;"><b><a href="http://1.bp.blogspot.com/-BcR_sDb8yRo/UNtlqgJvYxI/AAAAAAAAA4c/8kYcPn1lHAw/s1600/compactadores+do+linux.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://1.bp.blogspot.com/-BcR_sDb8yRo/UNtlqgJvYxI/AAAAAAAAA4c/8kYcPn1lHAw/s400/compactadores+do+linux.png" width="72" /></a></b></div><b> 

<span style="font-size: large;">TAR</span>

<i><u>MIME:  application/x-tar</u></i></b>
<blockquote class="tr_bq"><b>TAR ou tar (abreviatura de Tape ARchive), é um formato de arquivamento de arquivos (ficheiros). Apesar do nome "tar" ser derivado de "tape archive", o seu uso não se restringe a fitas magnéticas. Ele se tornou largamente usado para armazenar vários arquivos em um único, preservando informações como datas e permissões. Normalmente é produzido pelo comando "tar". </b></blockquote><b>
Algumas das opções mais frequentes:{% highlight bash %}


 -c - cria um novo arquivo tar;
 -M - cria, lista ou extrai um arquivo multivolume;
 -p - mantém as permissões originais do(s) arquivo(s);
 -r - acrescenta arquivos a um arquivo tar;
 -t - exibe o conteúdo de um arquivo tar;
 -v - exibe detalhes da operação;
 -w - pede confirmação antes de cada ação;
 -x - extrai arquivos de um arquivo tar;
 -z - comprime ou extrai arquivos tar resultante com o gzip;
 -j - comprime ou extrai arquivos tar resultante com o bz2;
 -f - especifica o arquivo tar a ser usado;
 -C - especifica o diretório dos arquivos a serem armazenados.

{% endhighlight %} 
<span style="font-size: large;">GZIP</span></b>
<blockquote class="tr_bq"><b>Gzip é a abreviação de GNU zip, um Software Livre de compressão sem perda de dados, criado por Jean-loup Gailly e Mark Adler. O programa é baseado no algoritmo DEFLATE. A extensão gerada pelo gzip é o .gz, e seu formato contém apenas um arquivo comprimido. Em sistemas UNIX é comum gerar um arquivo contendo diversos outros arquivos com o programa tar, e depois comprimi-lo com o gzip, gerando um arquivo .tar.gz.</b>

<b>Não confundir com o formato ZIP.</b></blockquote><b>
<span style="font-size: large;">TAR.BZ2</span></b>
<blockquote class="tr_bq"><b>Formato de compactação de arquivos, muito utilizado em sistemas Unix-Like.</b></blockquote><b>

<span style="color: blue;">COMPACTAÇÃO</span>

Compactando arquivos .tar:

{% highlight bash %}
$ tar -cf arquivo.tar [arquivo ou pasta]
{% endhighlight %}

Criando arquivos gzip(depois de ter criado o tar primeiro):

{% highlight bash %}
$ gzip arquivo.tar
{% endhighlight %}

Compactando arquivos tar.gz (TAR com gzip de uma só vez):

{% highlight bash %}
$ tar -zcvf arquivos.tar.gz [arquivo ou pasta]
{% endhighlight %}

Compactando arquivos no formato tar.bz2:

{% highlight bash %}
$ tar -jcvf arquivos.tar.bz2 [arquivo ou pasta]
{% endhighlight %}

Compactando arquivos tar de uma outra forma:

{% highlight bash %}
$ tar -c [arquivo ou pasta] > arquivo.tar
{% endhighlight %}

Compactando outros formatos (rar, zip e afins):

Instale o suporte:

{% highlight bash %}
# apt-get install rar unrar p7zip
{% endhighlight %}

{% highlight bash %}
$ rar a arquivo.rar [arquivo ou pasta]
{% endhighlight %}
{% highlight bash %}
$ zip -r arquivo.zip [arquivo ou pasta]
{% endhighlight %}

<span style="color: red;">DESCOMPACTAÇÃO</span>

Descompactando arquivos .tar:

{% highlight bash %}
$ tar -xf arquivo.tar [arquivo ou pasta]
{% endhighlight %}

Descompactando arquivos gzip(depois de ter criado o tar primeiro):

{% highlight bash %}
$ gzip -d arquivo.tar.gz
{% endhighlight %}

Descompactando arquivos tar.gz (TAR com gzip de uma só vez):

{% highlight bash %}
$ tar -zxvf arquivos.tar.gz
{% endhighlight %}

Descompactando arquivos no formato tar.bz2:

{% highlight bash %}
$ tar -jxvf arquivos.tar.bz2 [arquivo ou pasta]
{% endhighlight %}

Descompactando outros formatos(rar, zip e afins):

Instale o suporte:

{% highlight bash %}
# apt-get install rar unrar p7zip
{% endhighlight %}

{% highlight bash %}
$ rar -e arquivo.rar
{% endhighlight %}
 ou
{% highlight bash %}
$ unrar x arquivo.rar
{% endhighlight %}

{% highlight bash %}
$ unzip arquivo.zip
{% endhighlight %}

<span style="font-size: x-large;">O comando <i>dd</i> (para Backup)</span></b>
<blockquote class="tr_bq"><b>O comando dd é um clássico dos ambientes Unix-Like, com ele você pode fazer uma cópia exata de um arquivo, ou seja uma cópia bit a bit. Sintaxe básica:</b>

<b> dd if=origem of=destino </b></blockquote><b> 
Exemplos:


Cópia do HD para um arquivo:

{% highlight bash %}
# dd if=/dev/sda of=~/backup_hd.img
{% endhighlight %}

Será feita uma cópia exata do HD dentro do diretório do root com o nome "backup_hd.img". Se quiser restaurar o "backp_hd.img" no /dev/sda2 (lembre que o sda2 deve ter pelo menos o mesmo tamanho do arquivo "backup.hd" se não os resultados poderão ser desastrosos):

{% highlight bash %}
# dd if=backup_hd.img of=/dev/sda2
{% endhighlight %}

Cópia de partição para o partição:

{% highlight bash %}
# dd if=/dev/sda9 of=/dev/sda11
{% endhighlight %}

Será feita cópia da partição /dev/sda9 para a /dev/sda11.

Fazendo uma cópia do HD para um arquivo compactado:

{% highlight bash %}
# dd if=/dev/sda1 | gzip > backup_hd.img.gz
{% endhighlight %}

e para descompactar:

{% highlight bash %}
# gzip -d -c backup_hd.img.gz | dd of=/dev/sda2
{% endhighlight %}

O comando acima está descompactando o arquivo beckup_hd.img.gz no HD em /dev/sda2.

Criar uma imagem ISO:

{% highlight bash %}
# dd if=diretorio of=iso_do_diretorio.iso
{% endhighlight %}

Para visualizar progresso de cópia de arquivos, vá em outro terminal e execute:

{% highlight bash %}
$ watch df -h
{% endhighlight %}

Para converter todos as letras maiúsculas de um documento para letras minúsculas:

{% highlight bash %}
$ dd if=ficheiro1 of=ficheiro2 conv=lcase
{% endhighlight %}

Se quisermos converter todas as letras do ficheiro2 para maiúsculas:

{% highlight bash %}
$ dd if=ficheiro2 of=ficheiro3 conv=ucase
{% endhighlight %}

Para zerar (formatar) o seu HD (use com cuidado!):

{% highlight bash %}
# dd if=/dev/zero of=/dev/hda
{% endhighlight %}

Gerar senhas de forma (pseudo) aleatória:

{% highlight bash %}
$ dd if=/dev/random bs=2 count=6 | base64 -
r2KWFW83e9nTniVR
6+0 registros de entrada
6+0 registros de saída
12 bytes (12 B) copiados, 0,000100641 s, 119 kB/s
{% endhighlight %}

Para automatizar tarefas, você pode utilizar o Cron e Crontab, veja esse post para mais informações:
<a href="http://marcospinguim.blogspot.com.br/2011/11/como-utilizar-o-crontab.html" target="_blank"> Como utilizar o Crontab </a></b>

</p>
